<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ui: home screen - monochrome launcher icon - SnapEnhance - An Xposed module offering an enhanced Snapchat experience
</title>
<link rel="icon" type="image/svg+xml" href="../../logo.png"/>
<link rel="alternate icon" href="../../favicon.png"/>
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<link rel="stylesheet" type="text/css" href="../../fonts.css" />
</head>
<body>
<div id="head"><table><tr><td><a class="logo" href="../../"><img src="../../logo.png" alt="" width="32" height="32" /></a></td><td><strong>SnapEnhance</strong><span class="desc"> - An Xposed module offering an enhanced Snapchat experience
</span>
</td></tr></table>
<p><a href="../about.html">About</a> | <a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">License</a></p>
</div>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/e4cab94ec789e6eb52e3f683ab148e11bbec9435.html">e4cab94ec789e6eb52e3f683ab148e11bbec9435</a>
<b>parent</b> <a href="../commit/304bd9fe943159ba2fc2db5ff9970b7bec698cf0.html">304bd9fe943159ba2fc2db5ff9970b7bec698cf0</a>
<b>Author:</b> rhunk &lt;<a href="mailto:101876869+rhunk@users.noreply.github.com">101876869+rhunk@users.noreply.github.com</a>&gt;
<b>Date:</b>   Fri, 28 Jul 2023 22:20:41 +0200

ui: home screen
- monochrome launcher icon

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">app/build.gradle.kts</a></td><td> | </td><td class="num">4</td><td><span class="i">++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">app/src/main/AndroidManifest.xml</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a></td><td> | </td><td class="num">32</td><td><span class="i">+++++++++</span><span class="d">-----------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a></td><td> | </td><td class="num">158</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d">-------------------------------------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a></td><td> | </td><td class="num">62</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a></td><td> | </td><td class="num">2</td><td><span class="i"></span><span class="d">--</span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a></td><td> | </td><td class="num">17</td><td><span class="i">+++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a></td><td> | </td><td class="num">5</td><td><span class="i">+++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h9">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/FeaturesSection.kt</a></td><td> | </td><td class="num">53</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h10">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a></td><td> | </td><td class="num">109</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a></td><td> | </td><td class="num">16</td><td><span class="i">+++++++++</span><span class="d">-------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h12">app/src/main/res/drawable/launcher_icon_monochrome.xml</a></td><td> | </td><td class="num">26</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">app/src/main/res/mipmap-anydpi-v26/launcher_icon.xml</a></td><td> | </td><td class="num">7</td><td><span class="i">+++++++</span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h14">core/src/main/res/mipmap-anydpi-v26/launcher_icon.xml -&gt; app/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h15">core/src/main/res/mipmap-hdpi/launcher_icon_foreground.png -&gt; app/src/main/res/mipmap-hdpi/launcher_icon_foreground.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h16">core/src/main/res/mipmap-hdpi/launcher_icon_round.png -&gt; app/src/main/res/mipmap-hdpi/launcher_icon_round.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h17">core/src/main/res/mipmap-mdpi/launcher_icon_foreground.png -&gt; app/src/main/res/mipmap-mdpi/launcher_icon_foreground.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h18">core/src/main/res/mipmap-mdpi/launcher_icon_round.png -&gt; app/src/main/res/mipmap-mdpi/launcher_icon_round.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h19">core/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png -&gt; app/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h20">core/src/main/res/mipmap-xhdpi/launcher_icon_round.png -&gt; app/src/main/res/mipmap-xhdpi/launcher_icon_round.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h21">core/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png -&gt; app/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h22">core/src/main/res/mipmap-xxhdpi/launcher_icon_round.png -&gt; app/src/main/res/mipmap-xxhdpi/launcher_icon_round.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h23">core/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png -&gt; app/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h24">core/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png -&gt; app/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h25">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeClient.kt</a></td><td> | </td><td class="num">1</td><td><span class="i"></span><span class="d">-</span></td></tr>
<tr><td class="A">A</td><td><a href="#h26">core/src/main/kotlin/me/rhunk/snapenhance/bridge/FileLoaderWrapper.kt</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h27">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/ConfigWrapper.kt</a></td><td> | </td><td class="num">27</td><td><span class="i">++++++++</span><span class="d">-------------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h28">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/MappingsWrapper.kt</a></td><td> | </td><td class="num">158</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="D">D</td><td><a href="#h29">core/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml</a></td><td> | </td><td class="num">6</td><td><span class="i"></span><span class="d">------</span></td></tr>
</table></pre><pre>30 files changed, 617 insertions(+), 150 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/app/build.gradle.kts.html">app/build.gradle.kts</a> b/<a href="../file/app/build.gradle.kts.html">app/build.gradle.kts</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -85,6 +85,10 @@ dependencies {
</a>     implementation(libs.androidx.activity.ktx)
     implementation(libs.androidx.material3)
     implementation(libs.androidx.material)
<a href="#h0-0-3" id="h0-0-3" class="i">+
</a><a href="#h0-0-4" id="h0-0-4" class="i">+    debugImplementation(&quot;androidx.compose.ui:ui-tooling:1.4.3&quot;)
</a><a href="#h0-0-5" id="h0-0-5" class="i">+    implementation(&quot;androidx.compose.ui:ui-tooling-preview:1.4.3&quot;)
</a><a href="#h0-0-6" id="h0-0-6" class="i">+    implementation(kotlin(&quot;reflect&quot;))
</a> }
 
 afterEvaluate {
<b>diff --git a/<a id="h1" href="../file/app/src/main/AndroidManifest.xml.html">app/src/main/AndroidManifest.xml</a> b/<a href="../file/app/src/main/AndroidManifest.xml.html">app/src/main/AndroidManifest.xml</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -7,16 +7,16 @@
</a>     &lt;uses-permission android:name=&quot;android.permission.DOWNLOAD_WITHOUT_NOTIFICATION&quot; /&gt;
     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
 
<a href="#h1-0-3" id="h1-0-3" class="d">-    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;
</a><a href="#h1-0-4" id="h1-0-4" class="d">-    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;
</a><a href="#h1-0-5" id="h1-0-5" class="d">-        tools:ignore=&quot;ScopedStorage&quot; /&gt;
</a><a href="#h1-0-6" id="h1-0-6" class="d">-    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;
</a><a href="#h1-0-7" id="h1-0-7" class="d">-        tools:ignore=&quot;ScopedStorage&quot; /&gt;
</a><a href="#h1-0-8" id="h1-0-8" class="i">+    &lt;queries&gt;
</a><a href="#h1-0-9" id="h1-0-9" class="i">+        &lt;package android:name=&quot;com.snapchat.android&quot; /&gt;
</a><a href="#h1-0-10" id="h1-0-10" class="i">+    &lt;/queries&gt;
</a><a href="#h1-0-11" id="h1-0-11" class="i">+
</a>     &lt;application
         android:usesCleartextTraffic=&quot;true&quot;
         android:requestLegacyExternalStorage=&quot;true&quot;
         android:label=&quot;@string/app_name&quot;
<a href="#h1-0-16" id="h1-0-16" class="d">-        tools:targetApi=&quot;31&quot;
</a><a href="#h1-0-17" id="h1-0-17" class="i">+        tools:targetApi=&quot;34&quot;
</a><a href="#h1-0-18" id="h1-0-18" class="i">+        android:enableOnBackInvokedCallback=&quot;true&quot;
</a>         android:icon=&quot;@mipmap/launcher_icon&quot;&gt;
         &lt;meta-data
             android:name=&quot;xposedmodule&quot;
<b>diff --git a/<a id="h2" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -16,10 +16,12 @@ import androidx.compose.material3.MaterialTheme
</a> import androidx.compose.material3.Scaffold
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.Modifier
<a href="#h2-0-3" id="h2-0-3" class="i">+import androidx.compose.ui.tooling.preview.Preview
</a> import androidx.navigation.compose.NavHost
 import androidx.navigation.compose.composable
 import androidx.navigation.compose.navigation
 import androidx.navigation.compose.rememberNavController
<a href="#h2-0-8" id="h2-0-8" class="i">+import me.rhunk.snapenhance.manager.data.ManagerContext
</a> 
 class MainActivity : ComponentActivity() {
     @SuppressLint(&quot;UnusedMaterialScaffoldPaddingParameter&quot;)
<a href="#h2-1" id="h2-1" class="h">@@ -27,39 +29,23 @@ class MainActivity : ComponentActivity() {
</a>         super.onCreate(savedInstanceState)
 
         setContent {
<a href="#h2-1-3" id="h2-1-3" class="d">-            App()
</a><a href="#h2-1-4" id="h2-1-4" class="i">+            App(ManagerContext(this))
</a>         }
     }
 }
 
<a href="#h2-1-9" id="h2-1-9" class="d">-@OptIn(ExperimentalMaterial3Api::class)
</a> @Composable
<a href="#h2-1-11" id="h2-1-11" class="d">-fun App() {
</a><a href="#h2-1-12" id="h2-1-12" class="i">+fun App(
</a><a href="#h2-1-13" id="h2-1-13" class="i">+    context: ManagerContext
</a><a href="#h2-1-14" id="h2-1-14" class="i">+) {
</a>     val navController = rememberNavController()
<a href="#h2-1-16" id="h2-1-16" class="i">+    val navigation = Navigation(context)
</a>     AppMaterialTheme {
         Scaffold(
<a href="#h2-1-19" id="h2-1-19" class="d">-            topBar = {
</a><a href="#h2-1-20" id="h2-1-20" class="d">-                TopAppBar(
</a><a href="#h2-1-21" id="h2-1-21" class="d">-                    title = { Text(text = &quot;SnapEnhance&quot;) },
</a><a href="#h2-1-22" id="h2-1-22" class="d">-                    actions = {
</a><a href="#h2-1-23" id="h2-1-23" class="d">-                        IconButton(onClick = { /*TODO*/ }) {
</a><a href="#h2-1-24" id="h2-1-24" class="d">-                            Icon(Icons.Filled.Settings, contentDescription = &quot;Settings&quot;)
</a><a href="#h2-1-25" id="h2-1-25" class="d">-                        }
</a><a href="#h2-1-26" id="h2-1-26" class="d">-                    }
</a><a href="#h2-1-27" id="h2-1-27" class="d">-                )
</a><a href="#h2-1-28" id="h2-1-28" class="d">-            },
</a>             containerColor = MaterialTheme.colorScheme.background,
<a href="#h2-1-30" id="h2-1-30" class="d">-            bottomBar = { NavBar(navController = navController) }
</a><a href="#h2-1-31" id="h2-1-31" class="i">+            bottomBar = { navigation.NavBar(navController = navController) }
</a>         ) { innerPadding -&gt;
<a href="#h2-1-33" id="h2-1-33" class="d">-            NavHost(navController, startDestination = &quot;main&quot;, Modifier.padding(innerPadding)) {
</a><a href="#h2-1-34" id="h2-1-34" class="d">-                navigation(MainSections.HOME.route, &quot;main&quot;) {
</a><a href="#h2-1-35" id="h2-1-35" class="d">-                    MainSections.values().toList().forEach { section -&gt;
</a><a href="#h2-1-36" id="h2-1-36" class="d">-                        composable(section.route) {
</a><a href="#h2-1-37" id="h2-1-37" class="d">-                            section.content()
</a><a href="#h2-1-38" id="h2-1-38" class="d">-                        }
</a><a href="#h2-1-39" id="h2-1-39" class="d">-                    }
</a><a href="#h2-1-40" id="h2-1-40" class="d">-                }
</a><a href="#h2-1-41" id="h2-1-41" class="d">-            }
</a><a href="#h2-1-42" id="h2-1-42" class="i">+            navigation.NavigationHost(navController = navController, innerPadding = innerPadding)
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h3" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -1,113 +1,100 @@
</a> package me.rhunk.snapenhance.manager
 
 import androidx.compose.animation.core.animateDpAsState
<a href="#h3-0-3" id="h3-0-3" class="i">+import androidx.compose.foundation.layout.PaddingValues
</a> import androidx.compose.foundation.layout.fillMaxHeight
 import androidx.compose.foundation.layout.offset
<a href="#h3-0-6" id="h3-0-6" class="i">+import androidx.compose.foundation.layout.padding
</a> import androidx.compose.foundation.layout.requiredWidth
<a href="#h3-0-8" id="h3-0-8" class="d">-import androidx.compose.material.icons.Icons
</a><a href="#h3-0-9" id="h3-0-9" class="d">-import androidx.compose.material.icons.filled.BugReport
</a><a href="#h3-0-10" id="h3-0-10" class="d">-import androidx.compose.material.icons.filled.Download
</a><a href="#h3-0-11" id="h3-0-11" class="d">-import androidx.compose.material.icons.filled.Group
</a><a href="#h3-0-12" id="h3-0-12" class="d">-import androidx.compose.material.icons.filled.Home
</a><a href="#h3-0-13" id="h3-0-13" class="d">-import androidx.compose.material.icons.filled.Stars
</a> import androidx.compose.material3.Icon
 import androidx.compose.material3.NavigationBar
 import androidx.compose.material3.NavigationBarItem
 import androidx.compose.material3.Text
 import androidx.compose.runtime.Composable
 import androidx.compose.runtime.getValue
<a href="#h3-0-20" id="h3-0-20" class="i">+import androidx.compose.runtime.remember
</a> import androidx.compose.ui.Modifier
<a href="#h3-0-22" id="h3-0-22" class="d">-import androidx.compose.ui.graphics.vector.ImageVector
</a> import androidx.compose.ui.unit.dp
 import androidx.navigation.NavController
 import androidx.navigation.NavDestination.Companion.hierarchy
 import androidx.navigation.NavGraph.Companion.findStartDestination
<a href="#h3-0-27" id="h3-0-27" class="i">+import androidx.navigation.NavHostController
</a><a href="#h3-0-28" id="h3-0-28" class="i">+import androidx.navigation.compose.NavHost
</a><a href="#h3-0-29" id="h3-0-29" class="i">+import androidx.navigation.compose.composable
</a> import androidx.navigation.compose.currentBackStackEntryAsState
<a href="#h3-0-31" id="h3-0-31" class="d">-import me.rhunk.snapenhance.manager.sections.NotImplemented
</a><a href="#h3-0-32" id="h3-0-32" class="i">+import me.rhunk.snapenhance.manager.data.ManagerContext
</a> 
 
<a href="#h3-0-35" id="h3-0-35" class="d">-enum class MainSections(
</a><a href="#h3-0-36" id="h3-0-36" class="d">-    val route: String,
</a><a href="#h3-0-37" id="h3-0-37" class="d">-    val title: String,
</a><a href="#h3-0-38" id="h3-0-38" class="d">-    val icon: ImageVector,
</a><a href="#h3-0-39" id="h3-0-39" class="d">-    val content: @Composable () -&gt; Unit
</a><a href="#h3-0-40" id="h3-0-40" class="i">+class Navigation(
</a><a href="#h3-0-41" id="h3-0-41" class="i">+    private val context: ManagerContext
</a> ) {
<a href="#h3-0-43" id="h3-0-43" class="d">-    DOWNLOADS(
</a><a href="#h3-0-44" id="h3-0-44" class="d">-        route = &quot;downloads&quot;,
</a><a href="#h3-0-45" id="h3-0-45" class="d">-        title = &quot;Downloads&quot;,
</a><a href="#h3-0-46" id="h3-0-46" class="d">-        icon = Icons.Filled.Download,
</a><a href="#h3-0-47" id="h3-0-47" class="d">-        content = { NotImplemented() }
</a><a href="#h3-0-48" id="h3-0-48" class="d">-    ),
</a><a href="#h3-0-49" id="h3-0-49" class="d">-    FEATURES(
</a><a href="#h3-0-50" id="h3-0-50" class="d">-        route = &quot;features&quot;,
</a><a href="#h3-0-51" id="h3-0-51" class="d">-        title = &quot;Features&quot;,
</a><a href="#h3-0-52" id="h3-0-52" class="d">-        icon = Icons.Filled.Stars,
</a><a href="#h3-0-53" id="h3-0-53" class="d">-        content = { NotImplemented() }
</a><a href="#h3-0-54" id="h3-0-54" class="d">-    ),
</a><a href="#h3-0-55" id="h3-0-55" class="d">-    HOME(
</a><a href="#h3-0-56" id="h3-0-56" class="d">-        route = &quot;home&quot;,
</a><a href="#h3-0-57" id="h3-0-57" class="d">-        title = &quot;Home&quot;,
</a><a href="#h3-0-58" id="h3-0-58" class="d">-        icon = Icons.Filled.Home,
</a><a href="#h3-0-59" id="h3-0-59" class="d">-        content = { NotImplemented() }
</a><a href="#h3-0-60" id="h3-0-60" class="d">-    ),
</a><a href="#h3-0-61" id="h3-0-61" class="d">-    FRIENDS(
</a><a href="#h3-0-62" id="h3-0-62" class="d">-        route = &quot;friends&quot;,
</a><a href="#h3-0-63" id="h3-0-63" class="d">-        title = &quot;Friends&quot;,
</a><a href="#h3-0-64" id="h3-0-64" class="d">-        icon = Icons.Filled.Group,
</a><a href="#h3-0-65" id="h3-0-65" class="d">-        content = { NotImplemented() }
</a><a href="#h3-0-66" id="h3-0-66" class="d">-    ),
</a><a href="#h3-0-67" id="h3-0-67" class="d">-    DEBUG(
</a><a href="#h3-0-68" id="h3-0-68" class="d">-        route = &quot;debug&quot;,
</a><a href="#h3-0-69" id="h3-0-69" class="d">-        title = &quot;Debug&quot;,
</a><a href="#h3-0-70" id="h3-0-70" class="d">-        icon = Icons.Filled.BugReport,
</a><a href="#h3-0-71" id="h3-0-71" class="d">-        content = { NotImplemented() }
</a><a href="#h3-0-72" id="h3-0-72" class="d">-    );
</a><a href="#h3-0-73" id="h3-0-73" class="d">-}
</a><a href="#h3-0-74" id="h3-0-74" class="i">+    @Composable
</a><a href="#h3-0-75" id="h3-0-75" class="i">+    fun NavigationHost(
</a><a href="#h3-0-76" id="h3-0-76" class="i">+        navController: NavHostController,
</a><a href="#h3-0-77" id="h3-0-77" class="i">+        innerPadding: PaddingValues
</a><a href="#h3-0-78" id="h3-0-78" class="i">+    ) {
</a><a href="#h3-0-79" id="h3-0-79" class="i">+        val sections = remember { EnumSection.values().toList().map {
</a><a href="#h3-0-80" id="h3-0-80" class="i">+            it to it.section.constructors.first().call()
</a><a href="#h3-0-81" id="h3-0-81" class="i">+        }.onEach { (_, instance) -&gt;
</a><a href="#h3-0-82" id="h3-0-82" class="i">+            instance.manager = context
</a><a href="#h3-0-83" id="h3-0-83" class="i">+            instance.navController = navController
</a><a href="#h3-0-84" id="h3-0-84" class="i">+        } }
</a><a href="#h3-0-85" id="h3-0-85" class="i">+        val homeSection = EnumSection.HOME
</a> 
<a href="#h3-0-87" id="h3-0-87" class="d">-@Composable
</a><a href="#h3-0-88" id="h3-0-88" class="d">-fun NavBar(
</a><a href="#h3-0-89" id="h3-0-89" class="d">-    navController: NavController
</a><a href="#h3-0-90" id="h3-0-90" class="d">-) {
</a><a href="#h3-0-91" id="h3-0-91" class="d">-    NavigationBar {
</a><a href="#h3-0-92" id="h3-0-92" class="d">-        val navBackStackEntry by navController.currentBackStackEntryAsState()
</a><a href="#h3-0-93" id="h3-0-93" class="d">-        val currentDestination = navBackStackEntry?.destination
</a><a href="#h3-0-94" id="h3-0-94" class="d">-        MainSections.values().toList().forEach { section -&gt;
</a><a href="#h3-0-95" id="h3-0-95" class="d">-            fun selected() = currentDestination?.hierarchy?.any { it.route == section.route } == true
</a><a href="#h3-0-96" id="h3-0-96" class="i">+        NavHost(navController, startDestination = homeSection.route, Modifier.padding(innerPadding)) {
</a><a href="#h3-0-97" id="h3-0-97" class="i">+            sections.forEach { (section, instance) -&gt;
</a><a href="#h3-0-98" id="h3-0-98" class="i">+                composable(section.route) {
</a><a href="#h3-0-99" id="h3-0-99" class="i">+                    instance.Content()
</a><a href="#h3-0-100" id="h3-0-100" class="i">+                }
</a><a href="#h3-0-101" id="h3-0-101" class="i">+            }
</a><a href="#h3-0-102" id="h3-0-102" class="i">+        }
</a><a href="#h3-0-103" id="h3-0-103" class="i">+    }
</a><a href="#h3-0-104" id="h3-0-104" class="i">+
</a><a href="#h3-0-105" id="h3-0-105" class="i">+    @Composable
</a><a href="#h3-0-106" id="h3-0-106" class="i">+    fun NavBar(
</a><a href="#h3-0-107" id="h3-0-107" class="i">+        navController: NavController
</a><a href="#h3-0-108" id="h3-0-108" class="i">+    ) {
</a><a href="#h3-0-109" id="h3-0-109" class="i">+        NavigationBar {
</a><a href="#h3-0-110" id="h3-0-110" class="i">+            val navBackStackEntry by navController.currentBackStackEntryAsState()
</a><a href="#h3-0-111" id="h3-0-111" class="i">+            val currentDestination = navBackStackEntry?.destination
</a><a href="#h3-0-112" id="h3-0-112" class="i">+            EnumSection.values().toList().forEach { section -&gt;
</a><a href="#h3-0-113" id="h3-0-113" class="i">+                fun selected() = currentDestination?.hierarchy?.any { it.route == section.route } == true
</a> 
<a href="#h3-0-115" id="h3-0-115" class="d">-            NavigationBarItem(
</a><a href="#h3-0-116" id="h3-0-116" class="d">-                modifier = Modifier
</a><a href="#h3-0-117" id="h3-0-117" class="d">-                    .requiredWidth(120.dp)
</a><a href="#h3-0-118" id="h3-0-118" class="d">-                    .fillMaxHeight(),
</a><a href="#h3-0-119" id="h3-0-119" class="d">-                icon = {
</a><a href="#h3-0-120" id="h3-0-120" class="d">-                    val iconOffset by animateDpAsState(
</a><a href="#h3-0-121" id="h3-0-121" class="d">-                        if (selected()) 0.dp else 10.dp,
</a><a href="#h3-0-122" id="h3-0-122" class="d">-                        label = &quot;&quot;
</a><a href="#h3-0-123" id="h3-0-123" class="d">-                    )
</a><a href="#h3-0-124" id="h3-0-124" class="d">-                    Icon(
</a><a href="#h3-0-125" id="h3-0-125" class="d">-                        imageVector = section.icon,
</a><a href="#h3-0-126" id="h3-0-126" class="d">-                        contentDescription = null,
</a><a href="#h3-0-127" id="h3-0-127" class="d">-                        modifier = Modifier.offset(y = iconOffset)
</a><a href="#h3-0-128" id="h3-0-128" class="d">-                    )
</a><a href="#h3-0-129" id="h3-0-129" class="d">-                },
</a><a href="#h3-0-130" id="h3-0-130" class="i">+                NavigationBarItem(
</a><a href="#h3-0-131" id="h3-0-131" class="i">+                    modifier = Modifier
</a><a href="#h3-0-132" id="h3-0-132" class="i">+                        .requiredWidth(120.dp)
</a><a href="#h3-0-133" id="h3-0-133" class="i">+                        .fillMaxHeight(),
</a><a href="#h3-0-134" id="h3-0-134" class="i">+                    icon = {
</a><a href="#h3-0-135" id="h3-0-135" class="i">+                        val iconOffset by animateDpAsState(
</a><a href="#h3-0-136" id="h3-0-136" class="i">+                            if (selected()) 0.dp else 10.dp,
</a><a href="#h3-0-137" id="h3-0-137" class="i">+                            label = &quot;&quot;
</a><a href="#h3-0-138" id="h3-0-138" class="i">+                        )
</a><a href="#h3-0-139" id="h3-0-139" class="i">+                        Icon(
</a><a href="#h3-0-140" id="h3-0-140" class="i">+                            imageVector = section.icon,
</a><a href="#h3-0-141" id="h3-0-141" class="i">+                            contentDescription = null,
</a><a href="#h3-0-142" id="h3-0-142" class="i">+                            modifier = Modifier.offset(y = iconOffset)
</a><a href="#h3-0-143" id="h3-0-143" class="i">+                        )
</a><a href="#h3-0-144" id="h3-0-144" class="i">+                    },
</a> 
<a href="#h3-0-146" id="h3-0-146" class="d">-                label = {
</a><a href="#h3-0-147" id="h3-0-147" class="d">-                    val labelOffset by animateDpAsState(
</a><a href="#h3-0-148" id="h3-0-148" class="d">-                        if (selected()) 0.dp else (-5).dp,
</a><a href="#h3-0-149" id="h3-0-149" class="d">-                        label = &quot;&quot;
</a><a href="#h3-0-150" id="h3-0-150" class="d">-                    )
</a><a href="#h3-0-151" id="h3-0-151" class="d">-                    Text(text = if (selected()) section.title else &quot;&quot;, modifier = Modifier.offset(y = labelOffset))
</a><a href="#h3-0-152" id="h3-0-152" class="d">-                },
</a><a href="#h3-0-153" id="h3-0-153" class="d">-                selected = selected(),
</a><a href="#h3-0-154" id="h3-0-154" class="d">-                onClick = {
</a><a href="#h3-0-155" id="h3-0-155" class="d">-                    navController.navigate(section.route) {
</a><a href="#h3-0-156" id="h3-0-156" class="d">-                        popUpTo(navController.graph.findStartDestination().id) {
</a><a href="#h3-0-157" id="h3-0-157" class="d">-                            saveState = true
</a><a href="#h3-0-158" id="h3-0-158" class="i">+                    label = {
</a><a href="#h3-0-159" id="h3-0-159" class="i">+                        val labelOffset by animateDpAsState(
</a><a href="#h3-0-160" id="h3-0-160" class="i">+                            if (selected()) 0.dp else (-5).dp,
</a><a href="#h3-0-161" id="h3-0-161" class="i">+                            label = &quot;&quot;
</a><a href="#h3-0-162" id="h3-0-162" class="i">+                        )
</a><a href="#h3-0-163" id="h3-0-163" class="i">+                        Text(text = if (selected()) section.title else &quot;&quot;, modifier = Modifier.offset(y = labelOffset))
</a><a href="#h3-0-164" id="h3-0-164" class="i">+                    },
</a><a href="#h3-0-165" id="h3-0-165" class="i">+                    selected = selected(),
</a><a href="#h3-0-166" id="h3-0-166" class="i">+                    onClick = {
</a><a href="#h3-0-167" id="h3-0-167" class="i">+                        navController.navigate(section.route) {
</a><a href="#h3-0-168" id="h3-0-168" class="i">+                            popUpTo(navController.graph.findStartDestination().id) {
</a><a href="#h3-0-169" id="h3-0-169" class="i">+                                saveState = true
</a><a href="#h3-0-170" id="h3-0-170" class="i">+                            }
</a><a href="#h3-0-171" id="h3-0-171" class="i">+                            launchSingleTop = true
</a><a href="#h3-0-172" id="h3-0-172" class="i">+                            restoreState = true
</a>                         }
<a href="#h3-0-174" id="h3-0-174" class="d">-                        launchSingleTop = true
</a><a href="#h3-0-175" id="h3-0-175" class="d">-                        restoreState = true
</a>                     }
<a href="#h3-0-177" id="h3-0-177" class="d">-                }
</a><a href="#h3-0-178" id="h3-0-178" class="d">-            )
</a><a href="#h3-0-179" id="h3-0-179" class="i">+                )
</a><a href="#h3-0-180" id="h3-0-180" class="i">+            }
</a>         }
     }
<a href="#h3-0-183" id="h3-0-183" class="d">-}</a><a href="#h3-0-184" id="h3-0-184" class="d">-
\ No newline at end of file
</a><a href="#h3-0-185" id="h3-0-185" class="i">+}
</a><b>diff --git a/<a id="h4" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,61 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+package me.rhunk.snapenhance.manager
</a><a href="#h4-0-1" id="h4-0-1" class="i">+
</a><a href="#h4-0-2" id="h4-0-2" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h4-0-3" id="h4-0-3" class="i">+import androidx.compose.material.icons.filled.BugReport
</a><a href="#h4-0-4" id="h4-0-4" class="i">+import androidx.compose.material.icons.filled.Download
</a><a href="#h4-0-5" id="h4-0-5" class="i">+import androidx.compose.material.icons.filled.Group
</a><a href="#h4-0-6" id="h4-0-6" class="i">+import androidx.compose.material.icons.filled.Home
</a><a href="#h4-0-7" id="h4-0-7" class="i">+import androidx.compose.material.icons.filled.Stars
</a><a href="#h4-0-8" id="h4-0-8" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h4-0-9" id="h4-0-9" class="i">+import androidx.compose.ui.graphics.vector.ImageVector
</a><a href="#h4-0-10" id="h4-0-10" class="i">+import androidx.navigation.NavController
</a><a href="#h4-0-11" id="h4-0-11" class="i">+import me.rhunk.snapenhance.manager.data.ManagerContext
</a><a href="#h4-0-12" id="h4-0-12" class="i">+import me.rhunk.snapenhance.manager.sections.FeaturesSection
</a><a href="#h4-0-13" id="h4-0-13" class="i">+import me.rhunk.snapenhance.manager.sections.HomeSection
</a><a href="#h4-0-14" id="h4-0-14" class="i">+import me.rhunk.snapenhance.manager.sections.NotImplemented
</a><a href="#h4-0-15" id="h4-0-15" class="i">+import kotlin.reflect.KClass
</a><a href="#h4-0-16" id="h4-0-16" class="i">+
</a><a href="#h4-0-17" id="h4-0-17" class="i">+enum class EnumSection(
</a><a href="#h4-0-18" id="h4-0-18" class="i">+    val route: String,
</a><a href="#h4-0-19" id="h4-0-19" class="i">+    val title: String,
</a><a href="#h4-0-20" id="h4-0-20" class="i">+    val icon: ImageVector,
</a><a href="#h4-0-21" id="h4-0-21" class="i">+    val section: KClass&lt;out Section&gt; = NotImplemented::class
</a><a href="#h4-0-22" id="h4-0-22" class="i">+) {
</a><a href="#h4-0-23" id="h4-0-23" class="i">+    DOWNLOADS(
</a><a href="#h4-0-24" id="h4-0-24" class="i">+        route = &quot;downloads&quot;,
</a><a href="#h4-0-25" id="h4-0-25" class="i">+        title = &quot;Downloads&quot;,
</a><a href="#h4-0-26" id="h4-0-26" class="i">+        icon = Icons.Filled.Download
</a><a href="#h4-0-27" id="h4-0-27" class="i">+    ),
</a><a href="#h4-0-28" id="h4-0-28" class="i">+    FEATURES(
</a><a href="#h4-0-29" id="h4-0-29" class="i">+        route = &quot;features&quot;,
</a><a href="#h4-0-30" id="h4-0-30" class="i">+        title = &quot;Features&quot;,
</a><a href="#h4-0-31" id="h4-0-31" class="i">+        icon = Icons.Filled.Stars,
</a><a href="#h4-0-32" id="h4-0-32" class="i">+        section = FeaturesSection::class
</a><a href="#h4-0-33" id="h4-0-33" class="i">+    ),
</a><a href="#h4-0-34" id="h4-0-34" class="i">+    HOME(
</a><a href="#h4-0-35" id="h4-0-35" class="i">+        route = &quot;home&quot;,
</a><a href="#h4-0-36" id="h4-0-36" class="i">+        title = &quot;Home&quot;,
</a><a href="#h4-0-37" id="h4-0-37" class="i">+        icon = Icons.Filled.Home,
</a><a href="#h4-0-38" id="h4-0-38" class="i">+        section = HomeSection::class
</a><a href="#h4-0-39" id="h4-0-39" class="i">+    ),
</a><a href="#h4-0-40" id="h4-0-40" class="i">+    FRIENDS(
</a><a href="#h4-0-41" id="h4-0-41" class="i">+        route = &quot;friends&quot;,
</a><a href="#h4-0-42" id="h4-0-42" class="i">+        title = &quot;Friends&quot;,
</a><a href="#h4-0-43" id="h4-0-43" class="i">+        icon = Icons.Filled.Group
</a><a href="#h4-0-44" id="h4-0-44" class="i">+    ),
</a><a href="#h4-0-45" id="h4-0-45" class="i">+    DEBUG(
</a><a href="#h4-0-46" id="h4-0-46" class="i">+        route = &quot;debug&quot;,
</a><a href="#h4-0-47" id="h4-0-47" class="i">+        title = &quot;Debug&quot;,
</a><a href="#h4-0-48" id="h4-0-48" class="i">+        icon = Icons.Filled.BugReport
</a><a href="#h4-0-49" id="h4-0-49" class="i">+    );
</a><a href="#h4-0-50" id="h4-0-50" class="i">+}
</a><a href="#h4-0-51" id="h4-0-51" class="i">+
</a><a href="#h4-0-52" id="h4-0-52" class="i">+
</a><a href="#h4-0-53" id="h4-0-53" class="i">+
</a><a href="#h4-0-54" id="h4-0-54" class="i">+open class Section {
</a><a href="#h4-0-55" id="h4-0-55" class="i">+    lateinit var manager: ManagerContext
</a><a href="#h4-0-56" id="h4-0-56" class="i">+    lateinit var navController: NavController
</a><a href="#h4-0-57" id="h4-0-57" class="i">+
</a><a href="#h4-0-58" id="h4-0-58" class="i">+    @Composable
</a><a href="#h4-0-59" id="h4-0-59" class="i">+    open fun Content() { NotImplemented() }
</a><a href="#h4-0-60" id="h4-0-60" class="i">+}</a><a href="#h4-0-61" id="h4-0-61" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h5" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -74,8 +74,6 @@ val md_theme_dark_scrim = Color(0xFF000000)
</a> val seed = Color(0xFF6750A4)
 
 
<a href="#h5-0-3" id="h5-0-3" class="d">-
</a><a href="#h5-0-4" id="h5-0-4" class="d">-
</a> private val LightThemeColors = lightColorScheme(
     primary = md_theme_light_primary,
     onPrimary = md_theme_light_onPrimary,
<b>diff --git a/<a id="h6" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,17 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+package me.rhunk.snapenhance.manager.data
</a><a href="#h6-0-1" id="h6-0-1" class="i">+
</a><a href="#h6-0-2" id="h6-0-2" class="i">+
</a><a href="#h6-0-3" id="h6-0-3" class="i">+data class SnapchatAppInfo(
</a><a href="#h6-0-4" id="h6-0-4" class="i">+    val version: String,
</a><a href="#h6-0-5" id="h6-0-5" class="i">+    val versionCode: Long
</a><a href="#h6-0-6" id="h6-0-6" class="i">+)
</a><a href="#h6-0-7" id="h6-0-7" class="i">+
</a><a href="#h6-0-8" id="h6-0-8" class="i">+data class ModMappingsInfo(
</a><a href="#h6-0-9" id="h6-0-9" class="i">+    val generatedSnapchatVersion: Long,
</a><a href="#h6-0-10" id="h6-0-10" class="i">+    val isOutdated: Boolean
</a><a href="#h6-0-11" id="h6-0-11" class="i">+)
</a><a href="#h6-0-12" id="h6-0-12" class="i">+
</a><a href="#h6-0-13" id="h6-0-13" class="i">+data class InstallationSummary(
</a><a href="#h6-0-14" id="h6-0-14" class="i">+    val snapchatInfo: SnapchatAppInfo?,
</a><a href="#h6-0-15" id="h6-0-15" class="i">+    val mappingsInfo: ModMappingsInfo?
</a><a href="#h6-0-16" id="h6-0-16" class="i">+)
</a><b>diff --git a/<a id="h7" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,35 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+package me.rhunk.snapenhance.manager.data
</a><a href="#h7-0-1" id="h7-0-1" class="i">+
</a><a href="#h7-0-2" id="h7-0-2" class="i">+import android.content.Context
</a><a href="#h7-0-3" id="h7-0-3" class="i">+import me.rhunk.snapenhance.bridge.wrapper.ConfigWrapper
</a><a href="#h7-0-4" id="h7-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.MappingsWrapper
</a><a href="#h7-0-5" id="h7-0-5" class="i">+import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h7-0-6" id="h7-0-6" class="i">+
</a><a href="#h7-0-7" id="h7-0-7" class="i">+class ManagerContext(
</a><a href="#h7-0-8" id="h7-0-8" class="i">+    private val context: Context
</a><a href="#h7-0-9" id="h7-0-9" class="i">+) {
</a><a href="#h7-0-10" id="h7-0-10" class="i">+    private val config = ConfigWrapper()
</a><a href="#h7-0-11" id="h7-0-11" class="i">+    private val translation = TranslationWrapper()
</a><a href="#h7-0-12" id="h7-0-12" class="i">+    private val mappings = MappingsWrapper(context)
</a><a href="#h7-0-13" id="h7-0-13" class="i">+
</a><a href="#h7-0-14" id="h7-0-14" class="i">+    init {
</a><a href="#h7-0-15" id="h7-0-15" class="i">+        config.loadFromContext(context)
</a><a href="#h7-0-16" id="h7-0-16" class="i">+        translation.loadFromContext(context)
</a><a href="#h7-0-17" id="h7-0-17" class="i">+        mappings.apply { loadFromContext(context) }.init()
</a><a href="#h7-0-18" id="h7-0-18" class="i">+    }
</a><a href="#h7-0-19" id="h7-0-19" class="i">+
</a><a href="#h7-0-20" id="h7-0-20" class="i">+    fun getInstallationSummary() = InstallationSummary(
</a><a href="#h7-0-21" id="h7-0-21" class="i">+        snapchatInfo = mappings.getSnapchatPackageInfo()?.let {
</a><a href="#h7-0-22" id="h7-0-22" class="i">+            SnapchatAppInfo(
</a><a href="#h7-0-23" id="h7-0-23" class="i">+                version = it.versionName,
</a><a href="#h7-0-24" id="h7-0-24" class="i">+                versionCode = it.longVersionCode
</a><a href="#h7-0-25" id="h7-0-25" class="i">+            )
</a><a href="#h7-0-26" id="h7-0-26" class="i">+        },
</a><a href="#h7-0-27" id="h7-0-27" class="i">+        mappingsInfo = if (mappings.isMappingsLoaded()) {
</a><a href="#h7-0-28" id="h7-0-28" class="i">+            ModMappingsInfo(
</a><a href="#h7-0-29" id="h7-0-29" class="i">+                generatedSnapchatVersion = mappings.getGeneratedBuildNumber(),
</a><a href="#h7-0-30" id="h7-0-30" class="i">+                isOutdated = mappings.isMappingsOutdated()
</a><a href="#h7-0-31" id="h7-0-31" class="i">+            )
</a><a href="#h7-0-32" id="h7-0-32" class="i">+        } else null
</a><a href="#h7-0-33" id="h7-0-33" class="i">+    )
</a><a href="#h7-0-34" id="h7-0-34" class="i">+}</a><a href="#h7-0-35" id="h7-0-35" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h8" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,4 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+package me.rhunk.snapenhance.manager.sections
</a><a href="#h8-0-1" id="h8-0-1" class="i">+
</a><a href="#h8-0-2" id="h8-0-2" class="i">+class DebugSection {
</a><a href="#h8-0-3" id="h8-0-3" class="i">+}</a><a href="#h8-0-4" id="h8-0-4" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h9" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/FeaturesSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/FeaturesSection.kt</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -0,0 +1,52 @@
</a><a href="#h9-0-0" id="h9-0-0" class="i">+package me.rhunk.snapenhance.manager.sections
</a><a href="#h9-0-1" id="h9-0-1" class="i">+
</a><a href="#h9-0-2" id="h9-0-2" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h9-0-3" id="h9-0-3" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h9-0-4" id="h9-0-4" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h9-0-5" id="h9-0-5" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h9-0-6" id="h9-0-6" class="i">+import androidx.compose.foundation.layout.height
</a><a href="#h9-0-7" id="h9-0-7" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h9-0-8" id="h9-0-8" class="i">+import androidx.compose.foundation.lazy.LazyColumn
</a><a href="#h9-0-9" id="h9-0-9" class="i">+import androidx.compose.material3.OutlinedCard
</a><a href="#h9-0-10" id="h9-0-10" class="i">+import androidx.compose.material3.Text
</a><a href="#h9-0-11" id="h9-0-11" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h9-0-12" id="h9-0-12" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h9-0-13" id="h9-0-13" class="i">+import androidx.compose.ui.tooling.preview.Preview
</a><a href="#h9-0-14" id="h9-0-14" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h9-0-15" id="h9-0-15" class="i">+import androidx.compose.ui.unit.sp
</a><a href="#h9-0-16" id="h9-0-16" class="i">+import me.rhunk.snapenhance.manager.Section
</a><a href="#h9-0-17" id="h9-0-17" class="i">+
</a><a href="#h9-0-18" id="h9-0-18" class="i">+class FeaturesSection : Section() {
</a><a href="#h9-0-19" id="h9-0-19" class="i">+    @Composable
</a><a href="#h9-0-20" id="h9-0-20" class="i">+    @Preview
</a><a href="#h9-0-21" id="h9-0-21" class="i">+    override fun Content() {
</a><a href="#h9-0-22" id="h9-0-22" class="i">+        Column {
</a><a href="#h9-0-23" id="h9-0-23" class="i">+            Text(
</a><a href="#h9-0-24" id="h9-0-24" class="i">+                text = &quot;Features&quot;,
</a><a href="#h9-0-25" id="h9-0-25" class="i">+                modifier = Modifier.padding(all = 15.dp),
</a><a href="#h9-0-26" id="h9-0-26" class="i">+                fontSize = 20.sp
</a><a href="#h9-0-27" id="h9-0-27" class="i">+            )
</a><a href="#h9-0-28" id="h9-0-28" class="i">+            LazyColumn(
</a><a href="#h9-0-29" id="h9-0-29" class="i">+                modifier = Modifier
</a><a href="#h9-0-30" id="h9-0-30" class="i">+                    .fillMaxSize(),
</a><a href="#h9-0-31" id="h9-0-31" class="i">+                verticalArrangement = Arrangement.Center
</a><a href="#h9-0-32" id="h9-0-32" class="i">+            ) {
</a><a href="#h9-0-33" id="h9-0-33" class="i">+                items(100) { index -&gt;
</a><a href="#h9-0-34" id="h9-0-34" class="i">+                    OutlinedCard(
</a><a href="#h9-0-35" id="h9-0-35" class="i">+                        modifier = Modifier
</a><a href="#h9-0-36" id="h9-0-36" class="i">+                            .fillMaxWidth()
</a><a href="#h9-0-37" id="h9-0-37" class="i">+                            .padding(all = 10.dp)
</a><a href="#h9-0-38" id="h9-0-38" class="i">+                            .height(70.dp)
</a><a href="#h9-0-39" id="h9-0-39" class="i">+                    ) {
</a><a href="#h9-0-40" id="h9-0-40" class="i">+                        Column(
</a><a href="#h9-0-41" id="h9-0-41" class="i">+                            modifier = Modifier.fillMaxSize(),
</a><a href="#h9-0-42" id="h9-0-42" class="i">+                            verticalArrangement = Arrangement.Center
</a><a href="#h9-0-43" id="h9-0-43" class="i">+                        ) {
</a><a href="#h9-0-44" id="h9-0-44" class="i">+                            Text(text = &quot;Feature $index&quot;, modifier = Modifier.padding(all = 15.dp))
</a><a href="#h9-0-45" id="h9-0-45" class="i">+                        }
</a><a href="#h9-0-46" id="h9-0-46" class="i">+                    }
</a><a href="#h9-0-47" id="h9-0-47" class="i">+                }
</a><a href="#h9-0-48" id="h9-0-48" class="i">+            }
</a><a href="#h9-0-49" id="h9-0-49" class="i">+        }
</a><a href="#h9-0-50" id="h9-0-50" class="i">+    }
</a><a href="#h9-0-51" id="h9-0-51" class="i">+}</a><a href="#h9-0-52" id="h9-0-52" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h10" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -0,0 +1,108 @@
</a><a href="#h10-0-0" id="h10-0-0" class="i">+package me.rhunk.snapenhance.manager.sections
</a><a href="#h10-0-1" id="h10-0-1" class="i">+
</a><a href="#h10-0-2" id="h10-0-2" class="i">+import androidx.compose.foundation.ScrollState
</a><a href="#h10-0-3" id="h10-0-3" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h10-0-4" id="h10-0-4" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h10-0-5" id="h10-0-5" class="i">+import androidx.compose.foundation.layout.ExperimentalLayoutApi
</a><a href="#h10-0-6" id="h10-0-6" class="i">+import androidx.compose.foundation.layout.FlowRow
</a><a href="#h10-0-7" id="h10-0-7" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h10-0-8" id="h10-0-8" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h10-0-9" id="h10-0-9" class="i">+import androidx.compose.foundation.layout.height
</a><a href="#h10-0-10" id="h10-0-10" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h10-0-11" id="h10-0-11" class="i">+import androidx.compose.foundation.verticalScroll
</a><a href="#h10-0-12" id="h10-0-12" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h10-0-13" id="h10-0-13" class="i">+import androidx.compose.material.icons.filled.Map
</a><a href="#h10-0-14" id="h10-0-14" class="i">+import androidx.compose.material.icons.filled.Refresh
</a><a href="#h10-0-15" id="h10-0-15" class="i">+import androidx.compose.material3.Button
</a><a href="#h10-0-16" id="h10-0-16" class="i">+import androidx.compose.material3.Icon
</a><a href="#h10-0-17" id="h10-0-17" class="i">+import androidx.compose.material3.OutlinedCard
</a><a href="#h10-0-18" id="h10-0-18" class="i">+import androidx.compose.material3.Text
</a><a href="#h10-0-19" id="h10-0-19" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h10-0-20" id="h10-0-20" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h10-0-21" id="h10-0-21" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h10-0-22" id="h10-0-22" class="i">+import androidx.compose.ui.tooling.preview.Preview
</a><a href="#h10-0-23" id="h10-0-23" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h10-0-24" id="h10-0-24" class="i">+import androidx.compose.ui.unit.sp
</a><a href="#h10-0-25" id="h10-0-25" class="i">+import me.rhunk.snapenhance.manager.Section
</a><a href="#h10-0-26" id="h10-0-26" class="i">+import me.rhunk.snapenhance.manager.data.InstallationSummary
</a><a href="#h10-0-27" id="h10-0-27" class="i">+
</a><a href="#h10-0-28" id="h10-0-28" class="i">+class HomeSection : Section() {
</a><a href="#h10-0-29" id="h10-0-29" class="i">+    companion object {
</a><a href="#h10-0-30" id="h10-0-30" class="i">+        val cardMargin = 10.dp
</a><a href="#h10-0-31" id="h10-0-31" class="i">+    }
</a><a href="#h10-0-32" id="h10-0-32" class="i">+
</a><a href="#h10-0-33" id="h10-0-33" class="i">+    @OptIn(ExperimentalLayoutApi::class)
</a><a href="#h10-0-34" id="h10-0-34" class="i">+    @Composable
</a><a href="#h10-0-35" id="h10-0-35" class="i">+    private fun SummaryCards(installationSummary: InstallationSummary) {
</a><a href="#h10-0-36" id="h10-0-36" class="i">+        //installation summary
</a><a href="#h10-0-37" id="h10-0-37" class="i">+        OutlinedCard(
</a><a href="#h10-0-38" id="h10-0-38" class="i">+            modifier = Modifier
</a><a href="#h10-0-39" id="h10-0-39" class="i">+                .padding(all = cardMargin)
</a><a href="#h10-0-40" id="h10-0-40" class="i">+                .fillMaxWidth()
</a><a href="#h10-0-41" id="h10-0-41" class="i">+        ) {
</a><a href="#h10-0-42" id="h10-0-42" class="i">+            Column(modifier = Modifier.padding(all = 16.dp)) {
</a><a href="#h10-0-43" id="h10-0-43" class="i">+                if (installationSummary.snapchatInfo != null) {
</a><a href="#h10-0-44" id="h10-0-44" class="i">+                    Text(&quot;Snapchat version: ${installationSummary.snapchatInfo.version}&quot;)
</a><a href="#h10-0-45" id="h10-0-45" class="i">+                    Text(&quot;Snapchat version code: ${installationSummary.snapchatInfo.versionCode}&quot;)
</a><a href="#h10-0-46" id="h10-0-46" class="i">+                } else {
</a><a href="#h10-0-47" id="h10-0-47" class="i">+                    Text(&quot;Snapchat not installed/detected&quot;)
</a><a href="#h10-0-48" id="h10-0-48" class="i">+                }
</a><a href="#h10-0-49" id="h10-0-49" class="i">+            }
</a><a href="#h10-0-50" id="h10-0-50" class="i">+        }
</a><a href="#h10-0-51" id="h10-0-51" class="i">+
</a><a href="#h10-0-52" id="h10-0-52" class="i">+        OutlinedCard(
</a><a href="#h10-0-53" id="h10-0-53" class="i">+            modifier = Modifier
</a><a href="#h10-0-54" id="h10-0-54" class="i">+                .padding(all = cardMargin)
</a><a href="#h10-0-55" id="h10-0-55" class="i">+                .fillMaxWidth()
</a><a href="#h10-0-56" id="h10-0-56" class="i">+        ) {
</a><a href="#h10-0-57" id="h10-0-57" class="i">+            FlowRow(
</a><a href="#h10-0-58" id="h10-0-58" class="i">+                modifier = Modifier.padding(all = 16.dp),
</a><a href="#h10-0-59" id="h10-0-59" class="i">+                horizontalArrangement = Arrangement.SpaceBetween
</a><a href="#h10-0-60" id="h10-0-60" class="i">+            ) {
</a><a href="#h10-0-61" id="h10-0-61" class="i">+                Icon(
</a><a href="#h10-0-62" id="h10-0-62" class="i">+                    Icons.Filled.Map,
</a><a href="#h10-0-63" id="h10-0-63" class="i">+                    contentDescription = &quot;Mappings&quot;,
</a><a href="#h10-0-64" id="h10-0-64" class="i">+                    modifier = Modifier
</a><a href="#h10-0-65" id="h10-0-65" class="i">+                        .padding(end = 10.dp)
</a><a href="#h10-0-66" id="h10-0-66" class="i">+                        .align(Alignment.CenterVertically)
</a><a href="#h10-0-67" id="h10-0-67" class="i">+                )
</a><a href="#h10-0-68" id="h10-0-68" class="i">+
</a><a href="#h10-0-69" id="h10-0-69" class="i">+                Text(text = if (installationSummary.mappingsInfo == null || installationSummary.mappingsInfo.isOutdated) {
</a><a href="#h10-0-70" id="h10-0-70" class="i">+                    &quot;Mappings ${if (installationSummary.mappingsInfo == null) &quot;not generated&quot; else &quot;outdated&quot;}&quot;
</a><a href="#h10-0-71" id="h10-0-71" class="i">+                } else {
</a><a href="#h10-0-72" id="h10-0-72" class="i">+                    &quot;Mappings version ${installationSummary.mappingsInfo.generatedSnapchatVersion}&quot;
</a><a href="#h10-0-73" id="h10-0-73" class="i">+                }, modifier = Modifier.weight(1f)
</a><a href="#h10-0-74" id="h10-0-74" class="i">+                    .align(Alignment.CenterVertically)
</a><a href="#h10-0-75" id="h10-0-75" class="i">+                )
</a><a href="#h10-0-76" id="h10-0-76" class="i">+
</a><a href="#h10-0-77" id="h10-0-77" class="i">+                //inline button
</a><a href="#h10-0-78" id="h10-0-78" class="i">+                Button(onClick = {}, modifier = Modifier.height(40.dp)) {
</a><a href="#h10-0-79" id="h10-0-79" class="i">+                    Icon(Icons.Filled.Refresh, contentDescription = &quot;Refresh&quot;)
</a><a href="#h10-0-80" id="h10-0-80" class="i">+                }
</a><a href="#h10-0-81" id="h10-0-81" class="i">+            }
</a><a href="#h10-0-82" id="h10-0-82" class="i">+        }
</a><a href="#h10-0-83" id="h10-0-83" class="i">+    }
</a><a href="#h10-0-84" id="h10-0-84" class="i">+
</a><a href="#h10-0-85" id="h10-0-85" class="i">+    @Composable
</a><a href="#h10-0-86" id="h10-0-86" class="i">+    @Preview
</a><a href="#h10-0-87" id="h10-0-87" class="i">+    override fun Content() {
</a><a href="#h10-0-88" id="h10-0-88" class="i">+        Column(
</a><a href="#h10-0-89" id="h10-0-89" class="i">+            modifier = Modifier
</a><a href="#h10-0-90" id="h10-0-90" class="i">+                .fillMaxSize()
</a><a href="#h10-0-91" id="h10-0-91" class="i">+                .verticalScroll(ScrollState(0))
</a><a href="#h10-0-92" id="h10-0-92" class="i">+        ) {
</a><a href="#h10-0-93" id="h10-0-93" class="i">+            Text(
</a><a href="#h10-0-94" id="h10-0-94" class="i">+                &quot;SnapEnhance&quot;,
</a><a href="#h10-0-95" id="h10-0-95" class="i">+                fontSize = 32.sp,
</a><a href="#h10-0-96" id="h10-0-96" class="i">+                modifier = Modifier.padding(32.dp)
</a><a href="#h10-0-97" id="h10-0-97" class="i">+            )
</a><a href="#h10-0-98" id="h10-0-98" class="i">+
</a><a href="#h10-0-99" id="h10-0-99" class="i">+            Text(
</a><a href="#h10-0-100" id="h10-0-100" class="i">+                text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl.&quot;,
</a><a href="#h10-0-101" id="h10-0-101" class="i">+                modifier = Modifier.padding(16.dp)
</a><a href="#h10-0-102" id="h10-0-102" class="i">+            )
</a><a href="#h10-0-103" id="h10-0-103" class="i">+
</a><a href="#h10-0-104" id="h10-0-104" class="i">+            SummaryCards(manager.getInstallationSummary())
</a><a href="#h10-0-105" id="h10-0-105" class="i">+        }
</a><a href="#h10-0-106" id="h10-0-106" class="i">+    }
</a><a href="#h10-0-107" id="h10-0-107" class="i">+}</a><a href="#h10-0-108" id="h10-0-108" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h11" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -1,18 +1,20 @@
</a> package me.rhunk.snapenhance.manager.sections
 
<a href="#h11-0-2" id="h11-0-2" class="i">+import androidx.compose.foundation.layout.Arrangement
</a> import androidx.compose.foundation.layout.Column
 import androidx.compose.foundation.layout.fillMaxSize
 import androidx.compose.material3.Text
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
<a href="#h11-0-9" id="h11-0-9" class="i">+import androidx.compose.ui.tooling.preview.Preview
</a><a href="#h11-0-10" id="h11-0-10" class="i">+import me.rhunk.snapenhance.manager.Section
</a> 
<a href="#h11-0-12" id="h11-0-12" class="d">-@Composable
</a><a href="#h11-0-13" id="h11-0-13" class="d">-fun NotImplemented() {
</a><a href="#h11-0-14" id="h11-0-14" class="d">-    Column(
</a><a href="#h11-0-15" id="h11-0-15" class="d">-        modifier = Modifier.fillMaxSize(),
</a><a href="#h11-0-16" id="h11-0-16" class="d">-        horizontalAlignment = Alignment.CenterHorizontally,
</a><a href="#h11-0-17" id="h11-0-17" class="d">-    ) {
</a><a href="#h11-0-18" id="h11-0-18" class="d">-        Text(text = &quot;Not Implemented&quot;)
</a><a href="#h11-0-19" id="h11-0-19" class="i">+class NotImplemented : Section() {
</a><a href="#h11-0-20" id="h11-0-20" class="i">+    @Composable
</a><a href="#h11-0-21" id="h11-0-21" class="i">+    override fun Content() {
</a><a href="#h11-0-22" id="h11-0-22" class="i">+        Column {
</a><a href="#h11-0-23" id="h11-0-23" class="i">+            Text(text = &quot;Not implemented yet!&quot;)
</a><a href="#h11-0-24" id="h11-0-24" class="i">+        }
</a>     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h12" href="../file/app/src/main/res/drawable/launcher_icon_monochrome.xml.html">app/src/main/res/drawable/launcher_icon_monochrome.xml</a> b/<a href="../file/app/src/main/res/drawable/launcher_icon_monochrome.xml.html">app/src/main/res/drawable/launcher_icon_monochrome.xml</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -0,0 +1,26 @@
</a><a href="#h12-0-0" id="h12-0-0" class="i">+&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
</a><a href="#h12-0-1" id="h12-0-1" class="i">+    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
</a><a href="#h12-0-2" id="h12-0-2" class="i">+    android:width=&quot;48dp&quot;
</a><a href="#h12-0-3" id="h12-0-3" class="i">+    android:height=&quot;48dp&quot;
</a><a href="#h12-0-4" id="h12-0-4" class="i">+    android:viewportWidth=&quot;1000&quot;
</a><a href="#h12-0-5" id="h12-0-5" class="i">+    android:viewportHeight=&quot;1000&quot;&gt;
</a><a href="#h12-0-6" id="h12-0-6" class="i">+
</a><a href="#h12-0-7" id="h12-0-7" class="i">+  &lt;group
</a><a href="#h12-0-8" id="h12-0-8" class="i">+      android:scaleX=&quot;0.65&quot;
</a><a href="#h12-0-9" id="h12-0-9" class="i">+      android:scaleY=&quot;0.65&quot;
</a><a href="#h12-0-10" id="h12-0-10" class="i">+      android:translateX=&quot;175&quot;
</a><a href="#h12-0-11" id="h12-0-11" class="i">+      android:translateY=&quot;175&quot;&gt;
</a><a href="#h12-0-12" id="h12-0-12" class="i">+
</a><a href="#h12-0-13" id="h12-0-13" class="i">+    &lt;path
</a><a href="#h12-0-14" id="h12-0-14" class="i">+        android:fillColor=&quot;#ffffffff&quot;
</a><a href="#h12-0-15" id="h12-0-15" class="i">+        android:pathData=&quot;m397.9,491.5h-55.1c-10.1,0 -18.4,8.2 -18.4,18.4h0c0,10.1 8.2,18.4 18.4,18.4h55.1c15.3,0 27.8,13.7 27.8,30.6s-12.5,30.6 -27.8,30.6h-55.1c-10.1,0 -18.4,8.2 -18.4,18.4h0c0,10.1 8.2,18.4 18.4,18.4h55.1c33.8,0 61.2,-30.1 61.2,-67.3s-27.4,-67.3 -61.2,-67.3Z&quot;/&gt;
</a><a href="#h12-0-16" id="h12-0-16" class="i">+    &lt;path
</a><a href="#h12-0-17" id="h12-0-17" class="i">+        android:fillColor=&quot;#ffffffff&quot;
</a><a href="#h12-0-18" id="h12-0-18" class="i">+        android:pathData=&quot;m814.2,491.5h-62.6v-49.7h-0.1c0,-2 0.1,-4.1 0.1,-6.1 0,-152.1 -123.3,-275.5 -275.5,-275.5s-275.5,123.3 -275.5,275.5c0,2 0,4.1 0.1,6.1h-0.1v302.1c0,29.6 13.5,57.6 36.7,76l11.9,9.4c18.3,13.9 47,13.8 65.2,0l18.5,-14c7.1,-5.4 21,-5.4 28.1,0l18.5,14c18.3,13.9 46.9,13.9 65.2,0l18.5,-14c3.3,-2.5 8.2,-3.8 13.1,-4 4.9,0.2 9.7,1.5 13,4l18.5,14c18.3,13.8 46.8,13.8 65.1,0l18.5,-14c7.1,-5.4 20.9,-5.4 28,0l18.5,14c18.2,13.8 46.8,13.8 65.1,0l11.9,-9.4c23.2,-18.4 36.7,-46.4 36.7,-75.9v-117.8h62.6c33.8,0 61.2,-30.1 61.2,-67.3s-27.4,-67.3 -61.2,-67.3ZM714.8,441.9v310.2c0,16.4 -7.7,31.9 -20.7,41.8l-9.6,7.3c-7.1,5.4 -20.9,5.4 -28,0l-18.5,-14c-18.2,-13.8 -46.8,-13.8 -65.1,0l-18.5,14c-7.1,5.4 -20.9,5.4 -28,0l-18.5,-14c-8.8,-6.7 -20.1,-10.1 -31.4,-10.3v-0c-0.1,0 -0.1,0 -0.2,0 -0,0 -0.1,0 -0.1,0h0c-11.4,0.2 -22.6,3.7 -31.5,10.4l-18.5,14c-7.1,5.4 -21,5.4 -28.1,0l-18.5,-14c-18.3,-13.8 -46.9,-13.8 -65.2,0l-18.5,14c-7.1,5.4 -21,5.4 -28,0l-9.7,-7.4c-13.1,-9.9 -20.8,-25.4 -20.8,-41.8v-310.1h0.1c-0.1,-2 -0.1,-4.1 -0.1,-6.1 0,-131.9 106.9,-238.7 238.7,-238.7s238.7,106.9 238.7,238.7c0,2 -0,4.1 -0.1,6.1h0.1ZM814.2,589.5h-62.6v-61.2h62.6c15.3,0 27.8,13.7 27.8,30.6s-12.5,30.6 -27.8,30.6Z&quot;
</a><a href="#h12-0-19" id="h12-0-19" class="i">+        tools:ignore=&quot;VectorPath&quot; /&gt;
</a><a href="#h12-0-20" id="h12-0-20" class="i">+    &lt;path
</a><a href="#h12-0-21" id="h12-0-21" class="i">+        android:fillColor=&quot;#ffffffff&quot;
</a><a href="#h12-0-22" id="h12-0-22" class="i">+        android:pathData=&quot;m711.1,336.1c-6.6,-1.6 -10.6,-1.7 -17.4,-2.8 -33.1,-5.4 -65.4,-0.8 -97.3,8.2 -7,2 -13.9,3.4 -20.9,3.5 -7,-0.2 -13.9,-1.5 -20.9,-3.5 -31.9,-9 -64.2,-13.6 -97.3,-8.2 -6.8,1.1 -10.8,1.1 -17.4,2.8 -6,1.5 -7.5,11.2 -5.5,29.1 0.9,8.2 3.3,16.1 4.9,24.2 1.6,8.1 3.6,16.1 7.9,23.3 4.1,6.8 10.1,11.6 17.5,13.9 16.9,5.4 34.1,6.2 51.3,1.4 14.5,-4.1 26.1,-12.6 33.4,-25.9 5.4,-9.9 9.7,-20.4 14.5,-30.7 0.7,-1.6 1.3,-3.2 2.1,-4.8 2.2,-4.4 5,-6.3 9.6,-6.3 4.5,-0 7.3,1.8 9.6,6.3 0.8,1.6 1.4,3.2 2.1,4.8 4.8,10.3 9.1,20.8 14.5,30.7 7.2,13.4 18.9,21.9 33.4,25.9 17.1,4.8 34.4,4 51.3,-1.4 7.4,-2.3 13.4,-7.1 17.5,-13.9 4.3,-7.2 6.3,-15.1 7.9,-23.3 1.5,-8.1 4,-16 4.9,-24.2 2,-17.9 0.5,-27.6 -5.5,-29.1Z&quot;/&gt;
</a><a href="#h12-0-23" id="h12-0-23" class="i">+
</a><a href="#h12-0-24" id="h12-0-24" class="i">+  &lt;/group&gt;
</a><a href="#h12-0-25" id="h12-0-25" class="i">+&lt;/vector&gt;
</a><b>diff --git a/<a id="h13" href="../file/app/src/main/res/mipmap-anydpi-v26/launcher_icon.xml.html">app/src/main/res/mipmap-anydpi-v26/launcher_icon.xml</a> b/<a href="../file/app/src/main/res/mipmap-anydpi-v26/launcher_icon.xml.html">app/src/main/res/mipmap-anydpi-v26/launcher_icon.xml</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -0,0 +1,6 @@
</a><a href="#h13-0-0" id="h13-0-0" class="i">+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</a><a href="#h13-0-1" id="h13-0-1" class="i">+&lt;adaptive-icon xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
</a><a href="#h13-0-2" id="h13-0-2" class="i">+    &lt;background android:drawable=&quot;@color/launcher_icon_background&quot;/&gt;
</a><a href="#h13-0-3" id="h13-0-3" class="i">+    &lt;foreground android:drawable=&quot;@mipmap/launcher_icon_foreground&quot;/&gt;
</a><a href="#h13-0-4" id="h13-0-4" class="i">+    &lt;monochrome android:drawable=&quot;@drawable/launcher_icon_monochrome&quot;/&gt;
</a><a href="#h13-0-5" id="h13-0-5" class="i">+&lt;/adaptive-icon&gt;</a><a href="#h13-0-6" id="h13-0-6" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h14" href="../file/core/src/main/res/mipmap-anydpi-v26/launcher_icon.xml.html">core/src/main/res/mipmap-anydpi-v26/launcher_icon.xml</a> b/<a href="../file/app/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml.html">app/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml</a></b>
<b>diff --git a/<a id="h15" href="../file/core/src/main/res/mipmap-hdpi/launcher_icon_foreground.png.html">core/src/main/res/mipmap-hdpi/launcher_icon_foreground.png</a> b/<a href="../file/app/src/main/res/mipmap-hdpi/launcher_icon_foreground.png.html">app/src/main/res/mipmap-hdpi/launcher_icon_foreground.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h16" href="../file/core/src/main/res/mipmap-hdpi/launcher_icon_round.png.html">core/src/main/res/mipmap-hdpi/launcher_icon_round.png</a> b/<a href="../file/app/src/main/res/mipmap-hdpi/launcher_icon_round.png.html">app/src/main/res/mipmap-hdpi/launcher_icon_round.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h17" href="../file/core/src/main/res/mipmap-mdpi/launcher_icon_foreground.png.html">core/src/main/res/mipmap-mdpi/launcher_icon_foreground.png</a> b/<a href="../file/app/src/main/res/mipmap-mdpi/launcher_icon_foreground.png.html">app/src/main/res/mipmap-mdpi/launcher_icon_foreground.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h18" href="../file/core/src/main/res/mipmap-mdpi/launcher_icon_round.png.html">core/src/main/res/mipmap-mdpi/launcher_icon_round.png</a> b/<a href="../file/app/src/main/res/mipmap-mdpi/launcher_icon_round.png.html">app/src/main/res/mipmap-mdpi/launcher_icon_round.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h19" href="../file/core/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png.html">core/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png</a> b/<a href="../file/app/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png.html">app/src/main/res/mipmap-xhdpi/launcher_icon_foreground.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h20" href="../file/core/src/main/res/mipmap-xhdpi/launcher_icon_round.png.html">core/src/main/res/mipmap-xhdpi/launcher_icon_round.png</a> b/<a href="../file/app/src/main/res/mipmap-xhdpi/launcher_icon_round.png.html">app/src/main/res/mipmap-xhdpi/launcher_icon_round.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h21" href="../file/core/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png.html">core/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png</a> b/<a href="../file/app/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png.html">app/src/main/res/mipmap-xxhdpi/launcher_icon_foreground.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h22" href="../file/core/src/main/res/mipmap-xxhdpi/launcher_icon_round.png.html">core/src/main/res/mipmap-xxhdpi/launcher_icon_round.png</a> b/<a href="../file/app/src/main/res/mipmap-xxhdpi/launcher_icon_round.png.html">app/src/main/res/mipmap-xxhdpi/launcher_icon_round.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h23" href="../file/core/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png.html">core/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png</a> b/<a href="../file/app/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png.html">app/src/main/res/mipmap-xxxhdpi/launcher_icon_foreground.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h24" href="../file/core/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png.html">core/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png</a> b/<a href="../file/app/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png.html">app/src/main/res/mipmap-xxxhdpi/launcher_icon_round.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h25" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeClient.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeClient.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeClient.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeClient.kt</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -91,7 +91,6 @@ class BridgeClient(
</a> 
     fun deleteFile(fileType: BridgeFileType) = service.deleteFile(fileType.value)
 
<a href="#h25-0-3" id="h25-0-3" class="d">-
</a>     fun isFileExists(fileType: BridgeFileType) = service.isFileExists(fileType.value)
 
     fun getLoggedMessageIds(conversationId: String, limit: Int): LongArray = service.getLoggedMessageIds(conversationId, limit)
<b>diff --git a/<a id="h26" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/FileLoaderWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/FileLoaderWrapper.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/FileLoaderWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/FileLoaderWrapper.kt</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -0,0 +1,35 @@
</a><a href="#h26-0-0" id="h26-0-0" class="i">+package me.rhunk.snapenhance.bridge
</a><a href="#h26-0-1" id="h26-0-1" class="i">+
</a><a href="#h26-0-2" id="h26-0-2" class="i">+import android.content.Context
</a><a href="#h26-0-3" id="h26-0-3" class="i">+import me.rhunk.snapenhance.bridge.types.BridgeFileType
</a><a href="#h26-0-4" id="h26-0-4" class="i">+
</a><a href="#h26-0-5" id="h26-0-5" class="i">+open class FileLoaderWrapper(
</a><a href="#h26-0-6" id="h26-0-6" class="i">+    private val fileType: BridgeFileType,
</a><a href="#h26-0-7" id="h26-0-7" class="i">+    private val defaultContent: ByteArray
</a><a href="#h26-0-8" id="h26-0-8" class="i">+) {
</a><a href="#h26-0-9" id="h26-0-9" class="i">+    lateinit var isFileExists: () -&gt; Boolean
</a><a href="#h26-0-10" id="h26-0-10" class="i">+    lateinit var write: (ByteArray) -&gt; Unit
</a><a href="#h26-0-11" id="h26-0-11" class="i">+    lateinit var read: () -&gt; ByteArray
</a><a href="#h26-0-12" id="h26-0-12" class="i">+    lateinit var delete: () -&gt; Unit
</a><a href="#h26-0-13" id="h26-0-13" class="i">+
</a><a href="#h26-0-14" id="h26-0-14" class="i">+    fun loadFromContext(context: Context) {
</a><a href="#h26-0-15" id="h26-0-15" class="i">+        val file = fileType.resolve(context)
</a><a href="#h26-0-16" id="h26-0-16" class="i">+        isFileExists = { file.exists() }
</a><a href="#h26-0-17" id="h26-0-17" class="i">+        read = {
</a><a href="#h26-0-18" id="h26-0-18" class="i">+            if (!file.exists()) {
</a><a href="#h26-0-19" id="h26-0-19" class="i">+                file.createNewFile()
</a><a href="#h26-0-20" id="h26-0-20" class="i">+                file.writeBytes(&quot;{}&quot;.toByteArray(Charsets.UTF_8))
</a><a href="#h26-0-21" id="h26-0-21" class="i">+            }
</a><a href="#h26-0-22" id="h26-0-22" class="i">+            file.readBytes()
</a><a href="#h26-0-23" id="h26-0-23" class="i">+        }
</a><a href="#h26-0-24" id="h26-0-24" class="i">+        write = { file.writeBytes(it) }
</a><a href="#h26-0-25" id="h26-0-25" class="i">+        delete = { file.delete() }
</a><a href="#h26-0-26" id="h26-0-26" class="i">+    }
</a><a href="#h26-0-27" id="h26-0-27" class="i">+
</a><a href="#h26-0-28" id="h26-0-28" class="i">+    fun loadFromBridge(bridgeClient: BridgeClient) {
</a><a href="#h26-0-29" id="h26-0-29" class="i">+        isFileExists = { bridgeClient.isFileExists(fileType) }
</a><a href="#h26-0-30" id="h26-0-30" class="i">+        read = { bridgeClient.createAndReadFile(fileType, defaultContent) }
</a><a href="#h26-0-31" id="h26-0-31" class="i">+        write = { bridgeClient.writeFile(fileType, it) }
</a><a href="#h26-0-32" id="h26-0-32" class="i">+        delete = { bridgeClient.deleteFile(fileType) }
</a><a href="#h26-0-33" id="h26-0-33" class="i">+    }
</a><a href="#h26-0-34" id="h26-0-34" class="i">+}</a><a href="#h26-0-35" id="h26-0-35" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h27" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/ConfigWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/ConfigWrapper.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/ConfigWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/ConfigWrapper.kt</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -5,6 +5,7 @@ import com.google.gson.GsonBuilder
</a> import com.google.gson.JsonObject
 import me.rhunk.snapenhance.Logger
 import me.rhunk.snapenhance.bridge.BridgeClient
<a href="#h27-0-3" id="h27-0-3" class="i">+import me.rhunk.snapenhance.bridge.FileLoaderWrapper
</a> import me.rhunk.snapenhance.bridge.types.BridgeFileType
 import me.rhunk.snapenhance.config.ConfigAccessor
 import me.rhunk.snapenhance.config.ConfigProperty
<a href="#h27-1" id="h27-1" class="h">@@ -14,16 +15,14 @@ class ConfigWrapper: ConfigAccessor() {
</a>         private val gson = GsonBuilder().setPrettyPrinting().create()
     }
 
<a href="#h27-1-3" id="h27-1-3" class="d">-    private lateinit var isFileExistsAction: () -&gt; Boolean
</a><a href="#h27-1-4" id="h27-1-4" class="d">-    private lateinit var writeFileAction: (ByteArray) -&gt; Unit
</a><a href="#h27-1-5" id="h27-1-5" class="d">-    private lateinit var readFileAction: () -&gt; ByteArray
</a><a href="#h27-1-6" id="h27-1-6" class="i">+    private val file = FileLoaderWrapper(BridgeFileType.CONFIG, &quot;{}&quot;.toByteArray(Charsets.UTF_8))
</a> 
     fun load() {
         ConfigProperty.sortedByCategory().forEach { key -&gt;
             set(key, key.valueContainer)
         }
 
<a href="#h27-1-13" id="h27-1-13" class="d">-        if (!isFileExistsAction()) {
</a><a href="#h27-1-14" id="h27-1-14" class="i">+        if (!file.isFileExists()) {
</a>             writeConfig()
             return
         }
<a href="#h27-2" id="h27-2" class="h">@@ -37,7 +36,7 @@ class ConfigWrapper: ConfigAccessor() {
</a>     }
 
     private fun loadConfig() {
<a href="#h27-2-3" id="h27-2-3" class="d">-        val configContent = readFileAction()
</a><a href="#h27-2-4" id="h27-2-4" class="i">+        val configContent = file.read()
</a> 
         val configObject: JsonObject = gson.fromJson(
             configContent.toString(Charsets.UTF_8),
<a href="#h27-3" id="h27-3" class="h">@@ -54,27 +53,17 @@ class ConfigWrapper: ConfigAccessor() {
</a>         entries().forEach { (key, value) -&gt;
             configObject.addProperty(key.name, value.read())
         }
<a href="#h27-3-3" id="h27-3-3" class="d">-        writeFileAction(gson.toJson(configObject).toByteArray(Charsets.UTF_8))
</a><a href="#h27-3-4" id="h27-3-4" class="i">+
</a><a href="#h27-3-5" id="h27-3-5" class="i">+        file.write(gson.toJson(configObject).toByteArray(Charsets.UTF_8))
</a>     }
 
     fun loadFromContext(context: Context) {
<a href="#h27-3-9" id="h27-3-9" class="d">-        val configFile = BridgeFileType.CONFIG.resolve(context)
</a><a href="#h27-3-10" id="h27-3-10" class="d">-        isFileExistsAction = { configFile.exists() }
</a><a href="#h27-3-11" id="h27-3-11" class="d">-        readFileAction = {
</a><a href="#h27-3-12" id="h27-3-12" class="d">-            if (!configFile.exists()) {
</a><a href="#h27-3-13" id="h27-3-13" class="d">-                configFile.createNewFile()
</a><a href="#h27-3-14" id="h27-3-14" class="d">-                configFile.writeBytes(&quot;{}&quot;.toByteArray(Charsets.UTF_8))
</a><a href="#h27-3-15" id="h27-3-15" class="d">-            }
</a><a href="#h27-3-16" id="h27-3-16" class="d">-            configFile.readBytes()
</a><a href="#h27-3-17" id="h27-3-17" class="d">-        }
</a><a href="#h27-3-18" id="h27-3-18" class="d">-        writeFileAction = { configFile.writeBytes(it) }
</a><a href="#h27-3-19" id="h27-3-19" class="i">+        file.loadFromContext(context)
</a>         load()
     }
 
     fun loadFromBridge(bridgeClient: BridgeClient) {
<a href="#h27-3-24" id="h27-3-24" class="d">-        isFileExistsAction = { bridgeClient.isFileExists(BridgeFileType.CONFIG) }
</a><a href="#h27-3-25" id="h27-3-25" class="d">-        readFileAction = { bridgeClient.createAndReadFile(BridgeFileType.CONFIG, &quot;{}&quot;.toByteArray(Charsets.UTF_8)) }
</a><a href="#h27-3-26" id="h27-3-26" class="d">-        writeFileAction = { bridgeClient.writeFile(BridgeFileType.CONFIG, it) }
</a><a href="#h27-3-27" id="h27-3-27" class="i">+        file.loadFromBridge(bridgeClient)
</a>         load()
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h28" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/MappingsWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/MappingsWrapper.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/MappingsWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/MappingsWrapper.kt</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -0,0 +1,157 @@
</a><a href="#h28-0-0" id="h28-0-0" class="i">+package me.rhunk.snapenhance.bridge.wrapper
</a><a href="#h28-0-1" id="h28-0-1" class="i">+
</a><a href="#h28-0-2" id="h28-0-2" class="i">+import android.content.Context
</a><a href="#h28-0-3" id="h28-0-3" class="i">+import com.google.gson.GsonBuilder
</a><a href="#h28-0-4" id="h28-0-4" class="i">+import com.google.gson.JsonElement
</a><a href="#h28-0-5" id="h28-0-5" class="i">+import com.google.gson.JsonParser
</a><a href="#h28-0-6" id="h28-0-6" class="i">+import me.rhunk.snapenhance.Constants
</a><a href="#h28-0-7" id="h28-0-7" class="i">+import me.rhunk.snapenhance.Logger
</a><a href="#h28-0-8" id="h28-0-8" class="i">+import me.rhunk.snapenhance.bridge.FileLoaderWrapper
</a><a href="#h28-0-9" id="h28-0-9" class="i">+import me.rhunk.snapenhance.bridge.types.BridgeFileType
</a><a href="#h28-0-10" id="h28-0-10" class="i">+import me.rhunk.snapmapper.Mapper
</a><a href="#h28-0-11" id="h28-0-11" class="i">+import me.rhunk.snapmapper.impl.BCryptClassMapper
</a><a href="#h28-0-12" id="h28-0-12" class="i">+import me.rhunk.snapmapper.impl.CallbackMapper
</a><a href="#h28-0-13" id="h28-0-13" class="i">+import me.rhunk.snapmapper.impl.DefaultMediaItemMapper
</a><a href="#h28-0-14" id="h28-0-14" class="i">+import me.rhunk.snapmapper.impl.EnumMapper
</a><a href="#h28-0-15" id="h28-0-15" class="i">+import me.rhunk.snapmapper.impl.FriendsFeedEventDispatcherMapper
</a><a href="#h28-0-16" id="h28-0-16" class="i">+import me.rhunk.snapmapper.impl.MediaQualityLevelProviderMapper
</a><a href="#h28-0-17" id="h28-0-17" class="i">+import me.rhunk.snapmapper.impl.OperaPageViewControllerMapper
</a><a href="#h28-0-18" id="h28-0-18" class="i">+import me.rhunk.snapmapper.impl.PlatformAnalyticsCreatorMapper
</a><a href="#h28-0-19" id="h28-0-19" class="i">+import me.rhunk.snapmapper.impl.PlusSubscriptionMapper
</a><a href="#h28-0-20" id="h28-0-20" class="i">+import me.rhunk.snapmapper.impl.ScCameraSettingsMapper
</a><a href="#h28-0-21" id="h28-0-21" class="i">+import me.rhunk.snapmapper.impl.StoryBoostStateMapper
</a><a href="#h28-0-22" id="h28-0-22" class="i">+import java.util.concurrent.ConcurrentHashMap
</a><a href="#h28-0-23" id="h28-0-23" class="i">+import kotlin.system.measureTimeMillis
</a><a href="#h28-0-24" id="h28-0-24" class="i">+
</a><a href="#h28-0-25" id="h28-0-25" class="i">+class MappingsWrapper(
</a><a href="#h28-0-26" id="h28-0-26" class="i">+    private val context: Context,
</a><a href="#h28-0-27" id="h28-0-27" class="i">+) : FileLoaderWrapper(BridgeFileType.MAPPINGS, &quot;{}&quot;.toByteArray(Charsets.UTF_8)) {
</a><a href="#h28-0-28" id="h28-0-28" class="i">+    companion object {
</a><a href="#h28-0-29" id="h28-0-29" class="i">+        private val gson = GsonBuilder().setPrettyPrinting().create()
</a><a href="#h28-0-30" id="h28-0-30" class="i">+        private val mappers = arrayOf(
</a><a href="#h28-0-31" id="h28-0-31" class="i">+            BCryptClassMapper::class,
</a><a href="#h28-0-32" id="h28-0-32" class="i">+            CallbackMapper::class,
</a><a href="#h28-0-33" id="h28-0-33" class="i">+            DefaultMediaItemMapper::class,
</a><a href="#h28-0-34" id="h28-0-34" class="i">+            MediaQualityLevelProviderMapper::class,
</a><a href="#h28-0-35" id="h28-0-35" class="i">+            EnumMapper::class,
</a><a href="#h28-0-36" id="h28-0-36" class="i">+            OperaPageViewControllerMapper::class,
</a><a href="#h28-0-37" id="h28-0-37" class="i">+            PlatformAnalyticsCreatorMapper::class,
</a><a href="#h28-0-38" id="h28-0-38" class="i">+            PlusSubscriptionMapper::class,
</a><a href="#h28-0-39" id="h28-0-39" class="i">+            ScCameraSettingsMapper::class,
</a><a href="#h28-0-40" id="h28-0-40" class="i">+            StoryBoostStateMapper::class,
</a><a href="#h28-0-41" id="h28-0-41" class="i">+            FriendsFeedEventDispatcherMapper::class
</a><a href="#h28-0-42" id="h28-0-42" class="i">+        )
</a><a href="#h28-0-43" id="h28-0-43" class="i">+    }
</a><a href="#h28-0-44" id="h28-0-44" class="i">+
</a><a href="#h28-0-45" id="h28-0-45" class="i">+    private val mappings = ConcurrentHashMap&lt;String, Any&gt;()
</a><a href="#h28-0-46" id="h28-0-46" class="i">+    private var snapBuildNumber: Long = 0
</a><a href="#h28-0-47" id="h28-0-47" class="i">+
</a><a href="#h28-0-48" id="h28-0-48" class="i">+    @Suppress(&quot;deprecation&quot;)
</a><a href="#h28-0-49" id="h28-0-49" class="i">+    fun init() {
</a><a href="#h28-0-50" id="h28-0-50" class="i">+        snapBuildNumber = getSnapchatVersionCode()
</a><a href="#h28-0-51" id="h28-0-51" class="i">+
</a><a href="#h28-0-52" id="h28-0-52" class="i">+        if (isFileExists()) {
</a><a href="#h28-0-53" id="h28-0-53" class="i">+            runCatching {
</a><a href="#h28-0-54" id="h28-0-54" class="i">+                loadCached()
</a><a href="#h28-0-55" id="h28-0-55" class="i">+            }.onFailure {
</a><a href="#h28-0-56" id="h28-0-56" class="i">+                delete()
</a><a href="#h28-0-57" id="h28-0-57" class="i">+            }
</a><a href="#h28-0-58" id="h28-0-58" class="i">+        }
</a><a href="#h28-0-59" id="h28-0-59" class="i">+    }
</a><a href="#h28-0-60" id="h28-0-60" class="i">+
</a><a href="#h28-0-61" id="h28-0-61" class="i">+    fun getSnapchatPackageInfo() = runCatching {
</a><a href="#h28-0-62" id="h28-0-62" class="i">+        context.packageManager.getPackageInfo(
</a><a href="#h28-0-63" id="h28-0-63" class="i">+            Constants.SNAPCHAT_PACKAGE_NAME,
</a><a href="#h28-0-64" id="h28-0-64" class="i">+            0
</a><a href="#h28-0-65" id="h28-0-65" class="i">+        )
</a><a href="#h28-0-66" id="h28-0-66" class="i">+    }.getOrNull()
</a><a href="#h28-0-67" id="h28-0-67" class="i">+
</a><a href="#h28-0-68" id="h28-0-68" class="i">+    fun getSnapchatVersionCode() = getSnapchatPackageInfo()?.longVersionCode ?: -1
</a><a href="#h28-0-69" id="h28-0-69" class="i">+    fun getApplicationSourceDir() = getSnapchatPackageInfo()?.applicationInfo?.sourceDir
</a><a href="#h28-0-70" id="h28-0-70" class="i">+    fun getGeneratedBuildNumber() = snapBuildNumber
</a><a href="#h28-0-71" id="h28-0-71" class="i">+
</a><a href="#h28-0-72" id="h28-0-72" class="i">+    fun isMappingsOutdated(): Boolean {
</a><a href="#h28-0-73" id="h28-0-73" class="i">+        return snapBuildNumber != getSnapchatVersionCode() || isMappingsLoaded().not()
</a><a href="#h28-0-74" id="h28-0-74" class="i">+    }
</a><a href="#h28-0-75" id="h28-0-75" class="i">+
</a><a href="#h28-0-76" id="h28-0-76" class="i">+    fun isMappingsLoaded(): Boolean {
</a><a href="#h28-0-77" id="h28-0-77" class="i">+        return mappings.isNotEmpty()
</a><a href="#h28-0-78" id="h28-0-78" class="i">+    }
</a><a href="#h28-0-79" id="h28-0-79" class="i">+
</a><a href="#h28-0-80" id="h28-0-80" class="i">+    private fun loadCached() {
</a><a href="#h28-0-81" id="h28-0-81" class="i">+        if (!isFileExists()) {
</a><a href="#h28-0-82" id="h28-0-82" class="i">+            throw Exception(&quot;Mappings file does not exist&quot;)
</a><a href="#h28-0-83" id="h28-0-83" class="i">+        }
</a><a href="#h28-0-84" id="h28-0-84" class="i">+        val mappingsObject = JsonParser.parseString(read().toString(Charsets.UTF_8)).asJsonObject.also {
</a><a href="#h28-0-85" id="h28-0-85" class="i">+            snapBuildNumber = it[&quot;snap_build_number&quot;].asLong
</a><a href="#h28-0-86" id="h28-0-86" class="i">+        }
</a><a href="#h28-0-87" id="h28-0-87" class="i">+
</a><a href="#h28-0-88" id="h28-0-88" class="i">+        mappingsObject.entrySet().forEach { (key, value): Map.Entry&lt;String, JsonElement&gt; -&gt;
</a><a href="#h28-0-89" id="h28-0-89" class="i">+            if (value.isJsonArray) {
</a><a href="#h28-0-90" id="h28-0-90" class="i">+                mappings[key] = gson.fromJson(value, ArrayList::class.java)
</a><a href="#h28-0-91" id="h28-0-91" class="i">+                return@forEach
</a><a href="#h28-0-92" id="h28-0-92" class="i">+            }
</a><a href="#h28-0-93" id="h28-0-93" class="i">+            if (value.isJsonObject) {
</a><a href="#h28-0-94" id="h28-0-94" class="i">+                mappings[key] = gson.fromJson(value, ConcurrentHashMap::class.java)
</a><a href="#h28-0-95" id="h28-0-95" class="i">+                return@forEach
</a><a href="#h28-0-96" id="h28-0-96" class="i">+            }
</a><a href="#h28-0-97" id="h28-0-97" class="i">+            mappings[key] = value.asString
</a><a href="#h28-0-98" id="h28-0-98" class="i">+        }
</a><a href="#h28-0-99" id="h28-0-99" class="i">+    }
</a><a href="#h28-0-100" id="h28-0-100" class="i">+
</a><a href="#h28-0-101" id="h28-0-101" class="i">+    fun refresh() {
</a><a href="#h28-0-102" id="h28-0-102" class="i">+        val mapper = Mapper(*mappers)
</a><a href="#h28-0-103" id="h28-0-103" class="i">+
</a><a href="#h28-0-104" id="h28-0-104" class="i">+        runCatching {
</a><a href="#h28-0-105" id="h28-0-105" class="i">+            mapper.loadApk(getApplicationSourceDir() ?: throw Exception(&quot;Failed to get APK&quot;))
</a><a href="#h28-0-106" id="h28-0-106" class="i">+        }.onFailure {
</a><a href="#h28-0-107" id="h28-0-107" class="i">+            throw Exception(&quot;Failed to load APK&quot;, it)
</a><a href="#h28-0-108" id="h28-0-108" class="i">+        }
</a><a href="#h28-0-109" id="h28-0-109" class="i">+
</a><a href="#h28-0-110" id="h28-0-110" class="i">+        measureTimeMillis {
</a><a href="#h28-0-111" id="h28-0-111" class="i">+            val result = mapper.start().apply {
</a><a href="#h28-0-112" id="h28-0-112" class="i">+                addProperty(&quot;snap_build_number&quot;, snapBuildNumber)
</a><a href="#h28-0-113" id="h28-0-113" class="i">+            }
</a><a href="#h28-0-114" id="h28-0-114" class="i">+            write(result.toString().toByteArray())
</a><a href="#h28-0-115" id="h28-0-115" class="i">+        }.also {
</a><a href="#h28-0-116" id="h28-0-116" class="i">+            Logger.xposedLog(&quot;Generated mappings in $it ms&quot;)
</a><a href="#h28-0-117" id="h28-0-117" class="i">+        }
</a><a href="#h28-0-118" id="h28-0-118" class="i">+    }
</a><a href="#h28-0-119" id="h28-0-119" class="i">+
</a><a href="#h28-0-120" id="h28-0-120" class="i">+    fun getMappedObject(key: String): Any {
</a><a href="#h28-0-121" id="h28-0-121" class="i">+        if (mappings.containsKey(key)) {
</a><a href="#h28-0-122" id="h28-0-122" class="i">+            return mappings[key]!!
</a><a href="#h28-0-123" id="h28-0-123" class="i">+        }
</a><a href="#h28-0-124" id="h28-0-124" class="i">+        throw Exception(&quot;No mapping found for $key&quot;)
</a><a href="#h28-0-125" id="h28-0-125" class="i">+    }
</a><a href="#h28-0-126" id="h28-0-126" class="i">+
</a><a href="#h28-0-127" id="h28-0-127" class="i">+    fun getMappedObjectNullable(key: String): Any? {
</a><a href="#h28-0-128" id="h28-0-128" class="i">+        return mappings[key]
</a><a href="#h28-0-129" id="h28-0-129" class="i">+    }
</a><a href="#h28-0-130" id="h28-0-130" class="i">+
</a><a href="#h28-0-131" id="h28-0-131" class="i">+    fun getMappedClass(className: String): Class&lt;*&gt; {
</a><a href="#h28-0-132" id="h28-0-132" class="i">+        return context.classLoader.loadClass(getMappedObject(className) as String)
</a><a href="#h28-0-133" id="h28-0-133" class="i">+    }
</a><a href="#h28-0-134" id="h28-0-134" class="i">+
</a><a href="#h28-0-135" id="h28-0-135" class="i">+    fun getMappedClass(key: String, subKey: String): Class&lt;*&gt; {
</a><a href="#h28-0-136" id="h28-0-136" class="i">+        return context.classLoader.loadClass(getMappedValue(key, subKey))
</a><a href="#h28-0-137" id="h28-0-137" class="i">+    }
</a><a href="#h28-0-138" id="h28-0-138" class="i">+
</a><a href="#h28-0-139" id="h28-0-139" class="i">+    fun getMappedValue(key: String): String {
</a><a href="#h28-0-140" id="h28-0-140" class="i">+        return getMappedObject(key) as String
</a><a href="#h28-0-141" id="h28-0-141" class="i">+    }
</a><a href="#h28-0-142" id="h28-0-142" class="i">+
</a><a href="#h28-0-143" id="h28-0-143" class="i">+    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h28-0-144" id="h28-0-144" class="i">+    fun &lt;T : Any&gt; getMappedList(key: String): List&lt;T&gt; {
</a><a href="#h28-0-145" id="h28-0-145" class="i">+        return listOf(getMappedObject(key) as List&lt;T&gt;).flatten()
</a><a href="#h28-0-146" id="h28-0-146" class="i">+    }
</a><a href="#h28-0-147" id="h28-0-147" class="i">+
</a><a href="#h28-0-148" id="h28-0-148" class="i">+    fun getMappedValue(key: String, subKey: String): String {
</a><a href="#h28-0-149" id="h28-0-149" class="i">+        return getMappedMap(key)[subKey] as String
</a><a href="#h28-0-150" id="h28-0-150" class="i">+    }
</a><a href="#h28-0-151" id="h28-0-151" class="i">+
</a><a href="#h28-0-152" id="h28-0-152" class="i">+    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h28-0-153" id="h28-0-153" class="i">+    fun getMappedMap(key: String): Map&lt;String, *&gt; {
</a><a href="#h28-0-154" id="h28-0-154" class="i">+        return getMappedObject(key) as Map&lt;String, *&gt;
</a><a href="#h28-0-155" id="h28-0-155" class="i">+    }
</a><a href="#h28-0-156" id="h28-0-156" class="i">+}</a><a href="#h28-0-157" id="h28-0-157" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h29" href="../file/core/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml.html">core/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml</a> b/<a href="../file/core/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml.html">core/src/main/res/mipmap-anydpi-v26/launcher_icon_round.xml</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -1,5 +0,0 @@
</a><a href="#h29-0-0" id="h29-0-0" class="d">-&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</a><a href="#h29-0-1" id="h29-0-1" class="d">-&lt;adaptive-icon xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
</a><a href="#h29-0-2" id="h29-0-2" class="d">-    &lt;background android:drawable=&quot;@color/launcher_icon_background&quot;/&gt;
</a><a href="#h29-0-3" id="h29-0-3" class="d">-    &lt;foreground android:drawable=&quot;@mipmap/launcher_icon_foreground&quot;/&gt;
</a><a href="#h29-0-4" id="h29-0-4" class="d">-&lt;/adaptive-icon&gt;</a><a href="#h29-0-5" id="h29-0-5" class="d">-
\ No newline at end of file
</a></pre>
</div>
</body>
</html>
