<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>refactor: packages - SnapEnhance - An Xposed module offering an enhanced Snapchat experience
</title>
<link rel="icon" type="image/svg+xml" href="../../logo.png"/>
<link rel="alternate icon" href="../../favicon.png"/>
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<link rel="stylesheet" type="text/css" href="../../fonts.css" />
</head>
<body>
<div id="head"><table><tr><td><a class="logo" href="../../"><img src="../../logo.png" alt="" width="32" height="32" /></a></td><td><strong>SnapEnhance</strong><span class="desc"> - An Xposed module offering an enhanced Snapchat experience
</span>
</td></tr></table>
<p><a href="../about.html">About</a> | <a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">License</a></p>
</div>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/853ceec290c698ea7ba787abfb3e196832a575e5.html">853ceec290c698ea7ba787abfb3e196832a575e5</a>
<b>parent</b> <a href="../commit/b35bbfb6b20cff5fd5631eff583ecbb13ad57b01.html">b35bbfb6b20cff5fd5631eff583ecbb13ad57b01</a>
<b>Author:</b> rhunk &lt;<a href="mailto:101876869+rhunk@users.noreply.github.com">101876869+rhunk@users.noreply.github.com</a>&gt;
<b>Date:</b>   Wed,  2 Aug 2023 21:44:07 +0200

refactor: packages

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">app/src/main/AndroidManifest.xml</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="D">D</td><td><a href="#h1">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a></td><td> | </td><td class="num">45</td><td><span class="i"></span><span class="d">---------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h2">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a></td><td> | </td><td class="num">98</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h3">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a></td><td> | </td><td class="num">77</td><td><span class="i"></span><span class="d">-----------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h4">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a></td><td> | </td><td class="num">163</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h5">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h6">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a></td><td> | </td><td class="num">36</td><td><span class="i"></span><span class="d">------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h7">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a></td><td> | </td><td class="num">5</td><td><span class="i"></span><span class="d">-----</span></td></tr>
<tr><td class="D">D</td><td><a href="#h8">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a></td><td> | </td><td class="num">109</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h9">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h10">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/CallbackAlias.kt</a></td><td> | </td><td class="num">5</td><td><span class="i"></span><span class="d">-----</span></td></tr>
<tr><td class="D">D</td><td><a href="#h11">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/Dialogs.kt</a></td><td> | </td><td class="num">199</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h12">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/FeaturesSection.kt</a></td><td> | </td><td class="num">321</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h13">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/Requirements.kt</a></td><td> | </td><td class="num">33</td><td><span class="i"></span><span class="d">---------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h14">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/SetupActivity.kt</a></td><td> | </td><td class="num">137</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h15">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/SetupScreen.kt</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h16">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/FfmpegScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h17">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/LanguageScreen.kt</a></td><td> | </td><td class="num">13</td><td><span class="i"></span><span class="d">-------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h18">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/MappingsScreen.kt</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h19">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/SaveFolderScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h20">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/WelcomeScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h21">app/src/main/kotlin/me/rhunk/snapenhance/manager/util/SaveFolderChecker.kt</a></td><td> | </td><td class="num">43</td><td><span class="i"></span><span class="d">-------------------------------------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h22">app/src/main/kotlin/me/rhunk/snapenhance/ui/Theme.kt</a></td><td> | </td><td class="num">163</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h23">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/MainActivity.kt</a></td><td> | </td><td class="num">45</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h24">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/ManagerContext.kt</a></td><td> | </td><td class="num">39</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h25">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Navigation.kt</a></td><td> | </td><td class="num">97</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h26">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Section.kt</a></td><td> | </td><td class="num">76</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h27">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/data/InstallationSummary.kt</a></td><td> | </td><td class="num">17</td><td><span class="i">+++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h28">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/DebugSection.kt</a></td><td> | </td><td class="num">5</td><td><span class="i">+++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h29">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/HomeSection.kt</a></td><td> | </td><td class="num">109</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h30">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h31">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/CallbackAlias.kt</a></td><td> | </td><td class="num">5</td><td><span class="i">+++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h32">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/Dialogs.kt</a></td><td> | </td><td class="num">199</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h33">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/FeaturesSection.kt</a></td><td> | </td><td class="num">321</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h34">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/util/SaveFolderChecker.kt</a></td><td> | </td><td class="num">43</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h35">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/Requirements.kt</a></td><td> | </td><td class="num">33</td><td><span class="i">+++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h36">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupActivity.kt</a></td><td> | </td><td class="num">137</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h37">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupContext.kt</a></td><td> | </td><td class="num">15</td><td><span class="i">+++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h38">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/SetupScreen.kt</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h39">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/FfmpegScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i">++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h40">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/LanguageScreen.kt</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h41">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/MappingsScreen.kt</a></td><td> | </td><td class="num">17</td><td><span class="i">+++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h42">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/SaveFolderScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i">++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h43">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/WelcomeScreen.kt</a></td><td> | </td><td class="num">18</td><td><span class="i">++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h44">core/src/main/kotlin/me/rhunk/snapenhance/ModContext.kt</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h45">core/src/main/kotlin/me/rhunk/snapenhance/SharedContext.kt</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h46">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeService.kt</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="A">A</td><td><a href="#h47">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/LocaleWrapper.kt</a></td><td> | </td><td class="num">98</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="D">D</td><td><a href="#h48">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/TranslationWrapper.kt</a></td><td> | </td><td class="num">98</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h49">core/src/main/kotlin/me/rhunk/snapenhance/core/config/ModConfig.kt</a></td><td> | </td><td class="num">20</td><td><span class="i">+++++++++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h50">core/src/main/kotlin/me/rhunk/snapenhance/ui/download/DownloadManagerActivity.kt</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
</table></pre><pre>51 files changed, 1537 insertions(+), 1516 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/app/src/main/AndroidManifest.xml.html">app/src/main/AndroidManifest.xml</a> b/<a href="../file/app/src/main/AndroidManifest.xml.html">app/src/main/AndroidManifest.xml</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -38,7 +38,7 @@
</a>         &lt;/service&gt;
 
         &lt;activity
<a href="#h0-0-3" id="h0-0-3" class="d">-            android:name=&quot;.manager.MainActivity&quot;
</a><a href="#h0-0-4" id="h0-0-4" class="i">+            android:name=&quot;.ui.manager.MainActivity&quot;
</a>             android:theme=&quot;@style/AppTheme&quot;
             android:exported=&quot;true&quot;&gt;
             &lt;intent-filter&gt;
<a href="#h0-1" id="h0-1" class="h">@@ -47,7 +47,7 @@
</a>             &lt;/intent-filter&gt;
         &lt;/activity&gt;
         &lt;activity
<a href="#h0-1-3" id="h0-1-3" class="d">-            android:name=&quot;.manager.setup.SetupActivity&quot;
</a><a href="#h0-1-4" id="h0-1-4" class="i">+            android:name=&quot;.ui.setup.SetupActivity&quot;
</a>             android:exported=&quot;true&quot;
             android:theme=&quot;@style/AppTheme&quot;
             android:excludeFromRecents=&quot;true&quot;&gt;
<b>diff --git a/<a id="h1" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/MainActivity.kt</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,45 +0,0 @@
</a><a href="#h1-0-0" id="h1-0-0" class="d">-package me.rhunk.snapenhance.manager
</a><a href="#h1-0-1" id="h1-0-1" class="d">-
</a><a href="#h1-0-2" id="h1-0-2" class="d">-import android.annotation.SuppressLint
</a><a href="#h1-0-3" id="h1-0-3" class="d">-import android.os.Bundle
</a><a href="#h1-0-4" id="h1-0-4" class="d">-import androidx.activity.ComponentActivity
</a><a href="#h1-0-5" id="h1-0-5" class="d">-import androidx.activity.compose.setContent
</a><a href="#h1-0-6" id="h1-0-6" class="d">-import androidx.compose.material3.MaterialTheme
</a><a href="#h1-0-7" id="h1-0-7" class="d">-import androidx.compose.material3.Scaffold
</a><a href="#h1-0-8" id="h1-0-8" class="d">-import androidx.navigation.compose.rememberNavController
</a><a href="#h1-0-9" id="h1-0-9" class="d">-import me.rhunk.snapenhance.manager.data.ManagerContext
</a><a href="#h1-0-10" id="h1-0-10" class="d">-import me.rhunk.snapenhance.manager.util.SaveFolderChecker
</a><a href="#h1-0-11" id="h1-0-11" class="d">-import me.rhunk.snapenhance.util.ActivityResultCallback
</a><a href="#h1-0-12" id="h1-0-12" class="d">-
</a><a href="#h1-0-13" id="h1-0-13" class="d">-class MainActivity : ComponentActivity() {
</a><a href="#h1-0-14" id="h1-0-14" class="d">-    private val activityResultCallbacks = mutableMapOf&lt;Int, ActivityResultCallback&gt;()
</a><a href="#h1-0-15" id="h1-0-15" class="d">-
</a><a href="#h1-0-16" id="h1-0-16" class="d">-    @SuppressLint(&quot;UnusedMaterialScaffoldPaddingParameter&quot;)
</a><a href="#h1-0-17" id="h1-0-17" class="d">-    override fun onCreate(savedInstanceState: Bundle?) {
</a><a href="#h1-0-18" id="h1-0-18" class="d">-        super.onCreate(savedInstanceState)
</a><a href="#h1-0-19" id="h1-0-19" class="d">-
</a><a href="#h1-0-20" id="h1-0-20" class="d">-        val startDestination = intent.getStringExtra(&quot;route&quot;)?.let { EnumSection.fromRoute(it) } ?: EnumSection.HOME
</a><a href="#h1-0-21" id="h1-0-21" class="d">-        val managerContext = ManagerContext(this)
</a><a href="#h1-0-22" id="h1-0-22" class="d">-
</a><a href="#h1-0-23" id="h1-0-23" class="d">-        //FIXME: temporary save folder
</a><a href="#h1-0-24" id="h1-0-24" class="d">-        SaveFolderChecker.askForFolder(
</a><a href="#h1-0-25" id="h1-0-25" class="d">-            this,
</a><a href="#h1-0-26" id="h1-0-26" class="d">-            managerContext.config.root.downloader.saveFolder)
</a><a href="#h1-0-27" id="h1-0-27" class="d">-        {
</a><a href="#h1-0-28" id="h1-0-28" class="d">-            managerContext.config.writeConfig()
</a><a href="#h1-0-29" id="h1-0-29" class="d">-        }
</a><a href="#h1-0-30" id="h1-0-30" class="d">-
</a><a href="#h1-0-31" id="h1-0-31" class="d">-        setContent {
</a><a href="#h1-0-32" id="h1-0-32" class="d">-            val navController = rememberNavController()
</a><a href="#h1-0-33" id="h1-0-33" class="d">-            val navigation = Navigation(managerContext)
</a><a href="#h1-0-34" id="h1-0-34" class="d">-            AppMaterialTheme {
</a><a href="#h1-0-35" id="h1-0-35" class="d">-                Scaffold(
</a><a href="#h1-0-36" id="h1-0-36" class="d">-                    containerColor = MaterialTheme.colorScheme.background,
</a><a href="#h1-0-37" id="h1-0-37" class="d">-                    bottomBar = { navigation.NavBar(navController = navController) }
</a><a href="#h1-0-38" id="h1-0-38" class="d">-                ) { innerPadding -&gt;
</a><a href="#h1-0-39" id="h1-0-39" class="d">-                    navigation.NavigationHost(navController = navController, innerPadding = innerPadding, startDestination = startDestination)
</a><a href="#h1-0-40" id="h1-0-40" class="d">-                }
</a><a href="#h1-0-41" id="h1-0-41" class="d">-            }
</a><a href="#h1-0-42" id="h1-0-42" class="d">-        }
</a><a href="#h1-0-43" id="h1-0-43" class="d">-    }
</a><a href="#h1-0-44" id="h1-0-44" class="d">-}
</a><b>diff --git a/<a id="h2" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Navigation.kt</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -1,98 +0,0 @@
</a><a href="#h2-0-0" id="h2-0-0" class="d">-package me.rhunk.snapenhance.manager
</a><a href="#h2-0-1" id="h2-0-1" class="d">-
</a><a href="#h2-0-2" id="h2-0-2" class="d">-import androidx.compose.animation.core.animateDpAsState
</a><a href="#h2-0-3" id="h2-0-3" class="d">-import androidx.compose.foundation.layout.PaddingValues
</a><a href="#h2-0-4" id="h2-0-4" class="d">-import androidx.compose.foundation.layout.fillMaxHeight
</a><a href="#h2-0-5" id="h2-0-5" class="d">-import androidx.compose.foundation.layout.offset
</a><a href="#h2-0-6" id="h2-0-6" class="d">-import androidx.compose.foundation.layout.padding
</a><a href="#h2-0-7" id="h2-0-7" class="d">-import androidx.compose.foundation.layout.requiredWidth
</a><a href="#h2-0-8" id="h2-0-8" class="d">-import androidx.compose.material3.Icon
</a><a href="#h2-0-9" id="h2-0-9" class="d">-import androidx.compose.material3.NavigationBar
</a><a href="#h2-0-10" id="h2-0-10" class="d">-import androidx.compose.material3.NavigationBarItem
</a><a href="#h2-0-11" id="h2-0-11" class="d">-import androidx.compose.material3.Text
</a><a href="#h2-0-12" id="h2-0-12" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h2-0-13" id="h2-0-13" class="d">-import androidx.compose.runtime.getValue
</a><a href="#h2-0-14" id="h2-0-14" class="d">-import androidx.compose.runtime.remember
</a><a href="#h2-0-15" id="h2-0-15" class="d">-import androidx.compose.ui.Modifier
</a><a href="#h2-0-16" id="h2-0-16" class="d">-import androidx.compose.ui.unit.dp
</a><a href="#h2-0-17" id="h2-0-17" class="d">-import androidx.navigation.NavController
</a><a href="#h2-0-18" id="h2-0-18" class="d">-import androidx.navigation.NavDestination.Companion.hierarchy
</a><a href="#h2-0-19" id="h2-0-19" class="d">-import androidx.navigation.NavGraph.Companion.findStartDestination
</a><a href="#h2-0-20" id="h2-0-20" class="d">-import androidx.navigation.NavHostController
</a><a href="#h2-0-21" id="h2-0-21" class="d">-import androidx.navigation.compose.NavHost
</a><a href="#h2-0-22" id="h2-0-22" class="d">-import androidx.navigation.compose.currentBackStackEntryAsState
</a><a href="#h2-0-23" id="h2-0-23" class="d">-import me.rhunk.snapenhance.manager.data.ManagerContext
</a><a href="#h2-0-24" id="h2-0-24" class="d">-
</a><a href="#h2-0-25" id="h2-0-25" class="d">-
</a><a href="#h2-0-26" id="h2-0-26" class="d">-class Navigation(
</a><a href="#h2-0-27" id="h2-0-27" class="d">-    private val context: ManagerContext
</a><a href="#h2-0-28" id="h2-0-28" class="d">-) {
</a><a href="#h2-0-29" id="h2-0-29" class="d">-    @Composable
</a><a href="#h2-0-30" id="h2-0-30" class="d">-    fun NavigationHost(
</a><a href="#h2-0-31" id="h2-0-31" class="d">-        startDestination: EnumSection,
</a><a href="#h2-0-32" id="h2-0-32" class="d">-        navController: NavHostController,
</a><a href="#h2-0-33" id="h2-0-33" class="d">-        innerPadding: PaddingValues
</a><a href="#h2-0-34" id="h2-0-34" class="d">-    ) {
</a><a href="#h2-0-35" id="h2-0-35" class="d">-        val sections = remember { EnumSection.values().toList().map {
</a><a href="#h2-0-36" id="h2-0-36" class="d">-            it to it.section.constructors.first().call()
</a><a href="#h2-0-37" id="h2-0-37" class="d">-        }.onEach { (section, instance) -&gt;
</a><a href="#h2-0-38" id="h2-0-38" class="d">-            instance.enumSection = section
</a><a href="#h2-0-39" id="h2-0-39" class="d">-            instance.manager = context
</a><a href="#h2-0-40" id="h2-0-40" class="d">-            instance.navController = navController
</a><a href="#h2-0-41" id="h2-0-41" class="d">-        } }
</a><a href="#h2-0-42" id="h2-0-42" class="d">-
</a><a href="#h2-0-43" id="h2-0-43" class="d">-        NavHost(navController, startDestination = startDestination.route, Modifier.padding(innerPadding)) {
</a><a href="#h2-0-44" id="h2-0-44" class="d">-            sections.forEach { (_, instance) -&gt;
</a><a href="#h2-0-45" id="h2-0-45" class="d">-                instance.build(this)
</a><a href="#h2-0-46" id="h2-0-46" class="d">-            }
</a><a href="#h2-0-47" id="h2-0-47" class="d">-        }
</a><a href="#h2-0-48" id="h2-0-48" class="d">-    }
</a><a href="#h2-0-49" id="h2-0-49" class="d">-
</a><a href="#h2-0-50" id="h2-0-50" class="d">-    @Composable
</a><a href="#h2-0-51" id="h2-0-51" class="d">-    fun NavBar(
</a><a href="#h2-0-52" id="h2-0-52" class="d">-        navController: NavController
</a><a href="#h2-0-53" id="h2-0-53" class="d">-    ) {
</a><a href="#h2-0-54" id="h2-0-54" class="d">-        NavigationBar {
</a><a href="#h2-0-55" id="h2-0-55" class="d">-            val navBackStackEntry by navController.currentBackStackEntryAsState()
</a><a href="#h2-0-56" id="h2-0-56" class="d">-            val currentDestination = navBackStackEntry?.destination
</a><a href="#h2-0-57" id="h2-0-57" class="d">-            EnumSection.values().toList().forEach { section -&gt;
</a><a href="#h2-0-58" id="h2-0-58" class="d">-                fun selected() = currentDestination?.hierarchy?.any { it.route == section.route } == true
</a><a href="#h2-0-59" id="h2-0-59" class="d">-
</a><a href="#h2-0-60" id="h2-0-60" class="d">-                NavigationBarItem(
</a><a href="#h2-0-61" id="h2-0-61" class="d">-                    modifier = Modifier
</a><a href="#h2-0-62" id="h2-0-62" class="d">-                        .requiredWidth(75.dp)
</a><a href="#h2-0-63" id="h2-0-63" class="d">-                        .fillMaxHeight(),
</a><a href="#h2-0-64" id="h2-0-64" class="d">-                    icon = {
</a><a href="#h2-0-65" id="h2-0-65" class="d">-                        val iconOffset by animateDpAsState(
</a><a href="#h2-0-66" id="h2-0-66" class="d">-                            if (selected()) 0.dp else 10.dp,
</a><a href="#h2-0-67" id="h2-0-67" class="d">-                            label = &quot;&quot;
</a><a href="#h2-0-68" id="h2-0-68" class="d">-                        )
</a><a href="#h2-0-69" id="h2-0-69" class="d">-                        Icon(
</a><a href="#h2-0-70" id="h2-0-70" class="d">-                            imageVector = section.icon,
</a><a href="#h2-0-71" id="h2-0-71" class="d">-                            contentDescription = null,
</a><a href="#h2-0-72" id="h2-0-72" class="d">-                            modifier = Modifier.offset(y = iconOffset)
</a><a href="#h2-0-73" id="h2-0-73" class="d">-                        )
</a><a href="#h2-0-74" id="h2-0-74" class="d">-                    },
</a><a href="#h2-0-75" id="h2-0-75" class="d">-
</a><a href="#h2-0-76" id="h2-0-76" class="d">-                    label = {
</a><a href="#h2-0-77" id="h2-0-77" class="d">-                        val labelOffset by animateDpAsState(
</a><a href="#h2-0-78" id="h2-0-78" class="d">-                            if (selected()) 0.dp else (-5).dp,
</a><a href="#h2-0-79" id="h2-0-79" class="d">-                            label = &quot;&quot;
</a><a href="#h2-0-80" id="h2-0-80" class="d">-                        )
</a><a href="#h2-0-81" id="h2-0-81" class="d">-                        Text(text = if (selected()) section.title else &quot;&quot;, modifier = Modifier.offset(y = labelOffset))
</a><a href="#h2-0-82" id="h2-0-82" class="d">-                    },
</a><a href="#h2-0-83" id="h2-0-83" class="d">-                    selected = selected(),
</a><a href="#h2-0-84" id="h2-0-84" class="d">-                    onClick = {
</a><a href="#h2-0-85" id="h2-0-85" class="d">-                        navController.navigate(section.route) {
</a><a href="#h2-0-86" id="h2-0-86" class="d">-                            popUpTo(navController.graph.findStartDestination().id) {
</a><a href="#h2-0-87" id="h2-0-87" class="d">-                                saveState = true
</a><a href="#h2-0-88" id="h2-0-88" class="d">-                            }
</a><a href="#h2-0-89" id="h2-0-89" class="d">-                            launchSingleTop = true
</a><a href="#h2-0-90" id="h2-0-90" class="d">-                            restoreState = true
</a><a href="#h2-0-91" id="h2-0-91" class="d">-                        }
</a><a href="#h2-0-92" id="h2-0-92" class="d">-                    }
</a><a href="#h2-0-93" id="h2-0-93" class="d">-                )
</a><a href="#h2-0-94" id="h2-0-94" class="d">-            }
</a><a href="#h2-0-95" id="h2-0-95" class="d">-        }
</a><a href="#h2-0-96" id="h2-0-96" class="d">-    }
</a><a href="#h2-0-97" id="h2-0-97" class="d">-}
</a><b>diff --git a/<a id="h3" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Section.kt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -1,76 +0,0 @@
</a><a href="#h3-0-0" id="h3-0-0" class="d">-package me.rhunk.snapenhance.manager
</a><a href="#h3-0-1" id="h3-0-1" class="d">-
</a><a href="#h3-0-2" id="h3-0-2" class="d">-import androidx.compose.material.icons.Icons
</a><a href="#h3-0-3" id="h3-0-3" class="d">-import androidx.compose.material.icons.filled.BugReport
</a><a href="#h3-0-4" id="h3-0-4" class="d">-import androidx.compose.material.icons.filled.Download
</a><a href="#h3-0-5" id="h3-0-5" class="d">-import androidx.compose.material.icons.filled.Group
</a><a href="#h3-0-6" id="h3-0-6" class="d">-import androidx.compose.material.icons.filled.Home
</a><a href="#h3-0-7" id="h3-0-7" class="d">-import androidx.compose.material.icons.filled.Stars
</a><a href="#h3-0-8" id="h3-0-8" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h3-0-9" id="h3-0-9" class="d">-import androidx.compose.ui.graphics.vector.ImageVector
</a><a href="#h3-0-10" id="h3-0-10" class="d">-import androidx.navigation.NavController
</a><a href="#h3-0-11" id="h3-0-11" class="d">-import androidx.navigation.NavGraphBuilder
</a><a href="#h3-0-12" id="h3-0-12" class="d">-import androidx.navigation.compose.composable
</a><a href="#h3-0-13" id="h3-0-13" class="d">-import me.rhunk.snapenhance.manager.data.ManagerContext
</a><a href="#h3-0-14" id="h3-0-14" class="d">-import me.rhunk.snapenhance.manager.sections.HomeSection
</a><a href="#h3-0-15" id="h3-0-15" class="d">-import me.rhunk.snapenhance.manager.sections.NotImplemented
</a><a href="#h3-0-16" id="h3-0-16" class="d">-import me.rhunk.snapenhance.manager.sections.features.FeaturesSection
</a><a href="#h3-0-17" id="h3-0-17" class="d">-import kotlin.reflect.KClass
</a><a href="#h3-0-18" id="h3-0-18" class="d">-
</a><a href="#h3-0-19" id="h3-0-19" class="d">-enum class EnumSection(
</a><a href="#h3-0-20" id="h3-0-20" class="d">-    val route: String,
</a><a href="#h3-0-21" id="h3-0-21" class="d">-    val title: String,
</a><a href="#h3-0-22" id="h3-0-22" class="d">-    val icon: ImageVector,
</a><a href="#h3-0-23" id="h3-0-23" class="d">-    val section: KClass&lt;out Section&gt; = NotImplemented::class
</a><a href="#h3-0-24" id="h3-0-24" class="d">-) {
</a><a href="#h3-0-25" id="h3-0-25" class="d">-    DOWNLOADS(
</a><a href="#h3-0-26" id="h3-0-26" class="d">-        route = &quot;downloads&quot;,
</a><a href="#h3-0-27" id="h3-0-27" class="d">-        title = &quot;Downloads&quot;,
</a><a href="#h3-0-28" id="h3-0-28" class="d">-        icon = Icons.Filled.Download
</a><a href="#h3-0-29" id="h3-0-29" class="d">-    ),
</a><a href="#h3-0-30" id="h3-0-30" class="d">-    FEATURES(
</a><a href="#h3-0-31" id="h3-0-31" class="d">-        route = &quot;features&quot;,
</a><a href="#h3-0-32" id="h3-0-32" class="d">-        title = &quot;Features&quot;,
</a><a href="#h3-0-33" id="h3-0-33" class="d">-        icon = Icons.Filled.Stars,
</a><a href="#h3-0-34" id="h3-0-34" class="d">-        section = FeaturesSection::class
</a><a href="#h3-0-35" id="h3-0-35" class="d">-    ),
</a><a href="#h3-0-36" id="h3-0-36" class="d">-    HOME(
</a><a href="#h3-0-37" id="h3-0-37" class="d">-        route = &quot;home&quot;,
</a><a href="#h3-0-38" id="h3-0-38" class="d">-        title = &quot;Home&quot;,
</a><a href="#h3-0-39" id="h3-0-39" class="d">-        icon = Icons.Filled.Home,
</a><a href="#h3-0-40" id="h3-0-40" class="d">-        section = HomeSection::class
</a><a href="#h3-0-41" id="h3-0-41" class="d">-    ),
</a><a href="#h3-0-42" id="h3-0-42" class="d">-    FRIENDS(
</a><a href="#h3-0-43" id="h3-0-43" class="d">-        route = &quot;friends&quot;,
</a><a href="#h3-0-44" id="h3-0-44" class="d">-        title = &quot;Friends&quot;,
</a><a href="#h3-0-45" id="h3-0-45" class="d">-        icon = Icons.Filled.Group
</a><a href="#h3-0-46" id="h3-0-46" class="d">-    ),
</a><a href="#h3-0-47" id="h3-0-47" class="d">-    DEBUG(
</a><a href="#h3-0-48" id="h3-0-48" class="d">-        route = &quot;debug&quot;,
</a><a href="#h3-0-49" id="h3-0-49" class="d">-        title = &quot;Debug&quot;,
</a><a href="#h3-0-50" id="h3-0-50" class="d">-        icon = Icons.Filled.BugReport
</a><a href="#h3-0-51" id="h3-0-51" class="d">-    );
</a><a href="#h3-0-52" id="h3-0-52" class="d">-
</a><a href="#h3-0-53" id="h3-0-53" class="d">-    companion object {
</a><a href="#h3-0-54" id="h3-0-54" class="d">-        fun fromRoute(route: String): EnumSection {
</a><a href="#h3-0-55" id="h3-0-55" class="d">-            return values().first { it.route == route }
</a><a href="#h3-0-56" id="h3-0-56" class="d">-        }
</a><a href="#h3-0-57" id="h3-0-57" class="d">-    }
</a><a href="#h3-0-58" id="h3-0-58" class="d">-}
</a><a href="#h3-0-59" id="h3-0-59" class="d">-
</a><a href="#h3-0-60" id="h3-0-60" class="d">-
</a><a href="#h3-0-61" id="h3-0-61" class="d">-
</a><a href="#h3-0-62" id="h3-0-62" class="d">-open class Section {
</a><a href="#h3-0-63" id="h3-0-63" class="d">-    lateinit var enumSection: EnumSection
</a><a href="#h3-0-64" id="h3-0-64" class="d">-    lateinit var manager: ManagerContext
</a><a href="#h3-0-65" id="h3-0-65" class="d">-    lateinit var navController: NavController
</a><a href="#h3-0-66" id="h3-0-66" class="d">-
</a><a href="#h3-0-67" id="h3-0-67" class="d">-    @Composable
</a><a href="#h3-0-68" id="h3-0-68" class="d">-    open fun Content() { NotImplemented() }
</a><a href="#h3-0-69" id="h3-0-69" class="d">-
</a><a href="#h3-0-70" id="h3-0-70" class="d">-    open fun build(navGraphBuilder: NavGraphBuilder) {
</a><a href="#h3-0-71" id="h3-0-71" class="d">-        navGraphBuilder.composable(enumSection.route) {
</a><a href="#h3-0-72" id="h3-0-72" class="d">-            Content()
</a><a href="#h3-0-73" id="h3-0-73" class="d">-        }
</a><a href="#h3-0-74" id="h3-0-74" class="d">-    }
</a><a href="#h3-0-75" id="h3-0-75" class="d">-}</a><a href="#h3-0-76" id="h3-0-76" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h4" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/Theme.kt</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -1,162 +0,0 @@
</a><a href="#h4-0-0" id="h4-0-0" class="d">-package me.rhunk.snapenhance.manager
</a><a href="#h4-0-1" id="h4-0-1" class="d">-
</a><a href="#h4-0-2" id="h4-0-2" class="d">-import android.os.Build
</a><a href="#h4-0-3" id="h4-0-3" class="d">-import androidx.compose.foundation.isSystemInDarkTheme
</a><a href="#h4-0-4" id="h4-0-4" class="d">-import androidx.compose.material3.MaterialTheme
</a><a href="#h4-0-5" id="h4-0-5" class="d">-import androidx.compose.material3.dynamicDarkColorScheme
</a><a href="#h4-0-6" id="h4-0-6" class="d">-import androidx.compose.material3.dynamicLightColorScheme
</a><a href="#h4-0-7" id="h4-0-7" class="d">-import androidx.compose.material3.lightColorScheme
</a><a href="#h4-0-8" id="h4-0-8" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h4-0-9" id="h4-0-9" class="d">-import androidx.compose.ui.graphics.Color
</a><a href="#h4-0-10" id="h4-0-10" class="d">-import androidx.compose.ui.platform.LocalContext
</a><a href="#h4-0-11" id="h4-0-11" class="d">-
</a><a href="#h4-0-12" id="h4-0-12" class="d">-val md_theme_light_primary = Color(0xFF6750A4)
</a><a href="#h4-0-13" id="h4-0-13" class="d">-val md_theme_light_onPrimary = Color(0xFFFFFFFF)
</a><a href="#h4-0-14" id="h4-0-14" class="d">-val md_theme_light_primaryContainer = Color(0xFFE9DDFF)
</a><a href="#h4-0-15" id="h4-0-15" class="d">-val md_theme_light_onPrimaryContainer = Color(0xFF22005D)
</a><a href="#h4-0-16" id="h4-0-16" class="d">-val md_theme_light_secondary = Color(0xFF625B71)
</a><a href="#h4-0-17" id="h4-0-17" class="d">-val md_theme_light_onSecondary = Color(0xFFFFFFFF)
</a><a href="#h4-0-18" id="h4-0-18" class="d">-val md_theme_light_secondaryContainer = Color(0xFFE8DEF8)
</a><a href="#h4-0-19" id="h4-0-19" class="d">-val md_theme_light_onSecondaryContainer = Color(0xFF1E192B)
</a><a href="#h4-0-20" id="h4-0-20" class="d">-val md_theme_light_tertiary = Color(0xFF3C5BA9)
</a><a href="#h4-0-21" id="h4-0-21" class="d">-val md_theme_light_onTertiary = Color(0xFFFFFFFF)
</a><a href="#h4-0-22" id="h4-0-22" class="d">-val md_theme_light_tertiaryContainer = Color(0xFFDBE1FF)
</a><a href="#h4-0-23" id="h4-0-23" class="d">-val md_theme_light_onTertiaryContainer = Color(0xFF001849)
</a><a href="#h4-0-24" id="h4-0-24" class="d">-val md_theme_light_error = Color(0xFFBA1A1A)
</a><a href="#h4-0-25" id="h4-0-25" class="d">-val md_theme_light_errorContainer = Color(0xFFFFDAD6)
</a><a href="#h4-0-26" id="h4-0-26" class="d">-val md_theme_light_onError = Color(0xFFFFFFFF)
</a><a href="#h4-0-27" id="h4-0-27" class="d">-val md_theme_light_onErrorContainer = Color(0xFF410002)
</a><a href="#h4-0-28" id="h4-0-28" class="d">-val md_theme_light_background = Color(0xFFFFFBFF)
</a><a href="#h4-0-29" id="h4-0-29" class="d">-val md_theme_light_onBackground = Color(0xFF1C1B1E)
</a><a href="#h4-0-30" id="h4-0-30" class="d">-val md_theme_light_surface = Color(0xFFFFFBFF)
</a><a href="#h4-0-31" id="h4-0-31" class="d">-val md_theme_light_onSurface = Color(0xFF1C1B1E)
</a><a href="#h4-0-32" id="h4-0-32" class="d">-val md_theme_light_surfaceVariant = Color(0xFFE7E0EB)
</a><a href="#h4-0-33" id="h4-0-33" class="d">-val md_theme_light_onSurfaceVariant = Color(0xFF49454E)
</a><a href="#h4-0-34" id="h4-0-34" class="d">-val md_theme_light_outline = Color(0xFF7A757F)
</a><a href="#h4-0-35" id="h4-0-35" class="d">-val md_theme_light_inverseOnSurface = Color(0xFFF4EFF4)
</a><a href="#h4-0-36" id="h4-0-36" class="d">-val md_theme_light_inverseSurface = Color(0xFF313033)
</a><a href="#h4-0-37" id="h4-0-37" class="d">-val md_theme_light_inversePrimary = Color(0xFFCFBCFF)
</a><a href="#h4-0-38" id="h4-0-38" class="d">-val md_theme_light_surfaceTint = Color(0xFF6750A4)
</a><a href="#h4-0-39" id="h4-0-39" class="d">-val md_theme_light_outlineVariant = Color(0xFFCAC4CF)
</a><a href="#h4-0-40" id="h4-0-40" class="d">-val md_theme_light_scrim = Color(0xFF000000)
</a><a href="#h4-0-41" id="h4-0-41" class="d">-
</a><a href="#h4-0-42" id="h4-0-42" class="d">-val md_theme_dark_primary = Color(0xFFCFBCFF)
</a><a href="#h4-0-43" id="h4-0-43" class="d">-val md_theme_dark_onPrimary = Color(0xFF381E72)
</a><a href="#h4-0-44" id="h4-0-44" class="d">-val md_theme_dark_primaryContainer = Color(0xFF4F378A)
</a><a href="#h4-0-45" id="h4-0-45" class="d">-val md_theme_dark_onPrimaryContainer = Color(0xFFE9DDFF)
</a><a href="#h4-0-46" id="h4-0-46" class="d">-val md_theme_dark_secondary = Color(0xFFCBC2DB)
</a><a href="#h4-0-47" id="h4-0-47" class="d">-val md_theme_dark_onSecondary = Color(0xFF332D41)
</a><a href="#h4-0-48" id="h4-0-48" class="d">-val md_theme_dark_secondaryContainer = Color(0xFF4A4458)
</a><a href="#h4-0-49" id="h4-0-49" class="d">-val md_theme_dark_onSecondaryContainer = Color(0xFFE8DEF8)
</a><a href="#h4-0-50" id="h4-0-50" class="d">-val md_theme_dark_tertiary = Color(0xFFB3C5FF)
</a><a href="#h4-0-51" id="h4-0-51" class="d">-val md_theme_dark_onTertiary = Color(0xFF002B75)
</a><a href="#h4-0-52" id="h4-0-52" class="d">-val md_theme_dark_tertiaryContainer = Color(0xFF21428F)
</a><a href="#h4-0-53" id="h4-0-53" class="d">-val md_theme_dark_onTertiaryContainer = Color(0xFFDBE1FF)
</a><a href="#h4-0-54" id="h4-0-54" class="d">-val md_theme_dark_error = Color(0xFFFFB4AB)
</a><a href="#h4-0-55" id="h4-0-55" class="d">-val md_theme_dark_errorContainer = Color(0xFF93000A)
</a><a href="#h4-0-56" id="h4-0-56" class="d">-val md_theme_dark_onError = Color(0xFF690005)
</a><a href="#h4-0-57" id="h4-0-57" class="d">-val md_theme_dark_onErrorContainer = Color(0xFFFFDAD6)
</a><a href="#h4-0-58" id="h4-0-58" class="d">-val md_theme_dark_background = Color(0xFF1C1B1E)
</a><a href="#h4-0-59" id="h4-0-59" class="d">-val md_theme_dark_onBackground = Color(0xFFE6E1E6)
</a><a href="#h4-0-60" id="h4-0-60" class="d">-val md_theme_dark_surface = Color(0xFF1C1B1E)
</a><a href="#h4-0-61" id="h4-0-61" class="d">-val md_theme_dark_onSurface = Color(0xFFE6E1E6)
</a><a href="#h4-0-62" id="h4-0-62" class="d">-val md_theme_dark_surfaceVariant = Color(0xFF49454E)
</a><a href="#h4-0-63" id="h4-0-63" class="d">-val md_theme_dark_onSurfaceVariant = Color(0xFFCAC4CF)
</a><a href="#h4-0-64" id="h4-0-64" class="d">-val md_theme_dark_outline = Color(0xFF948F99)
</a><a href="#h4-0-65" id="h4-0-65" class="d">-val md_theme_dark_inverseOnSurface = Color(0xFF1C1B1E)
</a><a href="#h4-0-66" id="h4-0-66" class="d">-val md_theme_dark_inverseSurface = Color(0xFFE6E1E6)
</a><a href="#h4-0-67" id="h4-0-67" class="d">-val md_theme_dark_inversePrimary = Color(0xFF6750A4)
</a><a href="#h4-0-68" id="h4-0-68" class="d">-val md_theme_dark_surfaceTint = Color(0xFFCFBCFF)
</a><a href="#h4-0-69" id="h4-0-69" class="d">-val md_theme_dark_outlineVariant = Color(0xFF49454E)
</a><a href="#h4-0-70" id="h4-0-70" class="d">-val md_theme_dark_scrim = Color(0xFF000000)
</a><a href="#h4-0-71" id="h4-0-71" class="d">-
</a><a href="#h4-0-72" id="h4-0-72" class="d">-
</a><a href="#h4-0-73" id="h4-0-73" class="d">-val seed = Color(0xFF6750A4)
</a><a href="#h4-0-74" id="h4-0-74" class="d">-
</a><a href="#h4-0-75" id="h4-0-75" class="d">-
</a><a href="#h4-0-76" id="h4-0-76" class="d">-private val LightThemeColors = lightColorScheme(
</a><a href="#h4-0-77" id="h4-0-77" class="d">-    primary = md_theme_light_primary,
</a><a href="#h4-0-78" id="h4-0-78" class="d">-    onPrimary = md_theme_light_onPrimary,
</a><a href="#h4-0-79" id="h4-0-79" class="d">-    primaryContainer = md_theme_light_primaryContainer,
</a><a href="#h4-0-80" id="h4-0-80" class="d">-    onPrimaryContainer = md_theme_light_onPrimaryContainer,
</a><a href="#h4-0-81" id="h4-0-81" class="d">-    secondary = md_theme_light_secondary,
</a><a href="#h4-0-82" id="h4-0-82" class="d">-    onSecondary = md_theme_light_onSecondary,
</a><a href="#h4-0-83" id="h4-0-83" class="d">-    secondaryContainer = md_theme_light_secondaryContainer,
</a><a href="#h4-0-84" id="h4-0-84" class="d">-    onSecondaryContainer = md_theme_light_onSecondaryContainer,
</a><a href="#h4-0-85" id="h4-0-85" class="d">-    tertiary = md_theme_light_tertiary,
</a><a href="#h4-0-86" id="h4-0-86" class="d">-    onTertiary = md_theme_light_onTertiary,
</a><a href="#h4-0-87" id="h4-0-87" class="d">-    tertiaryContainer = md_theme_light_tertiaryContainer,
</a><a href="#h4-0-88" id="h4-0-88" class="d">-    onTertiaryContainer = md_theme_light_onTertiaryContainer,
</a><a href="#h4-0-89" id="h4-0-89" class="d">-    error = md_theme_light_error,
</a><a href="#h4-0-90" id="h4-0-90" class="d">-    onError = md_theme_light_onError,
</a><a href="#h4-0-91" id="h4-0-91" class="d">-    errorContainer = md_theme_light_errorContainer,
</a><a href="#h4-0-92" id="h4-0-92" class="d">-    onErrorContainer = md_theme_light_onErrorContainer,
</a><a href="#h4-0-93" id="h4-0-93" class="d">-    background = md_theme_light_background,
</a><a href="#h4-0-94" id="h4-0-94" class="d">-    onBackground = md_theme_light_onBackground,
</a><a href="#h4-0-95" id="h4-0-95" class="d">-    surface = md_theme_light_surface,
</a><a href="#h4-0-96" id="h4-0-96" class="d">-    onSurface = md_theme_light_onSurface,
</a><a href="#h4-0-97" id="h4-0-97" class="d">-    surfaceVariant = md_theme_light_surfaceVariant,
</a><a href="#h4-0-98" id="h4-0-98" class="d">-    onSurfaceVariant = md_theme_light_onSurfaceVariant,
</a><a href="#h4-0-99" id="h4-0-99" class="d">-    outline = md_theme_light_outline,
</a><a href="#h4-0-100" id="h4-0-100" class="d">-    inverseOnSurface = md_theme_light_inverseOnSurface,
</a><a href="#h4-0-101" id="h4-0-101" class="d">-    inverseSurface = md_theme_light_inverseSurface,
</a><a href="#h4-0-102" id="h4-0-102" class="d">-    inversePrimary = md_theme_light_inversePrimary,
</a><a href="#h4-0-103" id="h4-0-103" class="d">-    surfaceTint = md_theme_light_surfaceTint,
</a><a href="#h4-0-104" id="h4-0-104" class="d">-    outlineVariant = md_theme_light_outlineVariant,
</a><a href="#h4-0-105" id="h4-0-105" class="d">-    scrim = md_theme_light_scrim
</a><a href="#h4-0-106" id="h4-0-106" class="d">-)
</a><a href="#h4-0-107" id="h4-0-107" class="d">-
</a><a href="#h4-0-108" id="h4-0-108" class="d">-private val DarkThemeColors = lightColorScheme(
</a><a href="#h4-0-109" id="h4-0-109" class="d">-    primary = md_theme_dark_primary,
</a><a href="#h4-0-110" id="h4-0-110" class="d">-    onPrimary = md_theme_dark_onPrimary,
</a><a href="#h4-0-111" id="h4-0-111" class="d">-    primaryContainer = md_theme_dark_primaryContainer,
</a><a href="#h4-0-112" id="h4-0-112" class="d">-    onPrimaryContainer = md_theme_dark_onPrimaryContainer,
</a><a href="#h4-0-113" id="h4-0-113" class="d">-    secondary = md_theme_dark_secondary,
</a><a href="#h4-0-114" id="h4-0-114" class="d">-    onSecondary = md_theme_dark_onSecondary,
</a><a href="#h4-0-115" id="h4-0-115" class="d">-    secondaryContainer = md_theme_dark_secondaryContainer,
</a><a href="#h4-0-116" id="h4-0-116" class="d">-    onSecondaryContainer = md_theme_dark_onSecondaryContainer,
</a><a href="#h4-0-117" id="h4-0-117" class="d">-    tertiary = md_theme_dark_tertiary,
</a><a href="#h4-0-118" id="h4-0-118" class="d">-    onTertiary = md_theme_dark_onTertiary,
</a><a href="#h4-0-119" id="h4-0-119" class="d">-    tertiaryContainer = md_theme_dark_tertiaryContainer,
</a><a href="#h4-0-120" id="h4-0-120" class="d">-    onTertiaryContainer = md_theme_dark_onTertiaryContainer,
</a><a href="#h4-0-121" id="h4-0-121" class="d">-    error = md_theme_dark_error,
</a><a href="#h4-0-122" id="h4-0-122" class="d">-    onError = md_theme_dark_onError,
</a><a href="#h4-0-123" id="h4-0-123" class="d">-    errorContainer = md_theme_dark_errorContainer,
</a><a href="#h4-0-124" id="h4-0-124" class="d">-    onErrorContainer = md_theme_dark_onErrorContainer,
</a><a href="#h4-0-125" id="h4-0-125" class="d">-    background = md_theme_dark_background,
</a><a href="#h4-0-126" id="h4-0-126" class="d">-    onBackground = md_theme_dark_onBackground,
</a><a href="#h4-0-127" id="h4-0-127" class="d">-    surface = md_theme_dark_surface,
</a><a href="#h4-0-128" id="h4-0-128" class="d">-    onSurface = md_theme_dark_onSurface,
</a><a href="#h4-0-129" id="h4-0-129" class="d">-    surfaceVariant = md_theme_dark_surfaceVariant,
</a><a href="#h4-0-130" id="h4-0-130" class="d">-    onSurfaceVariant = md_theme_dark_onSurfaceVariant,
</a><a href="#h4-0-131" id="h4-0-131" class="d">-    outline = md_theme_dark_outline,
</a><a href="#h4-0-132" id="h4-0-132" class="d">-    inverseOnSurface = md_theme_dark_inverseOnSurface,
</a><a href="#h4-0-133" id="h4-0-133" class="d">-    inverseSurface = md_theme_dark_inverseSurface,
</a><a href="#h4-0-134" id="h4-0-134" class="d">-    inversePrimary = md_theme_dark_inversePrimary,
</a><a href="#h4-0-135" id="h4-0-135" class="d">-    surfaceTint = md_theme_dark_surfaceTint,
</a><a href="#h4-0-136" id="h4-0-136" class="d">-    outlineVariant = md_theme_dark_outlineVariant,
</a><a href="#h4-0-137" id="h4-0-137" class="d">-    scrim = md_theme_dark_scrim
</a><a href="#h4-0-138" id="h4-0-138" class="d">-)
</a><a href="#h4-0-139" id="h4-0-139" class="d">-
</a><a href="#h4-0-140" id="h4-0-140" class="d">-@Composable
</a><a href="#h4-0-141" id="h4-0-141" class="d">-fun AppMaterialTheme(
</a><a href="#h4-0-142" id="h4-0-142" class="d">-    isDarkTheme: Boolean = isSystemInDarkTheme(),
</a><a href="#h4-0-143" id="h4-0-143" class="d">-    content: @Composable () -&gt; Unit
</a><a href="#h4-0-144" id="h4-0-144" class="d">-) {
</a><a href="#h4-0-145" id="h4-0-145" class="d">-    val dynamicColor = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S
</a><a href="#h4-0-146" id="h4-0-146" class="d">-    val colorScheme = when {
</a><a href="#h4-0-147" id="h4-0-147" class="d">-        dynamicColor &amp;&amp; isDarkTheme -&gt; {
</a><a href="#h4-0-148" id="h4-0-148" class="d">-            dynamicDarkColorScheme(LocalContext.current)
</a><a href="#h4-0-149" id="h4-0-149" class="d">-        }
</a><a href="#h4-0-150" id="h4-0-150" class="d">-        dynamicColor &amp;&amp; !isDarkTheme -&gt; {
</a><a href="#h4-0-151" id="h4-0-151" class="d">-            dynamicLightColorScheme(LocalContext.current)
</a><a href="#h4-0-152" id="h4-0-152" class="d">-        }
</a><a href="#h4-0-153" id="h4-0-153" class="d">-        !isDarkTheme -&gt; LightThemeColors
</a><a href="#h4-0-154" id="h4-0-154" class="d">-        else -&gt; DarkThemeColors
</a><a href="#h4-0-155" id="h4-0-155" class="d">-    }
</a><a href="#h4-0-156" id="h4-0-156" class="d">-
</a><a href="#h4-0-157" id="h4-0-157" class="d">-    MaterialTheme(
</a><a href="#h4-0-158" id="h4-0-158" class="d">-        colorScheme = colorScheme,
</a><a href="#h4-0-159" id="h4-0-159" class="d">-        content = content
</a><a href="#h4-0-160" id="h4-0-160" class="d">-    )
</a><a href="#h4-0-161" id="h4-0-161" class="d">-}</a><a href="#h4-0-162" id="h4-0-162" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h5" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/InstallationSummary.kt</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h5-0-0" id="h5-0-0" class="d">-package me.rhunk.snapenhance.manager.data
</a><a href="#h5-0-1" id="h5-0-1" class="d">-
</a><a href="#h5-0-2" id="h5-0-2" class="d">-
</a><a href="#h5-0-3" id="h5-0-3" class="d">-data class SnapchatAppInfo(
</a><a href="#h5-0-4" id="h5-0-4" class="d">-    val version: String,
</a><a href="#h5-0-5" id="h5-0-5" class="d">-    val versionCode: Long
</a><a href="#h5-0-6" id="h5-0-6" class="d">-)
</a><a href="#h5-0-7" id="h5-0-7" class="d">-
</a><a href="#h5-0-8" id="h5-0-8" class="d">-data class ModMappingsInfo(
</a><a href="#h5-0-9" id="h5-0-9" class="d">-    val generatedSnapchatVersion: Long,
</a><a href="#h5-0-10" id="h5-0-10" class="d">-    val isOutdated: Boolean
</a><a href="#h5-0-11" id="h5-0-11" class="d">-)
</a><a href="#h5-0-12" id="h5-0-12" class="d">-
</a><a href="#h5-0-13" id="h5-0-13" class="d">-data class InstallationSummary(
</a><a href="#h5-0-14" id="h5-0-14" class="d">-    val snapchatInfo: SnapchatAppInfo?,
</a><a href="#h5-0-15" id="h5-0-15" class="d">-    val mappingsInfo: ModMappingsInfo?
</a><a href="#h5-0-16" id="h5-0-16" class="d">-)
</a><b>diff --git a/<a id="h6" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/data/ManagerContext.kt</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -1,35 +0,0 @@
</a><a href="#h6-0-0" id="h6-0-0" class="d">-package me.rhunk.snapenhance.manager.data
</a><a href="#h6-0-1" id="h6-0-1" class="d">-
</a><a href="#h6-0-2" id="h6-0-2" class="d">-import android.content.Context
</a><a href="#h6-0-3" id="h6-0-3" class="d">-import me.rhunk.snapenhance.bridge.wrapper.MappingsWrapper
</a><a href="#h6-0-4" id="h6-0-4" class="d">-import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h6-0-5" id="h6-0-5" class="d">-import me.rhunk.snapenhance.core.config.ModConfig
</a><a href="#h6-0-6" id="h6-0-6" class="d">-
</a><a href="#h6-0-7" id="h6-0-7" class="d">-class ManagerContext(
</a><a href="#h6-0-8" id="h6-0-8" class="d">-    private val context: Context
</a><a href="#h6-0-9" id="h6-0-9" class="d">-) {
</a><a href="#h6-0-10" id="h6-0-10" class="d">-    val config = ModConfig()
</a><a href="#h6-0-11" id="h6-0-11" class="d">-    val translation = TranslationWrapper()
</a><a href="#h6-0-12" id="h6-0-12" class="d">-    val mappings = MappingsWrapper(context)
</a><a href="#h6-0-13" id="h6-0-13" class="d">-
</a><a href="#h6-0-14" id="h6-0-14" class="d">-    init {
</a><a href="#h6-0-15" id="h6-0-15" class="d">-        config.loadFromContext(context)
</a><a href="#h6-0-16" id="h6-0-16" class="d">-        translation.loadFromContext(context)
</a><a href="#h6-0-17" id="h6-0-17" class="d">-        mappings.apply { loadFromContext(context) }.init()
</a><a href="#h6-0-18" id="h6-0-18" class="d">-    }
</a><a href="#h6-0-19" id="h6-0-19" class="d">-
</a><a href="#h6-0-20" id="h6-0-20" class="d">-    fun getInstallationSummary() = InstallationSummary(
</a><a href="#h6-0-21" id="h6-0-21" class="d">-        snapchatInfo = mappings.getSnapchatPackageInfo()?.let {
</a><a href="#h6-0-22" id="h6-0-22" class="d">-            SnapchatAppInfo(
</a><a href="#h6-0-23" id="h6-0-23" class="d">-                version = it.versionName,
</a><a href="#h6-0-24" id="h6-0-24" class="d">-                versionCode = it.longVersionCode
</a><a href="#h6-0-25" id="h6-0-25" class="d">-            )
</a><a href="#h6-0-26" id="h6-0-26" class="d">-        },
</a><a href="#h6-0-27" id="h6-0-27" class="d">-        mappingsInfo = if (mappings.isMappingsLoaded()) {
</a><a href="#h6-0-28" id="h6-0-28" class="d">-            ModMappingsInfo(
</a><a href="#h6-0-29" id="h6-0-29" class="d">-                generatedSnapchatVersion = mappings.getGeneratedBuildNumber(),
</a><a href="#h6-0-30" id="h6-0-30" class="d">-                isOutdated = mappings.isMappingsOutdated()
</a><a href="#h6-0-31" id="h6-0-31" class="d">-            )
</a><a href="#h6-0-32" id="h6-0-32" class="d">-        } else null
</a><a href="#h6-0-33" id="h6-0-33" class="d">-    )
</a><a href="#h6-0-34" id="h6-0-34" class="d">-}</a><a href="#h6-0-35" id="h6-0-35" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h7" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/DebugSection.kt</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -1,4 +0,0 @@
</a><a href="#h7-0-0" id="h7-0-0" class="d">-package me.rhunk.snapenhance.manager.sections
</a><a href="#h7-0-1" id="h7-0-1" class="d">-
</a><a href="#h7-0-2" id="h7-0-2" class="d">-class DebugSection {
</a><a href="#h7-0-3" id="h7-0-3" class="d">-}</a><a href="#h7-0-4" id="h7-0-4" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h8" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/HomeSection.kt</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -1,108 +0,0 @@
</a><a href="#h8-0-0" id="h8-0-0" class="d">-package me.rhunk.snapenhance.manager.sections
</a><a href="#h8-0-1" id="h8-0-1" class="d">-
</a><a href="#h8-0-2" id="h8-0-2" class="d">-import androidx.compose.foundation.ScrollState
</a><a href="#h8-0-3" id="h8-0-3" class="d">-import androidx.compose.foundation.layout.Arrangement
</a><a href="#h8-0-4" id="h8-0-4" class="d">-import androidx.compose.foundation.layout.Column
</a><a href="#h8-0-5" id="h8-0-5" class="d">-import androidx.compose.foundation.layout.ExperimentalLayoutApi
</a><a href="#h8-0-6" id="h8-0-6" class="d">-import androidx.compose.foundation.layout.FlowRow
</a><a href="#h8-0-7" id="h8-0-7" class="d">-import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h8-0-8" id="h8-0-8" class="d">-import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h8-0-9" id="h8-0-9" class="d">-import androidx.compose.foundation.layout.height
</a><a href="#h8-0-10" id="h8-0-10" class="d">-import androidx.compose.foundation.layout.padding
</a><a href="#h8-0-11" id="h8-0-11" class="d">-import androidx.compose.foundation.verticalScroll
</a><a href="#h8-0-12" id="h8-0-12" class="d">-import androidx.compose.material.icons.Icons
</a><a href="#h8-0-13" id="h8-0-13" class="d">-import androidx.compose.material.icons.filled.Map
</a><a href="#h8-0-14" id="h8-0-14" class="d">-import androidx.compose.material.icons.filled.Refresh
</a><a href="#h8-0-15" id="h8-0-15" class="d">-import androidx.compose.material3.Button
</a><a href="#h8-0-16" id="h8-0-16" class="d">-import androidx.compose.material3.Icon
</a><a href="#h8-0-17" id="h8-0-17" class="d">-import androidx.compose.material3.OutlinedCard
</a><a href="#h8-0-18" id="h8-0-18" class="d">-import androidx.compose.material3.Text
</a><a href="#h8-0-19" id="h8-0-19" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h8-0-20" id="h8-0-20" class="d">-import androidx.compose.ui.Alignment
</a><a href="#h8-0-21" id="h8-0-21" class="d">-import androidx.compose.ui.Modifier
</a><a href="#h8-0-22" id="h8-0-22" class="d">-import androidx.compose.ui.tooling.preview.Preview
</a><a href="#h8-0-23" id="h8-0-23" class="d">-import androidx.compose.ui.unit.dp
</a><a href="#h8-0-24" id="h8-0-24" class="d">-import androidx.compose.ui.unit.sp
</a><a href="#h8-0-25" id="h8-0-25" class="d">-import me.rhunk.snapenhance.manager.Section
</a><a href="#h8-0-26" id="h8-0-26" class="d">-import me.rhunk.snapenhance.manager.data.InstallationSummary
</a><a href="#h8-0-27" id="h8-0-27" class="d">-
</a><a href="#h8-0-28" id="h8-0-28" class="d">-class HomeSection : Section() {
</a><a href="#h8-0-29" id="h8-0-29" class="d">-    companion object {
</a><a href="#h8-0-30" id="h8-0-30" class="d">-        val cardMargin = 10.dp
</a><a href="#h8-0-31" id="h8-0-31" class="d">-    }
</a><a href="#h8-0-32" id="h8-0-32" class="d">-
</a><a href="#h8-0-33" id="h8-0-33" class="d">-    @OptIn(ExperimentalLayoutApi::class)
</a><a href="#h8-0-34" id="h8-0-34" class="d">-    @Composable
</a><a href="#h8-0-35" id="h8-0-35" class="d">-    private fun SummaryCards(installationSummary: InstallationSummary) {
</a><a href="#h8-0-36" id="h8-0-36" class="d">-        //installation summary
</a><a href="#h8-0-37" id="h8-0-37" class="d">-        OutlinedCard(
</a><a href="#h8-0-38" id="h8-0-38" class="d">-            modifier = Modifier
</a><a href="#h8-0-39" id="h8-0-39" class="d">-                .padding(all = cardMargin)
</a><a href="#h8-0-40" id="h8-0-40" class="d">-                .fillMaxWidth()
</a><a href="#h8-0-41" id="h8-0-41" class="d">-        ) {
</a><a href="#h8-0-42" id="h8-0-42" class="d">-            Column(modifier = Modifier.padding(all = 16.dp)) {
</a><a href="#h8-0-43" id="h8-0-43" class="d">-                if (installationSummary.snapchatInfo != null) {
</a><a href="#h8-0-44" id="h8-0-44" class="d">-                    Text(&quot;Snapchat version: ${installationSummary.snapchatInfo.version}&quot;)
</a><a href="#h8-0-45" id="h8-0-45" class="d">-                    Text(&quot;Snapchat version code: ${installationSummary.snapchatInfo.versionCode}&quot;)
</a><a href="#h8-0-46" id="h8-0-46" class="d">-                } else {
</a><a href="#h8-0-47" id="h8-0-47" class="d">-                    Text(&quot;Snapchat not installed/detected&quot;)
</a><a href="#h8-0-48" id="h8-0-48" class="d">-                }
</a><a href="#h8-0-49" id="h8-0-49" class="d">-            }
</a><a href="#h8-0-50" id="h8-0-50" class="d">-        }
</a><a href="#h8-0-51" id="h8-0-51" class="d">-
</a><a href="#h8-0-52" id="h8-0-52" class="d">-        OutlinedCard(
</a><a href="#h8-0-53" id="h8-0-53" class="d">-            modifier = Modifier
</a><a href="#h8-0-54" id="h8-0-54" class="d">-                .padding(all = cardMargin)
</a><a href="#h8-0-55" id="h8-0-55" class="d">-                .fillMaxWidth()
</a><a href="#h8-0-56" id="h8-0-56" class="d">-        ) {
</a><a href="#h8-0-57" id="h8-0-57" class="d">-            FlowRow(
</a><a href="#h8-0-58" id="h8-0-58" class="d">-                modifier = Modifier.padding(all = 16.dp),
</a><a href="#h8-0-59" id="h8-0-59" class="d">-                horizontalArrangement = Arrangement.SpaceBetween
</a><a href="#h8-0-60" id="h8-0-60" class="d">-            ) {
</a><a href="#h8-0-61" id="h8-0-61" class="d">-                Icon(
</a><a href="#h8-0-62" id="h8-0-62" class="d">-                    Icons.Filled.Map,
</a><a href="#h8-0-63" id="h8-0-63" class="d">-                    contentDescription = &quot;Mappings&quot;,
</a><a href="#h8-0-64" id="h8-0-64" class="d">-                    modifier = Modifier
</a><a href="#h8-0-65" id="h8-0-65" class="d">-                        .padding(end = 10.dp)
</a><a href="#h8-0-66" id="h8-0-66" class="d">-                        .align(Alignment.CenterVertically)
</a><a href="#h8-0-67" id="h8-0-67" class="d">-                )
</a><a href="#h8-0-68" id="h8-0-68" class="d">-
</a><a href="#h8-0-69" id="h8-0-69" class="d">-                Text(text = if (installationSummary.mappingsInfo == null || installationSummary.mappingsInfo.isOutdated) {
</a><a href="#h8-0-70" id="h8-0-70" class="d">-                    &quot;Mappings ${if (installationSummary.mappingsInfo == null) &quot;not generated&quot; else &quot;outdated&quot;}&quot;
</a><a href="#h8-0-71" id="h8-0-71" class="d">-                } else {
</a><a href="#h8-0-72" id="h8-0-72" class="d">-                    &quot;Mappings version ${installationSummary.mappingsInfo.generatedSnapchatVersion}&quot;
</a><a href="#h8-0-73" id="h8-0-73" class="d">-                }, modifier = Modifier.weight(1f)
</a><a href="#h8-0-74" id="h8-0-74" class="d">-                    .align(Alignment.CenterVertically)
</a><a href="#h8-0-75" id="h8-0-75" class="d">-                )
</a><a href="#h8-0-76" id="h8-0-76" class="d">-
</a><a href="#h8-0-77" id="h8-0-77" class="d">-                //inline button
</a><a href="#h8-0-78" id="h8-0-78" class="d">-                Button(onClick = {}, modifier = Modifier.height(40.dp)) {
</a><a href="#h8-0-79" id="h8-0-79" class="d">-                    Icon(Icons.Filled.Refresh, contentDescription = &quot;Refresh&quot;)
</a><a href="#h8-0-80" id="h8-0-80" class="d">-                }
</a><a href="#h8-0-81" id="h8-0-81" class="d">-            }
</a><a href="#h8-0-82" id="h8-0-82" class="d">-        }
</a><a href="#h8-0-83" id="h8-0-83" class="d">-    }
</a><a href="#h8-0-84" id="h8-0-84" class="d">-
</a><a href="#h8-0-85" id="h8-0-85" class="d">-    @Composable
</a><a href="#h8-0-86" id="h8-0-86" class="d">-    @Preview
</a><a href="#h8-0-87" id="h8-0-87" class="d">-    override fun Content() {
</a><a href="#h8-0-88" id="h8-0-88" class="d">-        Column(
</a><a href="#h8-0-89" id="h8-0-89" class="d">-            modifier = Modifier
</a><a href="#h8-0-90" id="h8-0-90" class="d">-                .fillMaxSize()
</a><a href="#h8-0-91" id="h8-0-91" class="d">-                .verticalScroll(ScrollState(0))
</a><a href="#h8-0-92" id="h8-0-92" class="d">-        ) {
</a><a href="#h8-0-93" id="h8-0-93" class="d">-            Text(
</a><a href="#h8-0-94" id="h8-0-94" class="d">-                &quot;SnapEnhance&quot;,
</a><a href="#h8-0-95" id="h8-0-95" class="d">-                fontSize = 32.sp,
</a><a href="#h8-0-96" id="h8-0-96" class="d">-                modifier = Modifier.padding(32.dp)
</a><a href="#h8-0-97" id="h8-0-97" class="d">-            )
</a><a href="#h8-0-98" id="h8-0-98" class="d">-
</a><a href="#h8-0-99" id="h8-0-99" class="d">-            Text(
</a><a href="#h8-0-100" id="h8-0-100" class="d">-                text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl.&quot;,
</a><a href="#h8-0-101" id="h8-0-101" class="d">-                modifier = Modifier.padding(16.dp)
</a><a href="#h8-0-102" id="h8-0-102" class="d">-            )
</a><a href="#h8-0-103" id="h8-0-103" class="d">-
</a><a href="#h8-0-104" id="h8-0-104" class="d">-            SummaryCards(manager.getInstallationSummary())
</a><a href="#h8-0-105" id="h8-0-105" class="d">-        }
</a><a href="#h8-0-106" id="h8-0-106" class="d">-    }
</a><a href="#h8-0-107" id="h8-0-107" class="d">-}</a><a href="#h8-0-108" id="h8-0-108" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h9" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/NotImplemented.kt</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h9-0-0" id="h9-0-0" class="d">-package me.rhunk.snapenhance.manager.sections
</a><a href="#h9-0-1" id="h9-0-1" class="d">-
</a><a href="#h9-0-2" id="h9-0-2" class="d">-import androidx.compose.foundation.layout.Column
</a><a href="#h9-0-3" id="h9-0-3" class="d">-import androidx.compose.material3.Text
</a><a href="#h9-0-4" id="h9-0-4" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h9-0-5" id="h9-0-5" class="d">-import me.rhunk.snapenhance.manager.Section
</a><a href="#h9-0-6" id="h9-0-6" class="d">-
</a><a href="#h9-0-7" id="h9-0-7" class="d">-class NotImplemented : Section() {
</a><a href="#h9-0-8" id="h9-0-8" class="d">-    @Composable
</a><a href="#h9-0-9" id="h9-0-9" class="d">-    override fun Content() {
</a><a href="#h9-0-10" id="h9-0-10" class="d">-        Column {
</a><a href="#h9-0-11" id="h9-0-11" class="d">-            Text(text = &quot;Not implemented yet!&quot;)
</a><a href="#h9-0-12" id="h9-0-12" class="d">-        }
</a><a href="#h9-0-13" id="h9-0-13" class="d">-    }
</a><a href="#h9-0-14" id="h9-0-14" class="d">-}</a><a href="#h9-0-15" id="h9-0-15" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h10" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/CallbackAlias.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/CallbackAlias.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/CallbackAlias.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/CallbackAlias.kt</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -1,4 +0,0 @@
</a><a href="#h10-0-0" id="h10-0-0" class="d">-package me.rhunk.snapenhance.manager.sections.features
</a><a href="#h10-0-1" id="h10-0-1" class="d">-
</a><a href="#h10-0-2" id="h10-0-2" class="d">-typealias ClickCallback = (Boolean) -&gt; Unit
</a><a href="#h10-0-3" id="h10-0-3" class="d">-typealias RegisterClickCallback = (ClickCallback) -&gt; ClickCallback</a><a href="#h10-0-4" id="h10-0-4" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h11" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/Dialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/Dialogs.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/Dialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/Dialogs.kt</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -1,199 +0,0 @@
</a><a href="#h11-0-0" id="h11-0-0" class="d">-package me.rhunk.snapenhance.manager.sections.features
</a><a href="#h11-0-1" id="h11-0-1" class="d">-
</a><a href="#h11-0-2" id="h11-0-2" class="d">-import androidx.compose.foundation.ScrollState
</a><a href="#h11-0-3" id="h11-0-3" class="d">-import androidx.compose.foundation.clickable
</a><a href="#h11-0-4" id="h11-0-4" class="d">-import androidx.compose.foundation.layout.Arrangement
</a><a href="#h11-0-5" id="h11-0-5" class="d">-import androidx.compose.foundation.layout.Column
</a><a href="#h11-0-6" id="h11-0-6" class="d">-import androidx.compose.foundation.layout.ColumnScope
</a><a href="#h11-0-7" id="h11-0-7" class="d">-import androidx.compose.foundation.layout.Row
</a><a href="#h11-0-8" id="h11-0-8" class="d">-import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h11-0-9" id="h11-0-9" class="d">-import androidx.compose.foundation.layout.padding
</a><a href="#h11-0-10" id="h11-0-10" class="d">-import androidx.compose.foundation.text.KeyboardOptions
</a><a href="#h11-0-11" id="h11-0-11" class="d">-import androidx.compose.foundation.verticalScroll
</a><a href="#h11-0-12" id="h11-0-12" class="d">-import androidx.compose.material3.Button
</a><a href="#h11-0-13" id="h11-0-13" class="d">-import androidx.compose.material3.Card
</a><a href="#h11-0-14" id="h11-0-14" class="d">-import androidx.compose.material3.MaterialTheme
</a><a href="#h11-0-15" id="h11-0-15" class="d">-import androidx.compose.material3.RadioButton
</a><a href="#h11-0-16" id="h11-0-16" class="d">-import androidx.compose.material3.Switch
</a><a href="#h11-0-17" id="h11-0-17" class="d">-import androidx.compose.material3.Text
</a><a href="#h11-0-18" id="h11-0-18" class="d">-import androidx.compose.material3.TextField
</a><a href="#h11-0-19" id="h11-0-19" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h11-0-20" id="h11-0-20" class="d">-import androidx.compose.runtime.mutableStateOf
</a><a href="#h11-0-21" id="h11-0-21" class="d">-import androidx.compose.runtime.remember
</a><a href="#h11-0-22" id="h11-0-22" class="d">-import androidx.compose.ui.Alignment
</a><a href="#h11-0-23" id="h11-0-23" class="d">-import androidx.compose.ui.Modifier
</a><a href="#h11-0-24" id="h11-0-24" class="d">-import androidx.compose.ui.focus.FocusRequester
</a><a href="#h11-0-25" id="h11-0-25" class="d">-import androidx.compose.ui.focus.focusRequester
</a><a href="#h11-0-26" id="h11-0-26" class="d">-import androidx.compose.ui.layout.onGloballyPositioned
</a><a href="#h11-0-27" id="h11-0-27" class="d">-import androidx.compose.ui.text.TextRange
</a><a href="#h11-0-28" id="h11-0-28" class="d">-import androidx.compose.ui.text.input.KeyboardType
</a><a href="#h11-0-29" id="h11-0-29" class="d">-import androidx.compose.ui.text.input.TextFieldValue
</a><a href="#h11-0-30" id="h11-0-30" class="d">-import androidx.compose.ui.unit.dp
</a><a href="#h11-0-31" id="h11-0-31" class="d">-import me.rhunk.snapenhance.core.config.DataProcessors
</a><a href="#h11-0-32" id="h11-0-32" class="d">-import me.rhunk.snapenhance.core.config.PropertyPair
</a><a href="#h11-0-33" id="h11-0-33" class="d">-
</a><a href="#h11-0-34" id="h11-0-34" class="d">-
</a><a href="#h11-0-35" id="h11-0-35" class="d">-class Dialogs {
</a><a href="#h11-0-36" id="h11-0-36" class="d">-    @Composable
</a><a href="#h11-0-37" id="h11-0-37" class="d">-    fun DefaultDialogCard(content: @Composable ColumnScope.() -&gt; Unit) {
</a><a href="#h11-0-38" id="h11-0-38" class="d">-        Card(
</a><a href="#h11-0-39" id="h11-0-39" class="d">-            shape = MaterialTheme.shapes.medium,
</a><a href="#h11-0-40" id="h11-0-40" class="d">-            modifier = Modifier
</a><a href="#h11-0-41" id="h11-0-41" class="d">-                .padding(10.dp, 5.dp, 10.dp, 10.dp),
</a><a href="#h11-0-42" id="h11-0-42" class="d">-        ) {
</a><a href="#h11-0-43" id="h11-0-43" class="d">-            Column(
</a><a href="#h11-0-44" id="h11-0-44" class="d">-                modifier = Modifier
</a><a href="#h11-0-45" id="h11-0-45" class="d">-                    .padding(10.dp, 10.dp, 10.dp, 10.dp)
</a><a href="#h11-0-46" id="h11-0-46" class="d">-                    .verticalScroll(ScrollState(0)),
</a><a href="#h11-0-47" id="h11-0-47" class="d">-            ) { content() }
</a><a href="#h11-0-48" id="h11-0-48" class="d">-        }
</a><a href="#h11-0-49" id="h11-0-49" class="d">-    }
</a><a href="#h11-0-50" id="h11-0-50" class="d">-
</a><a href="#h11-0-51" id="h11-0-51" class="d">-    @Composable
</a><a href="#h11-0-52" id="h11-0-52" class="d">-    fun DefaultEntryText(text: String, modifier: Modifier = Modifier) {
</a><a href="#h11-0-53" id="h11-0-53" class="d">-        Text(
</a><a href="#h11-0-54" id="h11-0-54" class="d">-            text = text,
</a><a href="#h11-0-55" id="h11-0-55" class="d">-            modifier = Modifier
</a><a href="#h11-0-56" id="h11-0-56" class="d">-                .padding(10.dp, 10.dp, 10.dp, 10.dp)
</a><a href="#h11-0-57" id="h11-0-57" class="d">-                .then(modifier)
</a><a href="#h11-0-58" id="h11-0-58" class="d">-        )
</a><a href="#h11-0-59" id="h11-0-59" class="d">-    }
</a><a href="#h11-0-60" id="h11-0-60" class="d">-
</a><a href="#h11-0-61" id="h11-0-61" class="d">-    @Composable
</a><a href="#h11-0-62" id="h11-0-62" class="d">-    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h11-0-63" id="h11-0-63" class="d">-    fun UniqueSelectionDialog(property: PropertyPair&lt;*&gt;) {
</a><a href="#h11-0-64" id="h11-0-64" class="d">-        val keys = (property.value.defaultValues as List&lt;String&gt;).toMutableList().apply {
</a><a href="#h11-0-65" id="h11-0-65" class="d">-            add(0, &quot;disabled&quot;)
</a><a href="#h11-0-66" id="h11-0-66" class="d">-        }
</a><a href="#h11-0-67" id="h11-0-67" class="d">-
</a><a href="#h11-0-68" id="h11-0-68" class="d">-        val selectedValue = remember {
</a><a href="#h11-0-69" id="h11-0-69" class="d">-            mutableStateOf(property.value.getNullable()?.toString() ?: &quot;disabled&quot;)
</a><a href="#h11-0-70" id="h11-0-70" class="d">-        }
</a><a href="#h11-0-71" id="h11-0-71" class="d">-
</a><a href="#h11-0-72" id="h11-0-72" class="d">-        DefaultDialogCard {
</a><a href="#h11-0-73" id="h11-0-73" class="d">-            keys.forEachIndexed { index, item -&gt;
</a><a href="#h11-0-74" id="h11-0-74" class="d">-                fun select() {
</a><a href="#h11-0-75" id="h11-0-75" class="d">-                    selectedValue.value = item
</a><a href="#h11-0-76" id="h11-0-76" class="d">-                    property.value.setAny(if (index == 0) {
</a><a href="#h11-0-77" id="h11-0-77" class="d">-                        null
</a><a href="#h11-0-78" id="h11-0-78" class="d">-                    } else {
</a><a href="#h11-0-79" id="h11-0-79" class="d">-                        item
</a><a href="#h11-0-80" id="h11-0-80" class="d">-                    })
</a><a href="#h11-0-81" id="h11-0-81" class="d">-                }
</a><a href="#h11-0-82" id="h11-0-82" class="d">-
</a><a href="#h11-0-83" id="h11-0-83" class="d">-                Row(
</a><a href="#h11-0-84" id="h11-0-84" class="d">-                    modifier = Modifier.clickable { select() },
</a><a href="#h11-0-85" id="h11-0-85" class="d">-                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h11-0-86" id="h11-0-86" class="d">-                ) {
</a><a href="#h11-0-87" id="h11-0-87" class="d">-                    DefaultEntryText(
</a><a href="#h11-0-88" id="h11-0-88" class="d">-                        text = item,
</a><a href="#h11-0-89" id="h11-0-89" class="d">-                        modifier = Modifier.weight(1f)
</a><a href="#h11-0-90" id="h11-0-90" class="d">-                    )
</a><a href="#h11-0-91" id="h11-0-91" class="d">-                    RadioButton(
</a><a href="#h11-0-92" id="h11-0-92" class="d">-                        selected = selectedValue.value == item,
</a><a href="#h11-0-93" id="h11-0-93" class="d">-                        onClick = { select() }
</a><a href="#h11-0-94" id="h11-0-94" class="d">-                    )
</a><a href="#h11-0-95" id="h11-0-95" class="d">-                }
</a><a href="#h11-0-96" id="h11-0-96" class="d">-            }
</a><a href="#h11-0-97" id="h11-0-97" class="d">-        }
</a><a href="#h11-0-98" id="h11-0-98" class="d">-    }
</a><a href="#h11-0-99" id="h11-0-99" class="d">-
</a><a href="#h11-0-100" id="h11-0-100" class="d">-    @Composable
</a><a href="#h11-0-101" id="h11-0-101" class="d">-    fun KeyboardInputDialog(property: PropertyPair&lt;*&gt;, dismiss: () -&gt; Unit = {}) {
</a><a href="#h11-0-102" id="h11-0-102" class="d">-        val focusRequester = remember { FocusRequester() }
</a><a href="#h11-0-103" id="h11-0-103" class="d">-
</a><a href="#h11-0-104" id="h11-0-104" class="d">-        DefaultDialogCard {
</a><a href="#h11-0-105" id="h11-0-105" class="d">-            val fieldValue = remember {
</a><a href="#h11-0-106" id="h11-0-106" class="d">-                mutableStateOf(property.value.get().toString().let {
</a><a href="#h11-0-107" id="h11-0-107" class="d">-                    TextFieldValue(
</a><a href="#h11-0-108" id="h11-0-108" class="d">-                        text = it,
</a><a href="#h11-0-109" id="h11-0-109" class="d">-                        selection = TextRange(it.length)
</a><a href="#h11-0-110" id="h11-0-110" class="d">-                    )
</a><a href="#h11-0-111" id="h11-0-111" class="d">-                })
</a><a href="#h11-0-112" id="h11-0-112" class="d">-            }
</a><a href="#h11-0-113" id="h11-0-113" class="d">-
</a><a href="#h11-0-114" id="h11-0-114" class="d">-            TextField(
</a><a href="#h11-0-115" id="h11-0-115" class="d">-                modifier = Modifier
</a><a href="#h11-0-116" id="h11-0-116" class="d">-                    .fillMaxWidth()
</a><a href="#h11-0-117" id="h11-0-117" class="d">-                    .padding(all = 10.dp)
</a><a href="#h11-0-118" id="h11-0-118" class="d">-                    .onGloballyPositioned {
</a><a href="#h11-0-119" id="h11-0-119" class="d">-                        focusRequester.requestFocus()
</a><a href="#h11-0-120" id="h11-0-120" class="d">-                    }
</a><a href="#h11-0-121" id="h11-0-121" class="d">-                    .focusRequester(focusRequester),
</a><a href="#h11-0-122" id="h11-0-122" class="d">-                value = fieldValue.value,
</a><a href="#h11-0-123" id="h11-0-123" class="d">-                onValueChange = {
</a><a href="#h11-0-124" id="h11-0-124" class="d">-                    fieldValue.value = it
</a><a href="#h11-0-125" id="h11-0-125" class="d">-                },
</a><a href="#h11-0-126" id="h11-0-126" class="d">-                keyboardOptions = when (property.key.dataType.type) {
</a><a href="#h11-0-127" id="h11-0-127" class="d">-                    DataProcessors.Type.INTEGER -&gt; KeyboardOptions(keyboardType = KeyboardType.Number)
</a><a href="#h11-0-128" id="h11-0-128" class="d">-                    DataProcessors.Type.FLOAT -&gt; KeyboardOptions(keyboardType = KeyboardType.Decimal)
</a><a href="#h11-0-129" id="h11-0-129" class="d">-                    else -&gt; KeyboardOptions(keyboardType = KeyboardType.Text)
</a><a href="#h11-0-130" id="h11-0-130" class="d">-                },
</a><a href="#h11-0-131" id="h11-0-131" class="d">-                singleLine = true
</a><a href="#h11-0-132" id="h11-0-132" class="d">-            )
</a><a href="#h11-0-133" id="h11-0-133" class="d">-
</a><a href="#h11-0-134" id="h11-0-134" class="d">-            Row(
</a><a href="#h11-0-135" id="h11-0-135" class="d">-                modifier = Modifier.padding(top = 10.dp).fillMaxWidth(),
</a><a href="#h11-0-136" id="h11-0-136" class="d">-                horizontalArrangement = Arrangement.SpaceEvenly,
</a><a href="#h11-0-137" id="h11-0-137" class="d">-            ) {
</a><a href="#h11-0-138" id="h11-0-138" class="d">-                Button(onClick = { dismiss() }) {
</a><a href="#h11-0-139" id="h11-0-139" class="d">-                    Text(text = &quot;Cancel&quot;)
</a><a href="#h11-0-140" id="h11-0-140" class="d">-                }
</a><a href="#h11-0-141" id="h11-0-141" class="d">-                Button(onClick = {
</a><a href="#h11-0-142" id="h11-0-142" class="d">-                    if (property.key.dataType.type == DataProcessors.Type.INTEGER) {
</a><a href="#h11-0-143" id="h11-0-143" class="d">-                        runCatching {
</a><a href="#h11-0-144" id="h11-0-144" class="d">-                            property.value.setAny(fieldValue.value.text.toInt())
</a><a href="#h11-0-145" id="h11-0-145" class="d">-                        }.onFailure {
</a><a href="#h11-0-146" id="h11-0-146" class="d">-                            property.value.setAny(0)
</a><a href="#h11-0-147" id="h11-0-147" class="d">-                        }
</a><a href="#h11-0-148" id="h11-0-148" class="d">-                    } else {
</a><a href="#h11-0-149" id="h11-0-149" class="d">-                        property.value.setAny(fieldValue.value.text)
</a><a href="#h11-0-150" id="h11-0-150" class="d">-                    }
</a><a href="#h11-0-151" id="h11-0-151" class="d">-                    dismiss()
</a><a href="#h11-0-152" id="h11-0-152" class="d">-                }) {
</a><a href="#h11-0-153" id="h11-0-153" class="d">-                    Text(text = &quot;Ok&quot;)
</a><a href="#h11-0-154" id="h11-0-154" class="d">-                }
</a><a href="#h11-0-155" id="h11-0-155" class="d">-            }
</a><a href="#h11-0-156" id="h11-0-156" class="d">-        }
</a><a href="#h11-0-157" id="h11-0-157" class="d">-    }
</a><a href="#h11-0-158" id="h11-0-158" class="d">-
</a><a href="#h11-0-159" id="h11-0-159" class="d">-    @Composable
</a><a href="#h11-0-160" id="h11-0-160" class="d">-    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h11-0-161" id="h11-0-161" class="d">-    fun MultipleSelectionDialog(property: PropertyPair&lt;*&gt;) {
</a><a href="#h11-0-162" id="h11-0-162" class="d">-        val defaultItems = property.value.defaultValues as List&lt;String&gt;
</a><a href="#h11-0-163" id="h11-0-163" class="d">-        val toggledStates = property.value.get() as MutableList&lt;String&gt;
</a><a href="#h11-0-164" id="h11-0-164" class="d">-        DefaultDialogCard {
</a><a href="#h11-0-165" id="h11-0-165" class="d">-            defaultItems.forEach { key -&gt;
</a><a href="#h11-0-166" id="h11-0-166" class="d">-                val state = remember {
</a><a href="#h11-0-167" id="h11-0-167" class="d">-                    mutableStateOf(toggledStates.contains(key))
</a><a href="#h11-0-168" id="h11-0-168" class="d">-                }
</a><a href="#h11-0-169" id="h11-0-169" class="d">-
</a><a href="#h11-0-170" id="h11-0-170" class="d">-                fun toggle(value: Boolean? = null) {
</a><a href="#h11-0-171" id="h11-0-171" class="d">-                    state.value = value ?: !state.value
</a><a href="#h11-0-172" id="h11-0-172" class="d">-                    if (state.value) {
</a><a href="#h11-0-173" id="h11-0-173" class="d">-                        toggledStates.add(key)
</a><a href="#h11-0-174" id="h11-0-174" class="d">-                    } else {
</a><a href="#h11-0-175" id="h11-0-175" class="d">-                        toggledStates.remove(key)
</a><a href="#h11-0-176" id="h11-0-176" class="d">-                    }
</a><a href="#h11-0-177" id="h11-0-177" class="d">-                }
</a><a href="#h11-0-178" id="h11-0-178" class="d">-
</a><a href="#h11-0-179" id="h11-0-179" class="d">-                Row(
</a><a href="#h11-0-180" id="h11-0-180" class="d">-                    modifier = Modifier.clickable { toggle() },
</a><a href="#h11-0-181" id="h11-0-181" class="d">-                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h11-0-182" id="h11-0-182" class="d">-                ) {
</a><a href="#h11-0-183" id="h11-0-183" class="d">-                    DefaultEntryText(
</a><a href="#h11-0-184" id="h11-0-184" class="d">-                        text = key,
</a><a href="#h11-0-185" id="h11-0-185" class="d">-                        modifier = Modifier
</a><a href="#h11-0-186" id="h11-0-186" class="d">-                            .weight(1f)
</a><a href="#h11-0-187" id="h11-0-187" class="d">-                    )
</a><a href="#h11-0-188" id="h11-0-188" class="d">-                    Switch(
</a><a href="#h11-0-189" id="h11-0-189" class="d">-                        checked = state.value,
</a><a href="#h11-0-190" id="h11-0-190" class="d">-                        onCheckedChange = {
</a><a href="#h11-0-191" id="h11-0-191" class="d">-                            toggle(it)
</a><a href="#h11-0-192" id="h11-0-192" class="d">-                        }
</a><a href="#h11-0-193" id="h11-0-193" class="d">-                    )
</a><a href="#h11-0-194" id="h11-0-194" class="d">-                }
</a><a href="#h11-0-195" id="h11-0-195" class="d">-            }
</a><a href="#h11-0-196" id="h11-0-196" class="d">-        }
</a><a href="#h11-0-197" id="h11-0-197" class="d">-    }
</a><a href="#h11-0-198" id="h11-0-198" class="d">-}
</a><b>diff --git a/<a id="h12" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/FeaturesSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/sections/features/FeaturesSection.kt</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -1,320 +0,0 @@
</a><a href="#h12-0-0" id="h12-0-0" class="d">-package me.rhunk.snapenhance.manager.sections.features
</a><a href="#h12-0-1" id="h12-0-1" class="d">-
</a><a href="#h12-0-2" id="h12-0-2" class="d">-import androidx.compose.foundation.background
</a><a href="#h12-0-3" id="h12-0-3" class="d">-import androidx.compose.foundation.clickable
</a><a href="#h12-0-4" id="h12-0-4" class="d">-import androidx.compose.foundation.layout.Arrangement
</a><a href="#h12-0-5" id="h12-0-5" class="d">-import androidx.compose.foundation.layout.Box
</a><a href="#h12-0-6" id="h12-0-6" class="d">-import androidx.compose.foundation.layout.Column
</a><a href="#h12-0-7" id="h12-0-7" class="d">-import androidx.compose.foundation.layout.Row
</a><a href="#h12-0-8" id="h12-0-8" class="d">-import androidx.compose.foundation.layout.fillMaxHeight
</a><a href="#h12-0-9" id="h12-0-9" class="d">-import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h12-0-10" id="h12-0-10" class="d">-import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h12-0-11" id="h12-0-11" class="d">-import androidx.compose.foundation.layout.height
</a><a href="#h12-0-12" id="h12-0-12" class="d">-import androidx.compose.foundation.layout.padding
</a><a href="#h12-0-13" id="h12-0-13" class="d">-import androidx.compose.foundation.layout.width
</a><a href="#h12-0-14" id="h12-0-14" class="d">-import androidx.compose.foundation.layout.widthIn
</a><a href="#h12-0-15" id="h12-0-15" class="d">-import androidx.compose.foundation.layout.wrapContentWidth
</a><a href="#h12-0-16" id="h12-0-16" class="d">-import androidx.compose.foundation.lazy.LazyColumn
</a><a href="#h12-0-17" id="h12-0-17" class="d">-import androidx.compose.foundation.lazy.items
</a><a href="#h12-0-18" id="h12-0-18" class="d">-import androidx.compose.foundation.shape.RoundedCornerShape
</a><a href="#h12-0-19" id="h12-0-19" class="d">-import androidx.compose.material.MaterialTheme
</a><a href="#h12-0-20" id="h12-0-20" class="d">-import androidx.compose.material.icons.Icons
</a><a href="#h12-0-21" id="h12-0-21" class="d">-import androidx.compose.material.icons.filled.ArrowBack
</a><a href="#h12-0-22" id="h12-0-22" class="d">-import androidx.compose.material.icons.filled.OpenInNew
</a><a href="#h12-0-23" id="h12-0-23" class="d">-import androidx.compose.material.icons.rounded.Save
</a><a href="#h12-0-24" id="h12-0-24" class="d">-import androidx.compose.material3.Card
</a><a href="#h12-0-25" id="h12-0-25" class="d">-import androidx.compose.material3.ExperimentalMaterial3Api
</a><a href="#h12-0-26" id="h12-0-26" class="d">-import androidx.compose.material3.FilledIconButton
</a><a href="#h12-0-27" id="h12-0-27" class="d">-import androidx.compose.material3.FloatingActionButton
</a><a href="#h12-0-28" id="h12-0-28" class="d">-import androidx.compose.material3.Icon
</a><a href="#h12-0-29" id="h12-0-29" class="d">-import androidx.compose.material3.IconButton
</a><a href="#h12-0-30" id="h12-0-30" class="d">-import androidx.compose.material3.Scaffold
</a><a href="#h12-0-31" id="h12-0-31" class="d">-import androidx.compose.material3.SnackbarHost
</a><a href="#h12-0-32" id="h12-0-32" class="d">-import androidx.compose.material3.Switch
</a><a href="#h12-0-33" id="h12-0-33" class="d">-import androidx.compose.material3.Text
</a><a href="#h12-0-34" id="h12-0-34" class="d">-import androidx.compose.material3.TopAppBar
</a><a href="#h12-0-35" id="h12-0-35" class="d">-import androidx.compose.material3.rememberBottomSheetScaffoldState
</a><a href="#h12-0-36" id="h12-0-36" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h12-0-37" id="h12-0-37" class="d">-import androidx.compose.runtime.mutableStateOf
</a><a href="#h12-0-38" id="h12-0-38" class="d">-import androidx.compose.runtime.remember
</a><a href="#h12-0-39" id="h12-0-39" class="d">-import androidx.compose.runtime.rememberCoroutineScope
</a><a href="#h12-0-40" id="h12-0-40" class="d">-import androidx.compose.ui.Alignment
</a><a href="#h12-0-41" id="h12-0-41" class="d">-import androidx.compose.ui.Modifier
</a><a href="#h12-0-42" id="h12-0-42" class="d">-import androidx.compose.ui.text.font.FontWeight
</a><a href="#h12-0-43" id="h12-0-43" class="d">-import androidx.compose.ui.text.style.TextAlign
</a><a href="#h12-0-44" id="h12-0-44" class="d">-import androidx.compose.ui.text.style.TextOverflow
</a><a href="#h12-0-45" id="h12-0-45" class="d">-import androidx.compose.ui.unit.dp
</a><a href="#h12-0-46" id="h12-0-46" class="d">-import androidx.compose.ui.unit.sp
</a><a href="#h12-0-47" id="h12-0-47" class="d">-import androidx.compose.ui.window.Dialog
</a><a href="#h12-0-48" id="h12-0-48" class="d">-import androidx.compose.ui.window.DialogProperties
</a><a href="#h12-0-49" id="h12-0-49" class="d">-import androidx.navigation.NavGraphBuilder
</a><a href="#h12-0-50" id="h12-0-50" class="d">-import androidx.navigation.compose.composable
</a><a href="#h12-0-51" id="h12-0-51" class="d">-import androidx.navigation.navigation
</a><a href="#h12-0-52" id="h12-0-52" class="d">-import kotlinx.coroutines.launch
</a><a href="#h12-0-53" id="h12-0-53" class="d">-import me.rhunk.snapenhance.core.config.ConfigContainer
</a><a href="#h12-0-54" id="h12-0-54" class="d">-import me.rhunk.snapenhance.core.config.DataProcessors
</a><a href="#h12-0-55" id="h12-0-55" class="d">-import me.rhunk.snapenhance.core.config.PropertyPair
</a><a href="#h12-0-56" id="h12-0-56" class="d">-import me.rhunk.snapenhance.manager.Section
</a><a href="#h12-0-57" id="h12-0-57" class="d">-
</a><a href="#h12-0-58" id="h12-0-58" class="d">-class FeaturesSection : Section() {
</a><a href="#h12-0-59" id="h12-0-59" class="d">-    private val dialogs by lazy { Dialogs() }
</a><a href="#h12-0-60" id="h12-0-60" class="d">-
</a><a href="#h12-0-61" id="h12-0-61" class="d">-    companion object {
</a><a href="#h12-0-62" id="h12-0-62" class="d">-        private const val MAIN_ROUTE = &quot;root&quot;
</a><a href="#h12-0-63" id="h12-0-63" class="d">-    }
</a><a href="#h12-0-64" id="h12-0-64" class="d">-
</a><a href="#h12-0-65" id="h12-0-65" class="d">-    @Composable
</a><a href="#h12-0-66" id="h12-0-66" class="d">-    private fun PropertyAction(property: PropertyPair&lt;*&gt;, registerClickCallback: RegisterClickCallback) {
</a><a href="#h12-0-67" id="h12-0-67" class="d">-        val showDialog = remember { mutableStateOf(false) }
</a><a href="#h12-0-68" id="h12-0-68" class="d">-        val dialogComposable = remember { mutableStateOf&lt;@Composable () -&gt; Unit&gt;({}) }
</a><a href="#h12-0-69" id="h12-0-69" class="d">-
</a><a href="#h12-0-70" id="h12-0-70" class="d">-        fun registerDialogOnClickCallback() = registerClickCallback {
</a><a href="#h12-0-71" id="h12-0-71" class="d">-            showDialog.value = true
</a><a href="#h12-0-72" id="h12-0-72" class="d">-        }
</a><a href="#h12-0-73" id="h12-0-73" class="d">-
</a><a href="#h12-0-74" id="h12-0-74" class="d">-        if (showDialog.value) {
</a><a href="#h12-0-75" id="h12-0-75" class="d">-            Dialog(
</a><a href="#h12-0-76" id="h12-0-76" class="d">-                onDismissRequest = { showDialog.value = false },
</a><a href="#h12-0-77" id="h12-0-77" class="d">-                properties = DialogProperties()
</a><a href="#h12-0-78" id="h12-0-78" class="d">-            ) {
</a><a href="#h12-0-79" id="h12-0-79" class="d">-                dialogComposable.value()
</a><a href="#h12-0-80" id="h12-0-80" class="d">-            }
</a><a href="#h12-0-81" id="h12-0-81" class="d">-        }
</a><a href="#h12-0-82" id="h12-0-82" class="d">-
</a><a href="#h12-0-83" id="h12-0-83" class="d">-        val propertyValue = property.value
</a><a href="#h12-0-84" id="h12-0-84" class="d">-
</a><a href="#h12-0-85" id="h12-0-85" class="d">-        when (val dataType = remember { property.key.dataType.type }) {
</a><a href="#h12-0-86" id="h12-0-86" class="d">-            DataProcessors.Type.BOOLEAN -&gt; {
</a><a href="#h12-0-87" id="h12-0-87" class="d">-                val state = remember { mutableStateOf(propertyValue.get() as Boolean) }
</a><a href="#h12-0-88" id="h12-0-88" class="d">-                Switch(
</a><a href="#h12-0-89" id="h12-0-89" class="d">-                    checked = state.value,
</a><a href="#h12-0-90" id="h12-0-90" class="d">-                    onCheckedChange = registerClickCallback {
</a><a href="#h12-0-91" id="h12-0-91" class="d">-                        state.value = state.value.not()
</a><a href="#h12-0-92" id="h12-0-92" class="d">-                        propertyValue.setAny(state.value)
</a><a href="#h12-0-93" id="h12-0-93" class="d">-                    }
</a><a href="#h12-0-94" id="h12-0-94" class="d">-                )
</a><a href="#h12-0-95" id="h12-0-95" class="d">-            }
</a><a href="#h12-0-96" id="h12-0-96" class="d">-
</a><a href="#h12-0-97" id="h12-0-97" class="d">-            DataProcessors.Type.STRING_UNIQUE_SELECTION -&gt; {
</a><a href="#h12-0-98" id="h12-0-98" class="d">-                registerDialogOnClickCallback()
</a><a href="#h12-0-99" id="h12-0-99" class="d">-
</a><a href="#h12-0-100" id="h12-0-100" class="d">-                dialogComposable.value = {
</a><a href="#h12-0-101" id="h12-0-101" class="d">-                    dialogs.UniqueSelectionDialog(property)
</a><a href="#h12-0-102" id="h12-0-102" class="d">-                }
</a><a href="#h12-0-103" id="h12-0-103" class="d">-
</a><a href="#h12-0-104" id="h12-0-104" class="d">-                Text(
</a><a href="#h12-0-105" id="h12-0-105" class="d">-                    overflow = TextOverflow.Ellipsis,
</a><a href="#h12-0-106" id="h12-0-106" class="d">-                    maxLines = 1,
</a><a href="#h12-0-107" id="h12-0-107" class="d">-                    modifier = Modifier.widthIn(0.dp, 120.dp),
</a><a href="#h12-0-108" id="h12-0-108" class="d">-                    text = (propertyValue.getNullable() as? String) ?: &quot;Disabled&quot;,
</a><a href="#h12-0-109" id="h12-0-109" class="d">-                )
</a><a href="#h12-0-110" id="h12-0-110" class="d">-            }
</a><a href="#h12-0-111" id="h12-0-111" class="d">-
</a><a href="#h12-0-112" id="h12-0-112" class="d">-            DataProcessors.Type.STRING_MULTIPLE_SELECTION, DataProcessors.Type.STRING, DataProcessors.Type.INTEGER, DataProcessors.Type.FLOAT -&gt; {
</a><a href="#h12-0-113" id="h12-0-113" class="d">-                dialogComposable.value = {
</a><a href="#h12-0-114" id="h12-0-114" class="d">-                    when (dataType) {
</a><a href="#h12-0-115" id="h12-0-115" class="d">-                        DataProcessors.Type.STRING_MULTIPLE_SELECTION -&gt; {
</a><a href="#h12-0-116" id="h12-0-116" class="d">-                            dialogs.MultipleSelectionDialog(property)
</a><a href="#h12-0-117" id="h12-0-117" class="d">-                        }
</a><a href="#h12-0-118" id="h12-0-118" class="d">-                        DataProcessors.Type.STRING, DataProcessors.Type.INTEGER -&gt; {
</a><a href="#h12-0-119" id="h12-0-119" class="d">-                            dialogs.KeyboardInputDialog(property) { showDialog.value = false }
</a><a href="#h12-0-120" id="h12-0-120" class="d">-                        }
</a><a href="#h12-0-121" id="h12-0-121" class="d">-                        else -&gt; {}
</a><a href="#h12-0-122" id="h12-0-122" class="d">-                    }
</a><a href="#h12-0-123" id="h12-0-123" class="d">-                }
</a><a href="#h12-0-124" id="h12-0-124" class="d">-
</a><a href="#h12-0-125" id="h12-0-125" class="d">-                registerDialogOnClickCallback().let { { it.invoke(true) } }.also {
</a><a href="#h12-0-126" id="h12-0-126" class="d">-                    if (dataType == DataProcessors.Type.INTEGER || dataType == DataProcessors.Type.FLOAT) {
</a><a href="#h12-0-127" id="h12-0-127" class="d">-                        FilledIconButton(onClick = it) {
</a><a href="#h12-0-128" id="h12-0-128" class="d">-                            Text(
</a><a href="#h12-0-129" id="h12-0-129" class="d">-                                text = propertyValue.get().toString(),
</a><a href="#h12-0-130" id="h12-0-130" class="d">-                                modifier = Modifier.wrapContentWidth(),
</a><a href="#h12-0-131" id="h12-0-131" class="d">-                                overflow = TextOverflow.Ellipsis
</a><a href="#h12-0-132" id="h12-0-132" class="d">-                            )
</a><a href="#h12-0-133" id="h12-0-133" class="d">-                        }
</a><a href="#h12-0-134" id="h12-0-134" class="d">-                    } else {
</a><a href="#h12-0-135" id="h12-0-135" class="d">-                        IconButton(onClick = it) {
</a><a href="#h12-0-136" id="h12-0-136" class="d">-                            Icon(Icons.Filled.OpenInNew, contentDescription = null)
</a><a href="#h12-0-137" id="h12-0-137" class="d">-                        }
</a><a href="#h12-0-138" id="h12-0-138" class="d">-                    }
</a><a href="#h12-0-139" id="h12-0-139" class="d">-                }
</a><a href="#h12-0-140" id="h12-0-140" class="d">-            }
</a><a href="#h12-0-141" id="h12-0-141" class="d">-            DataProcessors.Type.CONTAINER -&gt; {
</a><a href="#h12-0-142" id="h12-0-142" class="d">-                val container = propertyValue.get() as ConfigContainer
</a><a href="#h12-0-143" id="h12-0-143" class="d">-
</a><a href="#h12-0-144" id="h12-0-144" class="d">-                registerClickCallback {
</a><a href="#h12-0-145" id="h12-0-145" class="d">-                    navController.navigate(&quot;container/${property.name}&quot;)
</a><a href="#h12-0-146" id="h12-0-146" class="d">-                }
</a><a href="#h12-0-147" id="h12-0-147" class="d">-
</a><a href="#h12-0-148" id="h12-0-148" class="d">-                if (container.globalState == null) return
</a><a href="#h12-0-149" id="h12-0-149" class="d">-
</a><a href="#h12-0-150" id="h12-0-150" class="d">-                val state = remember { mutableStateOf(container.globalState!!) }
</a><a href="#h12-0-151" id="h12-0-151" class="d">-
</a><a href="#h12-0-152" id="h12-0-152" class="d">-                Box(
</a><a href="#h12-0-153" id="h12-0-153" class="d">-                    modifier = Modifier
</a><a href="#h12-0-154" id="h12-0-154" class="d">-                        .padding(end = 15.dp),
</a><a href="#h12-0-155" id="h12-0-155" class="d">-                ) {
</a><a href="#h12-0-156" id="h12-0-156" class="d">-
</a><a href="#h12-0-157" id="h12-0-157" class="d">-                    Box(modifier = Modifier
</a><a href="#h12-0-158" id="h12-0-158" class="d">-                        .height(50.dp)
</a><a href="#h12-0-159" id="h12-0-159" class="d">-                        .width(1.dp)
</a><a href="#h12-0-160" id="h12-0-160" class="d">-                        .background(color = MaterialTheme.colors.onBackground.copy(alpha = 0.12f), shape = RoundedCornerShape(5.dp)))
</a><a href="#h12-0-161" id="h12-0-161" class="d">-                }
</a><a href="#h12-0-162" id="h12-0-162" class="d">-
</a><a href="#h12-0-163" id="h12-0-163" class="d">-                Switch(
</a><a href="#h12-0-164" id="h12-0-164" class="d">-                    checked = state.value,
</a><a href="#h12-0-165" id="h12-0-165" class="d">-                    onCheckedChange = {
</a><a href="#h12-0-166" id="h12-0-166" class="d">-                        state.value = state.value.not()
</a><a href="#h12-0-167" id="h12-0-167" class="d">-                        container.globalState = state.value
</a><a href="#h12-0-168" id="h12-0-168" class="d">-                    }
</a><a href="#h12-0-169" id="h12-0-169" class="d">-                )
</a><a href="#h12-0-170" id="h12-0-170" class="d">-            }
</a><a href="#h12-0-171" id="h12-0-171" class="d">-        }
</a><a href="#h12-0-172" id="h12-0-172" class="d">-
</a><a href="#h12-0-173" id="h12-0-173" class="d">-    }
</a><a href="#h12-0-174" id="h12-0-174" class="d">-
</a><a href="#h12-0-175" id="h12-0-175" class="d">-    @Composable
</a><a href="#h12-0-176" id="h12-0-176" class="d">-    private fun PropertyCard(property: PropertyPair&lt;*&gt;) {
</a><a href="#h12-0-177" id="h12-0-177" class="d">-        val clickCallback = remember { mutableStateOf&lt;ClickCallback?&gt;(null) }
</a><a href="#h12-0-178" id="h12-0-178" class="d">-        Card(
</a><a href="#h12-0-179" id="h12-0-179" class="d">-            modifier = Modifier
</a><a href="#h12-0-180" id="h12-0-180" class="d">-                .fillMaxWidth()
</a><a href="#h12-0-181" id="h12-0-181" class="d">-                .padding(start = 10.dp, end = 10.dp, top = 5.dp, bottom = 5.dp)
</a><a href="#h12-0-182" id="h12-0-182" class="d">-        ) {
</a><a href="#h12-0-183" id="h12-0-183" class="d">-            Row(
</a><a href="#h12-0-184" id="h12-0-184" class="d">-                modifier = Modifier
</a><a href="#h12-0-185" id="h12-0-185" class="d">-                    .fillMaxSize()
</a><a href="#h12-0-186" id="h12-0-186" class="d">-                    .clickable {
</a><a href="#h12-0-187" id="h12-0-187" class="d">-                        clickCallback.value?.invoke(true)
</a><a href="#h12-0-188" id="h12-0-188" class="d">-                    }
</a><a href="#h12-0-189" id="h12-0-189" class="d">-                    .padding(all = 4.dp),
</a><a href="#h12-0-190" id="h12-0-190" class="d">-                horizontalArrangement = Arrangement.SpaceBetween
</a><a href="#h12-0-191" id="h12-0-191" class="d">-            ) {
</a><a href="#h12-0-192" id="h12-0-192" class="d">-                Column(
</a><a href="#h12-0-193" id="h12-0-193" class="d">-                    modifier = Modifier
</a><a href="#h12-0-194" id="h12-0-194" class="d">-                        .align(Alignment.CenterVertically)
</a><a href="#h12-0-195" id="h12-0-195" class="d">-                        .weight(1f, fill = true)
</a><a href="#h12-0-196" id="h12-0-196" class="d">-                        .padding(all = 10.dp)
</a><a href="#h12-0-197" id="h12-0-197" class="d">-                ) {
</a><a href="#h12-0-198" id="h12-0-198" class="d">-                    Text(
</a><a href="#h12-0-199" id="h12-0-199" class="d">-                        text = property.name,
</a><a href="#h12-0-200" id="h12-0-200" class="d">-                        fontSize = 16.sp,
</a><a href="#h12-0-201" id="h12-0-201" class="d">-                        fontWeight = FontWeight.Bold
</a><a href="#h12-0-202" id="h12-0-202" class="d">-                    )
</a><a href="#h12-0-203" id="h12-0-203" class="d">-                    Text(
</a><a href="#h12-0-204" id="h12-0-204" class="d">-                        text = property.name,
</a><a href="#h12-0-205" id="h12-0-205" class="d">-                        fontSize = 12.sp,
</a><a href="#h12-0-206" id="h12-0-206" class="d">-                        lineHeight = 15.sp
</a><a href="#h12-0-207" id="h12-0-207" class="d">-                    )
</a><a href="#h12-0-208" id="h12-0-208" class="d">-                }
</a><a href="#h12-0-209" id="h12-0-209" class="d">-
</a><a href="#h12-0-210" id="h12-0-210" class="d">-                Row(
</a><a href="#h12-0-211" id="h12-0-211" class="d">-                    modifier = Modifier
</a><a href="#h12-0-212" id="h12-0-212" class="d">-                        .align(Alignment.CenterVertically)
</a><a href="#h12-0-213" id="h12-0-213" class="d">-                        .padding(all = 10.dp),
</a><a href="#h12-0-214" id="h12-0-214" class="d">-                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h12-0-215" id="h12-0-215" class="d">-                ) {
</a><a href="#h12-0-216" id="h12-0-216" class="d">-                    PropertyAction(property, registerClickCallback = { callback -&gt;
</a><a href="#h12-0-217" id="h12-0-217" class="d">-                        clickCallback.value = callback
</a><a href="#h12-0-218" id="h12-0-218" class="d">-                        callback
</a><a href="#h12-0-219" id="h12-0-219" class="d">-                    })
</a><a href="#h12-0-220" id="h12-0-220" class="d">-                }
</a><a href="#h12-0-221" id="h12-0-221" class="d">-            }
</a><a href="#h12-0-222" id="h12-0-222" class="d">-        }
</a><a href="#h12-0-223" id="h12-0-223" class="d">-    }
</a><a href="#h12-0-224" id="h12-0-224" class="d">-
</a><a href="#h12-0-225" id="h12-0-225" class="d">-
</a><a href="#h12-0-226" id="h12-0-226" class="d">-    @OptIn(ExperimentalMaterial3Api::class)
</a><a href="#h12-0-227" id="h12-0-227" class="d">-    @Composable
</a><a href="#h12-0-228" id="h12-0-228" class="d">-    private fun Container(
</a><a href="#h12-0-229" id="h12-0-229" class="d">-        containerName: String,
</a><a href="#h12-0-230" id="h12-0-230" class="d">-        configContainer: ConfigContainer
</a><a href="#h12-0-231" id="h12-0-231" class="d">-    ) {
</a><a href="#h12-0-232" id="h12-0-232" class="d">-        val properties = remember {
</a><a href="#h12-0-233" id="h12-0-233" class="d">-            configContainer.properties.map { PropertyPair(it.key, it.value) }
</a><a href="#h12-0-234" id="h12-0-234" class="d">-        }
</a><a href="#h12-0-235" id="h12-0-235" class="d">-
</a><a href="#h12-0-236" id="h12-0-236" class="d">-        val scope = rememberCoroutineScope()
</a><a href="#h12-0-237" id="h12-0-237" class="d">-        val scaffoldState = rememberBottomSheetScaffoldState()
</a><a href="#h12-0-238" id="h12-0-238" class="d">-        Scaffold(
</a><a href="#h12-0-239" id="h12-0-239" class="d">-            snackbarHost = { SnackbarHost(scaffoldState.snackbarHostState) },
</a><a href="#h12-0-240" id="h12-0-240" class="d">-            modifier = Modifier.fillMaxSize(),
</a><a href="#h12-0-241" id="h12-0-241" class="d">-            topBar = {
</a><a href="#h12-0-242" id="h12-0-242" class="d">-                TopAppBar(
</a><a href="#h12-0-243" id="h12-0-243" class="d">-                    title = {
</a><a href="#h12-0-244" id="h12-0-244" class="d">-                        Text(text = containerName, textAlign = TextAlign.Center)
</a><a href="#h12-0-245" id="h12-0-245" class="d">-                    },
</a><a href="#h12-0-246" id="h12-0-246" class="d">-                    navigationIcon = {
</a><a href="#h12-0-247" id="h12-0-247" class="d">-                        if (navController.currentBackStackEntry?.destination?.route != MAIN_ROUTE) {
</a><a href="#h12-0-248" id="h12-0-248" class="d">-                            IconButton(onClick = { navController.popBackStack() }) {
</a><a href="#h12-0-249" id="h12-0-249" class="d">-                                Icon(Icons.Filled.ArrowBack, contentDescription = null)
</a><a href="#h12-0-250" id="h12-0-250" class="d">-                            }
</a><a href="#h12-0-251" id="h12-0-251" class="d">-                        }
</a><a href="#h12-0-252" id="h12-0-252" class="d">-                    }
</a><a href="#h12-0-253" id="h12-0-253" class="d">-                )
</a><a href="#h12-0-254" id="h12-0-254" class="d">-            },
</a><a href="#h12-0-255" id="h12-0-255" class="d">-            floatingActionButton = {
</a><a href="#h12-0-256" id="h12-0-256" class="d">-                FloatingActionButton(
</a><a href="#h12-0-257" id="h12-0-257" class="d">-                    onClick = {
</a><a href="#h12-0-258" id="h12-0-258" class="d">-                        manager.config.writeConfig()
</a><a href="#h12-0-259" id="h12-0-259" class="d">-                        scope.launch {
</a><a href="#h12-0-260" id="h12-0-260" class="d">-                            scaffoldState.snackbarHostState.showSnackbar(&quot;Saved&quot;)
</a><a href="#h12-0-261" id="h12-0-261" class="d">-                        }
</a><a href="#h12-0-262" id="h12-0-262" class="d">-                    },
</a><a href="#h12-0-263" id="h12-0-263" class="d">-                    modifier = Modifier.padding(25.dp),
</a><a href="#h12-0-264" id="h12-0-264" class="d">-                    containerColor = MaterialTheme.colors.primary,
</a><a href="#h12-0-265" id="h12-0-265" class="d">-                    contentColor = MaterialTheme.colors.onPrimary,
</a><a href="#h12-0-266" id="h12-0-266" class="d">-                    shape = RoundedCornerShape(16.dp),
</a><a href="#h12-0-267" id="h12-0-267" class="d">-                ) {
</a><a href="#h12-0-268" id="h12-0-268" class="d">-                    Icon(
</a><a href="#h12-0-269" id="h12-0-269" class="d">-                        imageVector = Icons.Rounded.Save,
</a><a href="#h12-0-270" id="h12-0-270" class="d">-                        contentDescription = null
</a><a href="#h12-0-271" id="h12-0-271" class="d">-                    )
</a><a href="#h12-0-272" id="h12-0-272" class="d">-                }
</a><a href="#h12-0-273" id="h12-0-273" class="d">-            },
</a><a href="#h12-0-274" id="h12-0-274" class="d">-            content = { innerPadding -&gt;
</a><a href="#h12-0-275" id="h12-0-275" class="d">-                LazyColumn(
</a><a href="#h12-0-276" id="h12-0-276" class="d">-                    modifier = Modifier
</a><a href="#h12-0-277" id="h12-0-277" class="d">-                        .fillMaxHeight()
</a><a href="#h12-0-278" id="h12-0-278" class="d">-                        .padding(innerPadding),
</a><a href="#h12-0-279" id="h12-0-279" class="d">-                    verticalArrangement = Arrangement.Center
</a><a href="#h12-0-280" id="h12-0-280" class="d">-                ) {
</a><a href="#h12-0-281" id="h12-0-281" class="d">-                    items(properties) {
</a><a href="#h12-0-282" id="h12-0-282" class="d">-                        PropertyCard(it)
</a><a href="#h12-0-283" id="h12-0-283" class="d">-                    }
</a><a href="#h12-0-284" id="h12-0-284" class="d">-                }
</a><a href="#h12-0-285" id="h12-0-285" class="d">-            }
</a><a href="#h12-0-286" id="h12-0-286" class="d">-        )
</a><a href="#h12-0-287" id="h12-0-287" class="d">-
</a><a href="#h12-0-288" id="h12-0-288" class="d">-    }
</a><a href="#h12-0-289" id="h12-0-289" class="d">-
</a><a href="#h12-0-290" id="h12-0-290" class="d">-    override fun build(navGraphBuilder: NavGraphBuilder) {
</a><a href="#h12-0-291" id="h12-0-291" class="d">-        val allContainers by lazy {
</a><a href="#h12-0-292" id="h12-0-292" class="d">-            val containers = mutableMapOf&lt;String, ConfigContainer&gt;()
</a><a href="#h12-0-293" id="h12-0-293" class="d">-            fun queryContainerRecursive(container: ConfigContainer) {
</a><a href="#h12-0-294" id="h12-0-294" class="d">-                container.properties.forEach {
</a><a href="#h12-0-295" id="h12-0-295" class="d">-                    if (it.key.dataType.type == DataProcessors.Type.CONTAINER) {
</a><a href="#h12-0-296" id="h12-0-296" class="d">-                        containers[it.key.name] = it.value.get() as ConfigContainer
</a><a href="#h12-0-297" id="h12-0-297" class="d">-                        queryContainerRecursive(it.value.get() as ConfigContainer)
</a><a href="#h12-0-298" id="h12-0-298" class="d">-                    }
</a><a href="#h12-0-299" id="h12-0-299" class="d">-                }
</a><a href="#h12-0-300" id="h12-0-300" class="d">-            }
</a><a href="#h12-0-301" id="h12-0-301" class="d">-            queryContainerRecursive(manager.config.root)
</a><a href="#h12-0-302" id="h12-0-302" class="d">-            containers
</a><a href="#h12-0-303" id="h12-0-303" class="d">-        }
</a><a href="#h12-0-304" id="h12-0-304" class="d">-
</a><a href="#h12-0-305" id="h12-0-305" class="d">-        navGraphBuilder.navigation(route = &quot;features&quot;, startDestination = MAIN_ROUTE) {
</a><a href="#h12-0-306" id="h12-0-306" class="d">-            composable(MAIN_ROUTE) {
</a><a href="#h12-0-307" id="h12-0-307" class="d">-                Container(MAIN_ROUTE, manager.config.root)
</a><a href="#h12-0-308" id="h12-0-308" class="d">-            }
</a><a href="#h12-0-309" id="h12-0-309" class="d">-
</a><a href="#h12-0-310" id="h12-0-310" class="d">-            composable(&quot;container/{name}&quot;) { backStackEntry -&gt;
</a><a href="#h12-0-311" id="h12-0-311" class="d">-                backStackEntry.arguments?.getString(&quot;name&quot;)?.let { containerName -&gt;
</a><a href="#h12-0-312" id="h12-0-312" class="d">-                    allContainers[containerName]?.let {
</a><a href="#h12-0-313" id="h12-0-313" class="d">-                        Container(containerName, it)
</a><a href="#h12-0-314" id="h12-0-314" class="d">-                    }
</a><a href="#h12-0-315" id="h12-0-315" class="d">-                }
</a><a href="#h12-0-316" id="h12-0-316" class="d">-            }
</a><a href="#h12-0-317" id="h12-0-317" class="d">-        }
</a><a href="#h12-0-318" id="h12-0-318" class="d">-    }
</a><a href="#h12-0-319" id="h12-0-319" class="d">-}</a><a href="#h12-0-320" id="h12-0-320" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h13" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/Requirements.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/Requirements.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/Requirements.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/Requirements.kt</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -1,33 +0,0 @@
</a><a href="#h13-0-0" id="h13-0-0" class="d">-package me.rhunk.snapenhance.manager.setup
</a><a href="#h13-0-1" id="h13-0-1" class="d">-
</a><a href="#h13-0-2" id="h13-0-2" class="d">-import android.os.Bundle
</a><a href="#h13-0-3" id="h13-0-3" class="d">-
</a><a href="#h13-0-4" id="h13-0-4" class="d">-data class Requirements(
</a><a href="#h13-0-5" id="h13-0-5" class="d">-    val firstRun: Boolean = false,
</a><a href="#h13-0-6" id="h13-0-6" class="d">-    val language: Boolean = false,
</a><a href="#h13-0-7" id="h13-0-7" class="d">-    val mappings: Boolean = false,
</a><a href="#h13-0-8" id="h13-0-8" class="d">-    val saveFolder: Boolean = false,
</a><a href="#h13-0-9" id="h13-0-9" class="d">-    val ffmpeg: Boolean = false
</a><a href="#h13-0-10" id="h13-0-10" class="d">-) {
</a><a href="#h13-0-11" id="h13-0-11" class="d">-    companion object {
</a><a href="#h13-0-12" id="h13-0-12" class="d">-        fun fromBundle(bundle: Bundle): Requirements {
</a><a href="#h13-0-13" id="h13-0-13" class="d">-            return Requirements(
</a><a href="#h13-0-14" id="h13-0-14" class="d">-                firstRun = bundle.getBoolean(&quot;firstRun&quot;),
</a><a href="#h13-0-15" id="h13-0-15" class="d">-                language = bundle.getBoolean(&quot;language&quot;),
</a><a href="#h13-0-16" id="h13-0-16" class="d">-                mappings = bundle.getBoolean(&quot;mappings&quot;),
</a><a href="#h13-0-17" id="h13-0-17" class="d">-                saveFolder = bundle.getBoolean(&quot;saveFolder&quot;),
</a><a href="#h13-0-18" id="h13-0-18" class="d">-                ffmpeg = bundle.getBoolean(&quot;ffmpeg&quot;)
</a><a href="#h13-0-19" id="h13-0-19" class="d">-            )
</a><a href="#h13-0-20" id="h13-0-20" class="d">-        }
</a><a href="#h13-0-21" id="h13-0-21" class="d">-
</a><a href="#h13-0-22" id="h13-0-22" class="d">-        fun toBundle(requirements: Requirements): Bundle {
</a><a href="#h13-0-23" id="h13-0-23" class="d">-            return Bundle().apply {
</a><a href="#h13-0-24" id="h13-0-24" class="d">-                putBoolean(&quot;firstRun&quot;, requirements.firstRun)
</a><a href="#h13-0-25" id="h13-0-25" class="d">-                putBoolean(&quot;language&quot;, requirements.language)
</a><a href="#h13-0-26" id="h13-0-26" class="d">-                putBoolean(&quot;mappings&quot;, requirements.mappings)
</a><a href="#h13-0-27" id="h13-0-27" class="d">-                putBoolean(&quot;saveFolder&quot;, requirements.saveFolder)
</a><a href="#h13-0-28" id="h13-0-28" class="d">-                putBoolean(&quot;ffmpeg&quot;, requirements.ffmpeg)
</a><a href="#h13-0-29" id="h13-0-29" class="d">-            }
</a><a href="#h13-0-30" id="h13-0-30" class="d">-        }
</a><a href="#h13-0-31" id="h13-0-31" class="d">-    }
</a><a href="#h13-0-32" id="h13-0-32" class="d">-}
</a><b>diff --git a/<a id="h14" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/SetupActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/SetupActivity.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/SetupActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/SetupActivity.kt</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -1,136 +0,0 @@
</a><a href="#h14-0-0" id="h14-0-0" class="d">-package me.rhunk.snapenhance.manager.setup
</a><a href="#h14-0-1" id="h14-0-1" class="d">-
</a><a href="#h14-0-2" id="h14-0-2" class="d">-import android.os.Bundle
</a><a href="#h14-0-3" id="h14-0-3" class="d">-import androidx.activity.ComponentActivity
</a><a href="#h14-0-4" id="h14-0-4" class="d">-import androidx.activity.compose.setContent
</a><a href="#h14-0-5" id="h14-0-5" class="d">-import androidx.compose.animation.core.animateFloatAsState
</a><a href="#h14-0-6" id="h14-0-6" class="d">-import androidx.compose.foundation.background
</a><a href="#h14-0-7" id="h14-0-7" class="d">-import androidx.compose.foundation.layout.Arrangement
</a><a href="#h14-0-8" id="h14-0-8" class="d">-import androidx.compose.foundation.layout.Column
</a><a href="#h14-0-9" id="h14-0-9" class="d">-import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h14-0-10" id="h14-0-10" class="d">-import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h14-0-11" id="h14-0-11" class="d">-import androidx.compose.foundation.layout.height
</a><a href="#h14-0-12" id="h14-0-12" class="d">-import androidx.compose.foundation.layout.padding
</a><a href="#h14-0-13" id="h14-0-13" class="d">-import androidx.compose.foundation.layout.width
</a><a href="#h14-0-14" id="h14-0-14" class="d">-import androidx.compose.material.icons.Icons
</a><a href="#h14-0-15" id="h14-0-15" class="d">-import androidx.compose.material.icons.filled.ArrowForwardIos
</a><a href="#h14-0-16" id="h14-0-16" class="d">-import androidx.compose.material3.FilledIconButton
</a><a href="#h14-0-17" id="h14-0-17" class="d">-import androidx.compose.material3.Icon
</a><a href="#h14-0-18" id="h14-0-18" class="d">-import androidx.compose.material3.MaterialTheme
</a><a href="#h14-0-19" id="h14-0-19" class="d">-import androidx.compose.material3.Scaffold
</a><a href="#h14-0-20" id="h14-0-20" class="d">-import androidx.compose.runtime.getValue
</a><a href="#h14-0-21" id="h14-0-21" class="d">-import androidx.compose.runtime.mutableStateOf
</a><a href="#h14-0-22" id="h14-0-22" class="d">-import androidx.compose.runtime.remember
</a><a href="#h14-0-23" id="h14-0-23" class="d">-import androidx.compose.ui.Alignment
</a><a href="#h14-0-24" id="h14-0-24" class="d">-import androidx.compose.ui.Modifier
</a><a href="#h14-0-25" id="h14-0-25" class="d">-import androidx.compose.ui.draw.alpha
</a><a href="#h14-0-26" id="h14-0-26" class="d">-import androidx.compose.ui.unit.dp
</a><a href="#h14-0-27" id="h14-0-27" class="d">-import androidx.navigation.compose.NavHost
</a><a href="#h14-0-28" id="h14-0-28" class="d">-import androidx.navigation.compose.composable
</a><a href="#h14-0-29" id="h14-0-29" class="d">-import androidx.navigation.compose.rememberNavController
</a><a href="#h14-0-30" id="h14-0-30" class="d">-import me.rhunk.snapenhance.manager.AppMaterialTheme
</a><a href="#h14-0-31" id="h14-0-31" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h14-0-32" id="h14-0-32" class="d">-import me.rhunk.snapenhance.manager.setup.screens.impl.FfmpegScreen
</a><a href="#h14-0-33" id="h14-0-33" class="d">-import me.rhunk.snapenhance.manager.setup.screens.impl.LanguageScreen
</a><a href="#h14-0-34" id="h14-0-34" class="d">-import me.rhunk.snapenhance.manager.setup.screens.impl.MappingsScreen
</a><a href="#h14-0-35" id="h14-0-35" class="d">-import me.rhunk.snapenhance.manager.setup.screens.impl.SaveFolderScreen
</a><a href="#h14-0-36" id="h14-0-36" class="d">-import me.rhunk.snapenhance.manager.setup.screens.impl.WelcomeScreen
</a><a href="#h14-0-37" id="h14-0-37" class="d">-
</a><a href="#h14-0-38" id="h14-0-38" class="d">-
</a><a href="#h14-0-39" id="h14-0-39" class="d">-class SetupActivity : ComponentActivity() {
</a><a href="#h14-0-40" id="h14-0-40" class="d">-    override fun onCreate(savedInstanceState: Bundle?) {
</a><a href="#h14-0-41" id="h14-0-41" class="d">-        super.onCreate(savedInstanceState)
</a><a href="#h14-0-42" id="h14-0-42" class="d">-
</a><a href="#h14-0-43" id="h14-0-43" class="d">-        val requirements = intent.getBundleExtra(&quot;requirements&quot;)?.let {
</a><a href="#h14-0-44" id="h14-0-44" class="d">-            Requirements.fromBundle(it)
</a><a href="#h14-0-45" id="h14-0-45" class="d">-        } ?: Requirements(firstRun = true)
</a><a href="#h14-0-46" id="h14-0-46" class="d">-
</a><a href="#h14-0-47" id="h14-0-47" class="d">-        val requiredScreens = mutableListOf&lt;SetupScreen&gt;()
</a><a href="#h14-0-48" id="h14-0-48" class="d">-
</a><a href="#h14-0-49" id="h14-0-49" class="d">-        with(requiredScreens) {
</a><a href="#h14-0-50" id="h14-0-50" class="d">-            with(requirements) {
</a><a href="#h14-0-51" id="h14-0-51" class="d">-                if (firstRun || language) add(LanguageScreen().apply { route = &quot;language&quot; })
</a><a href="#h14-0-52" id="h14-0-52" class="d">-                if (firstRun) add(WelcomeScreen().apply { route = &quot;welcome&quot; })
</a><a href="#h14-0-53" id="h14-0-53" class="d">-                if (firstRun || saveFolder) add(SaveFolderScreen().apply { route = &quot;saveFolder&quot; })
</a><a href="#h14-0-54" id="h14-0-54" class="d">-                if (firstRun || mappings) add(MappingsScreen().apply { route = &quot;mappings&quot; })
</a><a href="#h14-0-55" id="h14-0-55" class="d">-                if (firstRun || ffmpeg) add(FfmpegScreen().apply { route = &quot;ffmpeg&quot; })
</a><a href="#h14-0-56" id="h14-0-56" class="d">-            }
</a><a href="#h14-0-57" id="h14-0-57" class="d">-        }
</a><a href="#h14-0-58" id="h14-0-58" class="d">-
</a><a href="#h14-0-59" id="h14-0-59" class="d">-        if (requiredScreens.isEmpty()) {
</a><a href="#h14-0-60" id="h14-0-60" class="d">-            finish()
</a><a href="#h14-0-61" id="h14-0-61" class="d">-            return
</a><a href="#h14-0-62" id="h14-0-62" class="d">-        }
</a><a href="#h14-0-63" id="h14-0-63" class="d">-
</a><a href="#h14-0-64" id="h14-0-64" class="d">-        setContent {
</a><a href="#h14-0-65" id="h14-0-65" class="d">-            val navController = rememberNavController()
</a><a href="#h14-0-66" id="h14-0-66" class="d">-            val canGoNext = remember { mutableStateOf(false) }
</a><a href="#h14-0-67" id="h14-0-67" class="d">-
</a><a href="#h14-0-68" id="h14-0-68" class="d">-            fun nextScreen() {
</a><a href="#h14-0-69" id="h14-0-69" class="d">-                if (!canGoNext.value) return
</a><a href="#h14-0-70" id="h14-0-70" class="d">-                canGoNext.value = false
</a><a href="#h14-0-71" id="h14-0-71" class="d">-                if (requiredScreens.size &gt; 1) {
</a><a href="#h14-0-72" id="h14-0-72" class="d">-                    requiredScreens.removeFirst()
</a><a href="#h14-0-73" id="h14-0-73" class="d">-                    navController.navigate(requiredScreens.first().route)
</a><a href="#h14-0-74" id="h14-0-74" class="d">-                } else {
</a><a href="#h14-0-75" id="h14-0-75" class="d">-                    finish()
</a><a href="#h14-0-76" id="h14-0-76" class="d">-                }
</a><a href="#h14-0-77" id="h14-0-77" class="d">-            }
</a><a href="#h14-0-78" id="h14-0-78" class="d">-
</a><a href="#h14-0-79" id="h14-0-79" class="d">-            AppMaterialTheme {
</a><a href="#h14-0-80" id="h14-0-80" class="d">-                Scaffold(
</a><a href="#h14-0-81" id="h14-0-81" class="d">-                    containerColor = MaterialTheme.colorScheme.background,
</a><a href="#h14-0-82" id="h14-0-82" class="d">-                    bottomBar = {
</a><a href="#h14-0-83" id="h14-0-83" class="d">-                        Column(
</a><a href="#h14-0-84" id="h14-0-84" class="d">-                            modifier = Modifier
</a><a href="#h14-0-85" id="h14-0-85" class="d">-                                .fillMaxWidth(),
</a><a href="#h14-0-86" id="h14-0-86" class="d">-                            horizontalAlignment = Alignment.CenterHorizontally
</a><a href="#h14-0-87" id="h14-0-87" class="d">-                        ) {
</a><a href="#h14-0-88" id="h14-0-88" class="d">-                            val alpha: Float by animateFloatAsState(if (canGoNext.value) 1f else 0f,
</a><a href="#h14-0-89" id="h14-0-89" class="d">-                                label = &quot;NextButton&quot;
</a><a href="#h14-0-90" id="h14-0-90" class="d">-                            )
</a><a href="#h14-0-91" id="h14-0-91" class="d">-
</a><a href="#h14-0-92" id="h14-0-92" class="d">-                            FilledIconButton(
</a><a href="#h14-0-93" id="h14-0-93" class="d">-                                onClick = { nextScreen() },
</a><a href="#h14-0-94" id="h14-0-94" class="d">-                                modifier = Modifier.padding(50.dp)
</a><a href="#h14-0-95" id="h14-0-95" class="d">-                                    .width(60.dp)
</a><a href="#h14-0-96" id="h14-0-96" class="d">-                                    .height(60.dp)
</a><a href="#h14-0-97" id="h14-0-97" class="d">-                                    .alpha(alpha)
</a><a href="#h14-0-98" id="h14-0-98" class="d">-                            ) {
</a><a href="#h14-0-99" id="h14-0-99" class="d">-                                Icon(
</a><a href="#h14-0-100" id="h14-0-100" class="d">-                                    imageVector = Icons.Default.ArrowForwardIos,
</a><a href="#h14-0-101" id="h14-0-101" class="d">-                                    contentDescription = null
</a><a href="#h14-0-102" id="h14-0-102" class="d">-                                )
</a><a href="#h14-0-103" id="h14-0-103" class="d">-                            }
</a><a href="#h14-0-104" id="h14-0-104" class="d">-                        }
</a><a href="#h14-0-105" id="h14-0-105" class="d">-                    },
</a><a href="#h14-0-106" id="h14-0-106" class="d">-                ) { paddingValues -&gt;
</a><a href="#h14-0-107" id="h14-0-107" class="d">-                    Column(
</a><a href="#h14-0-108" id="h14-0-108" class="d">-                        modifier = Modifier
</a><a href="#h14-0-109" id="h14-0-109" class="d">-                            .background(MaterialTheme.colorScheme.background)
</a><a href="#h14-0-110" id="h14-0-110" class="d">-                            .fillMaxSize()
</a><a href="#h14-0-111" id="h14-0-111" class="d">-                            .padding(paddingValues)
</a><a href="#h14-0-112" id="h14-0-112" class="d">-                    ) {
</a><a href="#h14-0-113" id="h14-0-113" class="d">-                        NavHost(
</a><a href="#h14-0-114" id="h14-0-114" class="d">-                            navController = navController,
</a><a href="#h14-0-115" id="h14-0-115" class="d">-                            startDestination = requiredScreens.first().route
</a><a href="#h14-0-116" id="h14-0-116" class="d">-                        ) {
</a><a href="#h14-0-117" id="h14-0-117" class="d">-                            requiredScreens.forEach { screen -&gt;
</a><a href="#h14-0-118" id="h14-0-118" class="d">-                                screen.allowNext = { canGoNext.value = it }
</a><a href="#h14-0-119" id="h14-0-119" class="d">-                                composable(screen.route) {
</a><a href="#h14-0-120" id="h14-0-120" class="d">-                                    Column(
</a><a href="#h14-0-121" id="h14-0-121" class="d">-                                        modifier = Modifier.fillMaxSize(),
</a><a href="#h14-0-122" id="h14-0-122" class="d">-                                        verticalArrangement = Arrangement.Center,
</a><a href="#h14-0-123" id="h14-0-123" class="d">-                                        horizontalAlignment = Alignment.CenterHorizontally
</a><a href="#h14-0-124" id="h14-0-124" class="d">-                                    ) {
</a><a href="#h14-0-125" id="h14-0-125" class="d">-                                        screen.Content()
</a><a href="#h14-0-126" id="h14-0-126" class="d">-                                    }
</a><a href="#h14-0-127" id="h14-0-127" class="d">-                                }
</a><a href="#h14-0-128" id="h14-0-128" class="d">-                            }
</a><a href="#h14-0-129" id="h14-0-129" class="d">-                        }
</a><a href="#h14-0-130" id="h14-0-130" class="d">-                    }
</a><a href="#h14-0-131" id="h14-0-131" class="d">-                }
</a><a href="#h14-0-132" id="h14-0-132" class="d">-            }
</a><a href="#h14-0-133" id="h14-0-133" class="d">-        }
</a><a href="#h14-0-134" id="h14-0-134" class="d">-    }
</a><a href="#h14-0-135" id="h14-0-135" class="d">-}</a><a href="#h14-0-136" id="h14-0-136" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h15" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/SetupScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/SetupScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/SetupScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/SetupScreen.kt</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h15-0-0" id="h15-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens
</a><a href="#h15-0-1" id="h15-0-1" class="d">-
</a><a href="#h15-0-2" id="h15-0-2" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h15-0-3" id="h15-0-3" class="d">-
</a><a href="#h15-0-4" id="h15-0-4" class="d">-abstract class SetupScreen {
</a><a href="#h15-0-5" id="h15-0-5" class="d">-    lateinit var allowNext: (Boolean) -&gt; Unit
</a><a href="#h15-0-6" id="h15-0-6" class="d">-    lateinit var route: String
</a><a href="#h15-0-7" id="h15-0-7" class="d">-
</a><a href="#h15-0-8" id="h15-0-8" class="d">-    @Composable
</a><a href="#h15-0-9" id="h15-0-9" class="d">-    abstract fun Content()
</a><a href="#h15-0-10" id="h15-0-10" class="d">-}</a><a href="#h15-0-11" id="h15-0-11" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h16" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/FfmpegScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/FfmpegScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/FfmpegScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/FfmpegScreen.kt</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h16-0-0" id="h16-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens.impl
</a><a href="#h16-0-1" id="h16-0-1" class="d">-
</a><a href="#h16-0-2" id="h16-0-2" class="d">-import androidx.compose.material3.Button
</a><a href="#h16-0-3" id="h16-0-3" class="d">-import androidx.compose.material3.Text
</a><a href="#h16-0-4" id="h16-0-4" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h16-0-5" id="h16-0-5" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h16-0-6" id="h16-0-6" class="d">-
</a><a href="#h16-0-7" id="h16-0-7" class="d">-class FfmpegScreen : SetupScreen() {
</a><a href="#h16-0-8" id="h16-0-8" class="d">-
</a><a href="#h16-0-9" id="h16-0-9" class="d">-    @Composable
</a><a href="#h16-0-10" id="h16-0-10" class="d">-    override fun Content() {
</a><a href="#h16-0-11" id="h16-0-11" class="d">-        Text(text = &quot;FFmpeg&quot;)
</a><a href="#h16-0-12" id="h16-0-12" class="d">-        Button(onClick = { allowNext(true) }) {
</a><a href="#h16-0-13" id="h16-0-13" class="d">-            Text(text = &quot;Next&quot;)
</a><a href="#h16-0-14" id="h16-0-14" class="d">-        }
</a><a href="#h16-0-15" id="h16-0-15" class="d">-    }
</a><a href="#h16-0-16" id="h16-0-16" class="d">-}</a><a href="#h16-0-17" id="h16-0-17" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h17" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/LanguageScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/LanguageScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/LanguageScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/LanguageScreen.kt</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h17-0-0" id="h17-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens.impl
</a><a href="#h17-0-1" id="h17-0-1" class="d">-
</a><a href="#h17-0-2" id="h17-0-2" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h17-0-3" id="h17-0-3" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h17-0-4" id="h17-0-4" class="d">-
</a><a href="#h17-0-5" id="h17-0-5" class="d">-class LanguageScreen : SetupScreen(){
</a><a href="#h17-0-6" id="h17-0-6" class="d">-
</a><a href="#h17-0-7" id="h17-0-7" class="d">-    @Composable
</a><a href="#h17-0-8" id="h17-0-8" class="d">-    override fun Content() {
</a><a href="#h17-0-9" id="h17-0-9" class="d">-
</a><a href="#h17-0-10" id="h17-0-10" class="d">-    }
</a><a href="#h17-0-11" id="h17-0-11" class="d">-}</a><a href="#h17-0-12" id="h17-0-12" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h18" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/MappingsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/MappingsScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/MappingsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/MappingsScreen.kt</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h18-0-0" id="h18-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens.impl
</a><a href="#h18-0-1" id="h18-0-1" class="d">-
</a><a href="#h18-0-2" id="h18-0-2" class="d">-import androidx.compose.material3.Button
</a><a href="#h18-0-3" id="h18-0-3" class="d">-import androidx.compose.material3.Text
</a><a href="#h18-0-4" id="h18-0-4" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h18-0-5" id="h18-0-5" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h18-0-6" id="h18-0-6" class="d">-
</a><a href="#h18-0-7" id="h18-0-7" class="d">-class MappingsScreen : SetupScreen() {
</a><a href="#h18-0-8" id="h18-0-8" class="d">-    @Composable
</a><a href="#h18-0-9" id="h18-0-9" class="d">-    override fun Content() {
</a><a href="#h18-0-10" id="h18-0-10" class="d">-        Text(text = &quot;Mappings&quot;)
</a><a href="#h18-0-11" id="h18-0-11" class="d">-        Button(onClick = { allowNext(true) }) {
</a><a href="#h18-0-12" id="h18-0-12" class="d">-            Text(text = &quot;Next&quot;)
</a><a href="#h18-0-13" id="h18-0-13" class="d">-        }
</a><a href="#h18-0-14" id="h18-0-14" class="d">-    }
</a><a href="#h18-0-15" id="h18-0-15" class="d">-}</a><a href="#h18-0-16" id="h18-0-16" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h19" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/SaveFolderScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/SaveFolderScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/SaveFolderScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/SaveFolderScreen.kt</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h19-0-0" id="h19-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens.impl
</a><a href="#h19-0-1" id="h19-0-1" class="d">-
</a><a href="#h19-0-2" id="h19-0-2" class="d">-import androidx.compose.material3.Button
</a><a href="#h19-0-3" id="h19-0-3" class="d">-import androidx.compose.material3.Text
</a><a href="#h19-0-4" id="h19-0-4" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h19-0-5" id="h19-0-5" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h19-0-6" id="h19-0-6" class="d">-
</a><a href="#h19-0-7" id="h19-0-7" class="d">-class SaveFolderScreen : SetupScreen() {
</a><a href="#h19-0-8" id="h19-0-8" class="d">-
</a><a href="#h19-0-9" id="h19-0-9" class="d">-    @Composable
</a><a href="#h19-0-10" id="h19-0-10" class="d">-    override fun Content() {
</a><a href="#h19-0-11" id="h19-0-11" class="d">-        Text(text = &quot;SaveFolder&quot;)
</a><a href="#h19-0-12" id="h19-0-12" class="d">-        Button(onClick = {allowNext(true)}) {
</a><a href="#h19-0-13" id="h19-0-13" class="d">-            Text(text = &quot;Next&quot;)
</a><a href="#h19-0-14" id="h19-0-14" class="d">-        }
</a><a href="#h19-0-15" id="h19-0-15" class="d">-    }
</a><a href="#h19-0-16" id="h19-0-16" class="d">-}</a><a href="#h19-0-17" id="h19-0-17" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h20" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/WelcomeScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/WelcomeScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/WelcomeScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/setup/screens/impl/WelcomeScreen.kt</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h20-0-0" id="h20-0-0" class="d">-package me.rhunk.snapenhance.manager.setup.screens.impl
</a><a href="#h20-0-1" id="h20-0-1" class="d">-
</a><a href="#h20-0-2" id="h20-0-2" class="d">-import androidx.compose.material3.Button
</a><a href="#h20-0-3" id="h20-0-3" class="d">-import androidx.compose.material3.Text
</a><a href="#h20-0-4" id="h20-0-4" class="d">-import androidx.compose.runtime.Composable
</a><a href="#h20-0-5" id="h20-0-5" class="d">-import me.rhunk.snapenhance.manager.setup.screens.SetupScreen
</a><a href="#h20-0-6" id="h20-0-6" class="d">-
</a><a href="#h20-0-7" id="h20-0-7" class="d">-class WelcomeScreen : SetupScreen() {
</a><a href="#h20-0-8" id="h20-0-8" class="d">-
</a><a href="#h20-0-9" id="h20-0-9" class="d">-    @Composable
</a><a href="#h20-0-10" id="h20-0-10" class="d">-    override fun Content() {
</a><a href="#h20-0-11" id="h20-0-11" class="d">-        Text(text = &quot;Welcome&quot;)
</a><a href="#h20-0-12" id="h20-0-12" class="d">-        Button(onClick = { allowNext(true) }) {
</a><a href="#h20-0-13" id="h20-0-13" class="d">-            Text(text = &quot;Next&quot;)
</a><a href="#h20-0-14" id="h20-0-14" class="d">-        }
</a><a href="#h20-0-15" id="h20-0-15" class="d">-    }
</a><a href="#h20-0-16" id="h20-0-16" class="d">-}</a><a href="#h20-0-17" id="h20-0-17" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h21" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/util/SaveFolderChecker.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/util/SaveFolderChecker.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/manager/util/SaveFolderChecker.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/manager/util/SaveFolderChecker.kt</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -1,42 +0,0 @@
</a><a href="#h21-0-0" id="h21-0-0" class="d">-package me.rhunk.snapenhance.manager.util
</a><a href="#h21-0-1" id="h21-0-1" class="d">-
</a><a href="#h21-0-2" id="h21-0-2" class="d">-import android.app.Activity
</a><a href="#h21-0-3" id="h21-0-3" class="d">-import android.app.AlertDialog
</a><a href="#h21-0-4" id="h21-0-4" class="d">-import android.content.Intent
</a><a href="#h21-0-5" id="h21-0-5" class="d">-import android.widget.Toast
</a><a href="#h21-0-6" id="h21-0-6" class="d">-import androidx.activity.ComponentActivity
</a><a href="#h21-0-7" id="h21-0-7" class="d">-import androidx.activity.result.contract.ActivityResultContracts
</a><a href="#h21-0-8" id="h21-0-8" class="d">-import me.rhunk.snapenhance.core.config.PropertyValue
</a><a href="#h21-0-9" id="h21-0-9" class="d">-import kotlin.system.exitProcess
</a><a href="#h21-0-10" id="h21-0-10" class="d">-
</a><a href="#h21-0-11" id="h21-0-11" class="d">-object SaveFolderChecker {
</a><a href="#h21-0-12" id="h21-0-12" class="d">-    fun askForFolder(activity: ComponentActivity, property: PropertyValue&lt;String&gt;, saveConfig: () -&gt; Unit) {
</a><a href="#h21-0-13" id="h21-0-13" class="d">-        if (property.get().isEmpty() || !property.get().startsWith(&quot;content://&quot;)) {
</a><a href="#h21-0-14" id="h21-0-14" class="d">-            val startActivity = activity.registerForActivityResult(ActivityResultContracts.StartActivityForResult()) result@{
</a><a href="#h21-0-15" id="h21-0-15" class="d">-                if (it.resultCode != Activity.RESULT_OK) return@result
</a><a href="#h21-0-16" id="h21-0-16" class="d">-                val uri = it.data?.data ?: return@result
</a><a href="#h21-0-17" id="h21-0-17" class="d">-                val value = uri.toString()
</a><a href="#h21-0-18" id="h21-0-18" class="d">-                activity.contentResolver.takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION)
</a><a href="#h21-0-19" id="h21-0-19" class="d">-                property.set(value)
</a><a href="#h21-0-20" id="h21-0-20" class="d">-                saveConfig()
</a><a href="#h21-0-21" id="h21-0-21" class="d">-                Toast.makeText(activity, &quot;save folder set!&quot;, Toast.LENGTH_SHORT).show()
</a><a href="#h21-0-22" id="h21-0-22" class="d">-                activity.finish()
</a><a href="#h21-0-23" id="h21-0-23" class="d">-            }
</a><a href="#h21-0-24" id="h21-0-24" class="d">-
</a><a href="#h21-0-25" id="h21-0-25" class="d">-            AlertDialog.Builder(activity)
</a><a href="#h21-0-26" id="h21-0-26" class="d">-                .setTitle(&quot;Save folder&quot;)
</a><a href="#h21-0-27" id="h21-0-27" class="d">-                .setMessage(&quot;Please select a folder where you want to save downloaded files.&quot;)
</a><a href="#h21-0-28" id="h21-0-28" class="d">-                .setPositiveButton(&quot;Select&quot;) { _, _ -&gt;
</a><a href="#h21-0-29" id="h21-0-29" class="d">-                    startActivity.launch(
</a><a href="#h21-0-30" id="h21-0-30" class="d">-                        Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)
</a><a href="#h21-0-31" id="h21-0-31" class="d">-                        .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)
</a><a href="#h21-0-32" id="h21-0-32" class="d">-                        .addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION)
</a><a href="#h21-0-33" id="h21-0-33" class="d">-                    )
</a><a href="#h21-0-34" id="h21-0-34" class="d">-                }
</a><a href="#h21-0-35" id="h21-0-35" class="d">-                .setNegativeButton(&quot;Cancel&quot;) { _, _ -&gt;
</a><a href="#h21-0-36" id="h21-0-36" class="d">-                    exitProcess(0)
</a><a href="#h21-0-37" id="h21-0-37" class="d">-                }
</a><a href="#h21-0-38" id="h21-0-38" class="d">-                .show()
</a><a href="#h21-0-39" id="h21-0-39" class="d">-        }
</a><a href="#h21-0-40" id="h21-0-40" class="d">-    }
</a><a href="#h21-0-41" id="h21-0-41" class="d">-}</a><a href="#h21-0-42" id="h21-0-42" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h22" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/Theme.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/Theme.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/Theme.kt</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -0,0 +1,162 @@
</a><a href="#h22-0-0" id="h22-0-0" class="i">+package me.rhunk.snapenhance.ui
</a><a href="#h22-0-1" id="h22-0-1" class="i">+
</a><a href="#h22-0-2" id="h22-0-2" class="i">+import android.os.Build
</a><a href="#h22-0-3" id="h22-0-3" class="i">+import androidx.compose.foundation.isSystemInDarkTheme
</a><a href="#h22-0-4" id="h22-0-4" class="i">+import androidx.compose.material3.MaterialTheme
</a><a href="#h22-0-5" id="h22-0-5" class="i">+import androidx.compose.material3.dynamicDarkColorScheme
</a><a href="#h22-0-6" id="h22-0-6" class="i">+import androidx.compose.material3.dynamicLightColorScheme
</a><a href="#h22-0-7" id="h22-0-7" class="i">+import androidx.compose.material3.lightColorScheme
</a><a href="#h22-0-8" id="h22-0-8" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h22-0-9" id="h22-0-9" class="i">+import androidx.compose.ui.graphics.Color
</a><a href="#h22-0-10" id="h22-0-10" class="i">+import androidx.compose.ui.platform.LocalContext
</a><a href="#h22-0-11" id="h22-0-11" class="i">+
</a><a href="#h22-0-12" id="h22-0-12" class="i">+val md_theme_light_primary = Color(0xFF6750A4)
</a><a href="#h22-0-13" id="h22-0-13" class="i">+val md_theme_light_onPrimary = Color(0xFFFFFFFF)
</a><a href="#h22-0-14" id="h22-0-14" class="i">+val md_theme_light_primaryContainer = Color(0xFFE9DDFF)
</a><a href="#h22-0-15" id="h22-0-15" class="i">+val md_theme_light_onPrimaryContainer = Color(0xFF22005D)
</a><a href="#h22-0-16" id="h22-0-16" class="i">+val md_theme_light_secondary = Color(0xFF625B71)
</a><a href="#h22-0-17" id="h22-0-17" class="i">+val md_theme_light_onSecondary = Color(0xFFFFFFFF)
</a><a href="#h22-0-18" id="h22-0-18" class="i">+val md_theme_light_secondaryContainer = Color(0xFFE8DEF8)
</a><a href="#h22-0-19" id="h22-0-19" class="i">+val md_theme_light_onSecondaryContainer = Color(0xFF1E192B)
</a><a href="#h22-0-20" id="h22-0-20" class="i">+val md_theme_light_tertiary = Color(0xFF3C5BA9)
</a><a href="#h22-0-21" id="h22-0-21" class="i">+val md_theme_light_onTertiary = Color(0xFFFFFFFF)
</a><a href="#h22-0-22" id="h22-0-22" class="i">+val md_theme_light_tertiaryContainer = Color(0xFFDBE1FF)
</a><a href="#h22-0-23" id="h22-0-23" class="i">+val md_theme_light_onTertiaryContainer = Color(0xFF001849)
</a><a href="#h22-0-24" id="h22-0-24" class="i">+val md_theme_light_error = Color(0xFFBA1A1A)
</a><a href="#h22-0-25" id="h22-0-25" class="i">+val md_theme_light_errorContainer = Color(0xFFFFDAD6)
</a><a href="#h22-0-26" id="h22-0-26" class="i">+val md_theme_light_onError = Color(0xFFFFFFFF)
</a><a href="#h22-0-27" id="h22-0-27" class="i">+val md_theme_light_onErrorContainer = Color(0xFF410002)
</a><a href="#h22-0-28" id="h22-0-28" class="i">+val md_theme_light_background = Color(0xFFFFFBFF)
</a><a href="#h22-0-29" id="h22-0-29" class="i">+val md_theme_light_onBackground = Color(0xFF1C1B1E)
</a><a href="#h22-0-30" id="h22-0-30" class="i">+val md_theme_light_surface = Color(0xFFFFFBFF)
</a><a href="#h22-0-31" id="h22-0-31" class="i">+val md_theme_light_onSurface = Color(0xFF1C1B1E)
</a><a href="#h22-0-32" id="h22-0-32" class="i">+val md_theme_light_surfaceVariant = Color(0xFFE7E0EB)
</a><a href="#h22-0-33" id="h22-0-33" class="i">+val md_theme_light_onSurfaceVariant = Color(0xFF49454E)
</a><a href="#h22-0-34" id="h22-0-34" class="i">+val md_theme_light_outline = Color(0xFF7A757F)
</a><a href="#h22-0-35" id="h22-0-35" class="i">+val md_theme_light_inverseOnSurface = Color(0xFFF4EFF4)
</a><a href="#h22-0-36" id="h22-0-36" class="i">+val md_theme_light_inverseSurface = Color(0xFF313033)
</a><a href="#h22-0-37" id="h22-0-37" class="i">+val md_theme_light_inversePrimary = Color(0xFFCFBCFF)
</a><a href="#h22-0-38" id="h22-0-38" class="i">+val md_theme_light_surfaceTint = Color(0xFF6750A4)
</a><a href="#h22-0-39" id="h22-0-39" class="i">+val md_theme_light_outlineVariant = Color(0xFFCAC4CF)
</a><a href="#h22-0-40" id="h22-0-40" class="i">+val md_theme_light_scrim = Color(0xFF000000)
</a><a href="#h22-0-41" id="h22-0-41" class="i">+
</a><a href="#h22-0-42" id="h22-0-42" class="i">+val md_theme_dark_primary = Color(0xFFCFBCFF)
</a><a href="#h22-0-43" id="h22-0-43" class="i">+val md_theme_dark_onPrimary = Color(0xFF381E72)
</a><a href="#h22-0-44" id="h22-0-44" class="i">+val md_theme_dark_primaryContainer = Color(0xFF4F378A)
</a><a href="#h22-0-45" id="h22-0-45" class="i">+val md_theme_dark_onPrimaryContainer = Color(0xFFE9DDFF)
</a><a href="#h22-0-46" id="h22-0-46" class="i">+val md_theme_dark_secondary = Color(0xFFCBC2DB)
</a><a href="#h22-0-47" id="h22-0-47" class="i">+val md_theme_dark_onSecondary = Color(0xFF332D41)
</a><a href="#h22-0-48" id="h22-0-48" class="i">+val md_theme_dark_secondaryContainer = Color(0xFF4A4458)
</a><a href="#h22-0-49" id="h22-0-49" class="i">+val md_theme_dark_onSecondaryContainer = Color(0xFFE8DEF8)
</a><a href="#h22-0-50" id="h22-0-50" class="i">+val md_theme_dark_tertiary = Color(0xFFB3C5FF)
</a><a href="#h22-0-51" id="h22-0-51" class="i">+val md_theme_dark_onTertiary = Color(0xFF002B75)
</a><a href="#h22-0-52" id="h22-0-52" class="i">+val md_theme_dark_tertiaryContainer = Color(0xFF21428F)
</a><a href="#h22-0-53" id="h22-0-53" class="i">+val md_theme_dark_onTertiaryContainer = Color(0xFFDBE1FF)
</a><a href="#h22-0-54" id="h22-0-54" class="i">+val md_theme_dark_error = Color(0xFFFFB4AB)
</a><a href="#h22-0-55" id="h22-0-55" class="i">+val md_theme_dark_errorContainer = Color(0xFF93000A)
</a><a href="#h22-0-56" id="h22-0-56" class="i">+val md_theme_dark_onError = Color(0xFF690005)
</a><a href="#h22-0-57" id="h22-0-57" class="i">+val md_theme_dark_onErrorContainer = Color(0xFFFFDAD6)
</a><a href="#h22-0-58" id="h22-0-58" class="i">+val md_theme_dark_background = Color(0xFF1C1B1E)
</a><a href="#h22-0-59" id="h22-0-59" class="i">+val md_theme_dark_onBackground = Color(0xFFE6E1E6)
</a><a href="#h22-0-60" id="h22-0-60" class="i">+val md_theme_dark_surface = Color(0xFF1C1B1E)
</a><a href="#h22-0-61" id="h22-0-61" class="i">+val md_theme_dark_onSurface = Color(0xFFE6E1E6)
</a><a href="#h22-0-62" id="h22-0-62" class="i">+val md_theme_dark_surfaceVariant = Color(0xFF49454E)
</a><a href="#h22-0-63" id="h22-0-63" class="i">+val md_theme_dark_onSurfaceVariant = Color(0xFFCAC4CF)
</a><a href="#h22-0-64" id="h22-0-64" class="i">+val md_theme_dark_outline = Color(0xFF948F99)
</a><a href="#h22-0-65" id="h22-0-65" class="i">+val md_theme_dark_inverseOnSurface = Color(0xFF1C1B1E)
</a><a href="#h22-0-66" id="h22-0-66" class="i">+val md_theme_dark_inverseSurface = Color(0xFFE6E1E6)
</a><a href="#h22-0-67" id="h22-0-67" class="i">+val md_theme_dark_inversePrimary = Color(0xFF6750A4)
</a><a href="#h22-0-68" id="h22-0-68" class="i">+val md_theme_dark_surfaceTint = Color(0xFFCFBCFF)
</a><a href="#h22-0-69" id="h22-0-69" class="i">+val md_theme_dark_outlineVariant = Color(0xFF49454E)
</a><a href="#h22-0-70" id="h22-0-70" class="i">+val md_theme_dark_scrim = Color(0xFF000000)
</a><a href="#h22-0-71" id="h22-0-71" class="i">+
</a><a href="#h22-0-72" id="h22-0-72" class="i">+
</a><a href="#h22-0-73" id="h22-0-73" class="i">+val seed = Color(0xFF6750A4)
</a><a href="#h22-0-74" id="h22-0-74" class="i">+
</a><a href="#h22-0-75" id="h22-0-75" class="i">+
</a><a href="#h22-0-76" id="h22-0-76" class="i">+private val LightThemeColors = lightColorScheme(
</a><a href="#h22-0-77" id="h22-0-77" class="i">+    primary = md_theme_light_primary,
</a><a href="#h22-0-78" id="h22-0-78" class="i">+    onPrimary = md_theme_light_onPrimary,
</a><a href="#h22-0-79" id="h22-0-79" class="i">+    primaryContainer = md_theme_light_primaryContainer,
</a><a href="#h22-0-80" id="h22-0-80" class="i">+    onPrimaryContainer = md_theme_light_onPrimaryContainer,
</a><a href="#h22-0-81" id="h22-0-81" class="i">+    secondary = md_theme_light_secondary,
</a><a href="#h22-0-82" id="h22-0-82" class="i">+    onSecondary = md_theme_light_onSecondary,
</a><a href="#h22-0-83" id="h22-0-83" class="i">+    secondaryContainer = md_theme_light_secondaryContainer,
</a><a href="#h22-0-84" id="h22-0-84" class="i">+    onSecondaryContainer = md_theme_light_onSecondaryContainer,
</a><a href="#h22-0-85" id="h22-0-85" class="i">+    tertiary = md_theme_light_tertiary,
</a><a href="#h22-0-86" id="h22-0-86" class="i">+    onTertiary = md_theme_light_onTertiary,
</a><a href="#h22-0-87" id="h22-0-87" class="i">+    tertiaryContainer = md_theme_light_tertiaryContainer,
</a><a href="#h22-0-88" id="h22-0-88" class="i">+    onTertiaryContainer = md_theme_light_onTertiaryContainer,
</a><a href="#h22-0-89" id="h22-0-89" class="i">+    error = md_theme_light_error,
</a><a href="#h22-0-90" id="h22-0-90" class="i">+    onError = md_theme_light_onError,
</a><a href="#h22-0-91" id="h22-0-91" class="i">+    errorContainer = md_theme_light_errorContainer,
</a><a href="#h22-0-92" id="h22-0-92" class="i">+    onErrorContainer = md_theme_light_onErrorContainer,
</a><a href="#h22-0-93" id="h22-0-93" class="i">+    background = md_theme_light_background,
</a><a href="#h22-0-94" id="h22-0-94" class="i">+    onBackground = md_theme_light_onBackground,
</a><a href="#h22-0-95" id="h22-0-95" class="i">+    surface = md_theme_light_surface,
</a><a href="#h22-0-96" id="h22-0-96" class="i">+    onSurface = md_theme_light_onSurface,
</a><a href="#h22-0-97" id="h22-0-97" class="i">+    surfaceVariant = md_theme_light_surfaceVariant,
</a><a href="#h22-0-98" id="h22-0-98" class="i">+    onSurfaceVariant = md_theme_light_onSurfaceVariant,
</a><a href="#h22-0-99" id="h22-0-99" class="i">+    outline = md_theme_light_outline,
</a><a href="#h22-0-100" id="h22-0-100" class="i">+    inverseOnSurface = md_theme_light_inverseOnSurface,
</a><a href="#h22-0-101" id="h22-0-101" class="i">+    inverseSurface = md_theme_light_inverseSurface,
</a><a href="#h22-0-102" id="h22-0-102" class="i">+    inversePrimary = md_theme_light_inversePrimary,
</a><a href="#h22-0-103" id="h22-0-103" class="i">+    surfaceTint = md_theme_light_surfaceTint,
</a><a href="#h22-0-104" id="h22-0-104" class="i">+    outlineVariant = md_theme_light_outlineVariant,
</a><a href="#h22-0-105" id="h22-0-105" class="i">+    scrim = md_theme_light_scrim
</a><a href="#h22-0-106" id="h22-0-106" class="i">+)
</a><a href="#h22-0-107" id="h22-0-107" class="i">+
</a><a href="#h22-0-108" id="h22-0-108" class="i">+private val DarkThemeColors = lightColorScheme(
</a><a href="#h22-0-109" id="h22-0-109" class="i">+    primary = md_theme_dark_primary,
</a><a href="#h22-0-110" id="h22-0-110" class="i">+    onPrimary = md_theme_dark_onPrimary,
</a><a href="#h22-0-111" id="h22-0-111" class="i">+    primaryContainer = md_theme_dark_primaryContainer,
</a><a href="#h22-0-112" id="h22-0-112" class="i">+    onPrimaryContainer = md_theme_dark_onPrimaryContainer,
</a><a href="#h22-0-113" id="h22-0-113" class="i">+    secondary = md_theme_dark_secondary,
</a><a href="#h22-0-114" id="h22-0-114" class="i">+    onSecondary = md_theme_dark_onSecondary,
</a><a href="#h22-0-115" id="h22-0-115" class="i">+    secondaryContainer = md_theme_dark_secondaryContainer,
</a><a href="#h22-0-116" id="h22-0-116" class="i">+    onSecondaryContainer = md_theme_dark_onSecondaryContainer,
</a><a href="#h22-0-117" id="h22-0-117" class="i">+    tertiary = md_theme_dark_tertiary,
</a><a href="#h22-0-118" id="h22-0-118" class="i">+    onTertiary = md_theme_dark_onTertiary,
</a><a href="#h22-0-119" id="h22-0-119" class="i">+    tertiaryContainer = md_theme_dark_tertiaryContainer,
</a><a href="#h22-0-120" id="h22-0-120" class="i">+    onTertiaryContainer = md_theme_dark_onTertiaryContainer,
</a><a href="#h22-0-121" id="h22-0-121" class="i">+    error = md_theme_dark_error,
</a><a href="#h22-0-122" id="h22-0-122" class="i">+    onError = md_theme_dark_onError,
</a><a href="#h22-0-123" id="h22-0-123" class="i">+    errorContainer = md_theme_dark_errorContainer,
</a><a href="#h22-0-124" id="h22-0-124" class="i">+    onErrorContainer = md_theme_dark_onErrorContainer,
</a><a href="#h22-0-125" id="h22-0-125" class="i">+    background = md_theme_dark_background,
</a><a href="#h22-0-126" id="h22-0-126" class="i">+    onBackground = md_theme_dark_onBackground,
</a><a href="#h22-0-127" id="h22-0-127" class="i">+    surface = md_theme_dark_surface,
</a><a href="#h22-0-128" id="h22-0-128" class="i">+    onSurface = md_theme_dark_onSurface,
</a><a href="#h22-0-129" id="h22-0-129" class="i">+    surfaceVariant = md_theme_dark_surfaceVariant,
</a><a href="#h22-0-130" id="h22-0-130" class="i">+    onSurfaceVariant = md_theme_dark_onSurfaceVariant,
</a><a href="#h22-0-131" id="h22-0-131" class="i">+    outline = md_theme_dark_outline,
</a><a href="#h22-0-132" id="h22-0-132" class="i">+    inverseOnSurface = md_theme_dark_inverseOnSurface,
</a><a href="#h22-0-133" id="h22-0-133" class="i">+    inverseSurface = md_theme_dark_inverseSurface,
</a><a href="#h22-0-134" id="h22-0-134" class="i">+    inversePrimary = md_theme_dark_inversePrimary,
</a><a href="#h22-0-135" id="h22-0-135" class="i">+    surfaceTint = md_theme_dark_surfaceTint,
</a><a href="#h22-0-136" id="h22-0-136" class="i">+    outlineVariant = md_theme_dark_outlineVariant,
</a><a href="#h22-0-137" id="h22-0-137" class="i">+    scrim = md_theme_dark_scrim
</a><a href="#h22-0-138" id="h22-0-138" class="i">+)
</a><a href="#h22-0-139" id="h22-0-139" class="i">+
</a><a href="#h22-0-140" id="h22-0-140" class="i">+@Composable
</a><a href="#h22-0-141" id="h22-0-141" class="i">+fun AppMaterialTheme(
</a><a href="#h22-0-142" id="h22-0-142" class="i">+    isDarkTheme: Boolean = isSystemInDarkTheme(),
</a><a href="#h22-0-143" id="h22-0-143" class="i">+    content: @Composable () -&gt; Unit
</a><a href="#h22-0-144" id="h22-0-144" class="i">+) {
</a><a href="#h22-0-145" id="h22-0-145" class="i">+    val dynamicColor = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S
</a><a href="#h22-0-146" id="h22-0-146" class="i">+    val colorScheme = when {
</a><a href="#h22-0-147" id="h22-0-147" class="i">+        dynamicColor &amp;&amp; isDarkTheme -&gt; {
</a><a href="#h22-0-148" id="h22-0-148" class="i">+            dynamicDarkColorScheme(LocalContext.current)
</a><a href="#h22-0-149" id="h22-0-149" class="i">+        }
</a><a href="#h22-0-150" id="h22-0-150" class="i">+        dynamicColor &amp;&amp; !isDarkTheme -&gt; {
</a><a href="#h22-0-151" id="h22-0-151" class="i">+            dynamicLightColorScheme(LocalContext.current)
</a><a href="#h22-0-152" id="h22-0-152" class="i">+        }
</a><a href="#h22-0-153" id="h22-0-153" class="i">+        !isDarkTheme -&gt; LightThemeColors
</a><a href="#h22-0-154" id="h22-0-154" class="i">+        else -&gt; DarkThemeColors
</a><a href="#h22-0-155" id="h22-0-155" class="i">+    }
</a><a href="#h22-0-156" id="h22-0-156" class="i">+
</a><a href="#h22-0-157" id="h22-0-157" class="i">+    MaterialTheme(
</a><a href="#h22-0-158" id="h22-0-158" class="i">+        colorScheme = colorScheme,
</a><a href="#h22-0-159" id="h22-0-159" class="i">+        content = content
</a><a href="#h22-0-160" id="h22-0-160" class="i">+    )
</a><a href="#h22-0-161" id="h22-0-161" class="i">+}</a><a href="#h22-0-162" id="h22-0-162" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h23" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/MainActivity.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/MainActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/MainActivity.kt</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -0,0 +1,45 @@
</a><a href="#h23-0-0" id="h23-0-0" class="i">+package me.rhunk.snapenhance.ui.manager
</a><a href="#h23-0-1" id="h23-0-1" class="i">+
</a><a href="#h23-0-2" id="h23-0-2" class="i">+import android.annotation.SuppressLint
</a><a href="#h23-0-3" id="h23-0-3" class="i">+import android.os.Bundle
</a><a href="#h23-0-4" id="h23-0-4" class="i">+import androidx.activity.ComponentActivity
</a><a href="#h23-0-5" id="h23-0-5" class="i">+import androidx.activity.compose.setContent
</a><a href="#h23-0-6" id="h23-0-6" class="i">+import androidx.compose.material3.MaterialTheme
</a><a href="#h23-0-7" id="h23-0-7" class="i">+import androidx.compose.material3.Scaffold
</a><a href="#h23-0-8" id="h23-0-8" class="i">+import androidx.navigation.compose.rememberNavController
</a><a href="#h23-0-9" id="h23-0-9" class="i">+import me.rhunk.snapenhance.ui.AppMaterialTheme
</a><a href="#h23-0-10" id="h23-0-10" class="i">+import me.rhunk.snapenhance.ui.manager.util.SaveFolderChecker
</a><a href="#h23-0-11" id="h23-0-11" class="i">+import me.rhunk.snapenhance.util.ActivityResultCallback
</a><a href="#h23-0-12" id="h23-0-12" class="i">+
</a><a href="#h23-0-13" id="h23-0-13" class="i">+class MainActivity : ComponentActivity() {
</a><a href="#h23-0-14" id="h23-0-14" class="i">+    private val activityResultCallbacks = mutableMapOf&lt;Int, ActivityResultCallback&gt;()
</a><a href="#h23-0-15" id="h23-0-15" class="i">+
</a><a href="#h23-0-16" id="h23-0-16" class="i">+    @SuppressLint(&quot;UnusedMaterialScaffoldPaddingParameter&quot;)
</a><a href="#h23-0-17" id="h23-0-17" class="i">+    override fun onCreate(savedInstanceState: Bundle?) {
</a><a href="#h23-0-18" id="h23-0-18" class="i">+        super.onCreate(savedInstanceState)
</a><a href="#h23-0-19" id="h23-0-19" class="i">+
</a><a href="#h23-0-20" id="h23-0-20" class="i">+        val startDestination = intent.getStringExtra(&quot;route&quot;)?.let { EnumSection.fromRoute(it) } ?: EnumSection.HOME
</a><a href="#h23-0-21" id="h23-0-21" class="i">+        val managerContext = ManagerContext(this)
</a><a href="#h23-0-22" id="h23-0-22" class="i">+
</a><a href="#h23-0-23" id="h23-0-23" class="i">+        //FIXME: temporary save folder
</a><a href="#h23-0-24" id="h23-0-24" class="i">+        SaveFolderChecker.askForFolder(
</a><a href="#h23-0-25" id="h23-0-25" class="i">+            this,
</a><a href="#h23-0-26" id="h23-0-26" class="i">+            managerContext.config.root.downloader.saveFolder)
</a><a href="#h23-0-27" id="h23-0-27" class="i">+        {
</a><a href="#h23-0-28" id="h23-0-28" class="i">+            managerContext.config.writeConfig()
</a><a href="#h23-0-29" id="h23-0-29" class="i">+        }
</a><a href="#h23-0-30" id="h23-0-30" class="i">+
</a><a href="#h23-0-31" id="h23-0-31" class="i">+        setContent {
</a><a href="#h23-0-32" id="h23-0-32" class="i">+            val navController = rememberNavController()
</a><a href="#h23-0-33" id="h23-0-33" class="i">+            val navigation = Navigation(managerContext)
</a><a href="#h23-0-34" id="h23-0-34" class="i">+            AppMaterialTheme {
</a><a href="#h23-0-35" id="h23-0-35" class="i">+                Scaffold(
</a><a href="#h23-0-36" id="h23-0-36" class="i">+                    containerColor = MaterialTheme.colorScheme.background,
</a><a href="#h23-0-37" id="h23-0-37" class="i">+                    bottomBar = { navigation.NavBar(navController = navController) }
</a><a href="#h23-0-38" id="h23-0-38" class="i">+                ) { innerPadding -&gt;
</a><a href="#h23-0-39" id="h23-0-39" class="i">+                    navigation.NavigationHost(navController = navController, innerPadding = innerPadding, startDestination = startDestination)
</a><a href="#h23-0-40" id="h23-0-40" class="i">+                }
</a><a href="#h23-0-41" id="h23-0-41" class="i">+            }
</a><a href="#h23-0-42" id="h23-0-42" class="i">+        }
</a><a href="#h23-0-43" id="h23-0-43" class="i">+    }
</a><a href="#h23-0-44" id="h23-0-44" class="i">+}
</a><b>diff --git a/<a id="h24" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/ManagerContext.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/ManagerContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/ManagerContext.kt</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -0,0 +1,38 @@
</a><a href="#h24-0-0" id="h24-0-0" class="i">+package me.rhunk.snapenhance.ui.manager
</a><a href="#h24-0-1" id="h24-0-1" class="i">+
</a><a href="#h24-0-2" id="h24-0-2" class="i">+import android.content.Context
</a><a href="#h24-0-3" id="h24-0-3" class="i">+import me.rhunk.snapenhance.bridge.wrapper.MappingsWrapper
</a><a href="#h24-0-4" id="h24-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a><a href="#h24-0-5" id="h24-0-5" class="i">+import me.rhunk.snapenhance.core.config.ModConfig
</a><a href="#h24-0-6" id="h24-0-6" class="i">+import me.rhunk.snapenhance.ui.manager.data.InstallationSummary
</a><a href="#h24-0-7" id="h24-0-7" class="i">+import me.rhunk.snapenhance.ui.manager.data.ModMappingsInfo
</a><a href="#h24-0-8" id="h24-0-8" class="i">+import me.rhunk.snapenhance.ui.manager.data.SnapchatAppInfo
</a><a href="#h24-0-9" id="h24-0-9" class="i">+
</a><a href="#h24-0-10" id="h24-0-10" class="i">+class ManagerContext(
</a><a href="#h24-0-11" id="h24-0-11" class="i">+    private val context: Context
</a><a href="#h24-0-12" id="h24-0-12" class="i">+) {
</a><a href="#h24-0-13" id="h24-0-13" class="i">+    val config = ModConfig()
</a><a href="#h24-0-14" id="h24-0-14" class="i">+    val translation = LocaleWrapper()
</a><a href="#h24-0-15" id="h24-0-15" class="i">+    val mappings = MappingsWrapper(context)
</a><a href="#h24-0-16" id="h24-0-16" class="i">+
</a><a href="#h24-0-17" id="h24-0-17" class="i">+    init {
</a><a href="#h24-0-18" id="h24-0-18" class="i">+        config.loadFromContext(context)
</a><a href="#h24-0-19" id="h24-0-19" class="i">+        translation.loadFromContext(context)
</a><a href="#h24-0-20" id="h24-0-20" class="i">+        mappings.apply { loadFromContext(context) }.init()
</a><a href="#h24-0-21" id="h24-0-21" class="i">+    }
</a><a href="#h24-0-22" id="h24-0-22" class="i">+
</a><a href="#h24-0-23" id="h24-0-23" class="i">+    fun getInstallationSummary() = InstallationSummary(
</a><a href="#h24-0-24" id="h24-0-24" class="i">+        snapchatInfo = mappings.getSnapchatPackageInfo()?.let {
</a><a href="#h24-0-25" id="h24-0-25" class="i">+            SnapchatAppInfo(
</a><a href="#h24-0-26" id="h24-0-26" class="i">+                version = it.versionName,
</a><a href="#h24-0-27" id="h24-0-27" class="i">+                versionCode = it.longVersionCode
</a><a href="#h24-0-28" id="h24-0-28" class="i">+            )
</a><a href="#h24-0-29" id="h24-0-29" class="i">+        },
</a><a href="#h24-0-30" id="h24-0-30" class="i">+        mappingsInfo = if (mappings.isMappingsLoaded()) {
</a><a href="#h24-0-31" id="h24-0-31" class="i">+            ModMappingsInfo(
</a><a href="#h24-0-32" id="h24-0-32" class="i">+                generatedSnapchatVersion = mappings.getGeneratedBuildNumber(),
</a><a href="#h24-0-33" id="h24-0-33" class="i">+                isOutdated = mappings.isMappingsOutdated()
</a><a href="#h24-0-34" id="h24-0-34" class="i">+            )
</a><a href="#h24-0-35" id="h24-0-35" class="i">+        } else null
</a><a href="#h24-0-36" id="h24-0-36" class="i">+    )
</a><a href="#h24-0-37" id="h24-0-37" class="i">+}</a><a href="#h24-0-38" id="h24-0-38" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h25" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Navigation.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Navigation.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Navigation.kt</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -0,0 +1,97 @@
</a><a href="#h25-0-0" id="h25-0-0" class="i">+package me.rhunk.snapenhance.ui.manager
</a><a href="#h25-0-1" id="h25-0-1" class="i">+
</a><a href="#h25-0-2" id="h25-0-2" class="i">+import androidx.compose.animation.core.animateDpAsState
</a><a href="#h25-0-3" id="h25-0-3" class="i">+import androidx.compose.foundation.layout.PaddingValues
</a><a href="#h25-0-4" id="h25-0-4" class="i">+import androidx.compose.foundation.layout.fillMaxHeight
</a><a href="#h25-0-5" id="h25-0-5" class="i">+import androidx.compose.foundation.layout.offset
</a><a href="#h25-0-6" id="h25-0-6" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h25-0-7" id="h25-0-7" class="i">+import androidx.compose.foundation.layout.requiredWidth
</a><a href="#h25-0-8" id="h25-0-8" class="i">+import androidx.compose.material3.Icon
</a><a href="#h25-0-9" id="h25-0-9" class="i">+import androidx.compose.material3.NavigationBar
</a><a href="#h25-0-10" id="h25-0-10" class="i">+import androidx.compose.material3.NavigationBarItem
</a><a href="#h25-0-11" id="h25-0-11" class="i">+import androidx.compose.material3.Text
</a><a href="#h25-0-12" id="h25-0-12" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h25-0-13" id="h25-0-13" class="i">+import androidx.compose.runtime.getValue
</a><a href="#h25-0-14" id="h25-0-14" class="i">+import androidx.compose.runtime.remember
</a><a href="#h25-0-15" id="h25-0-15" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h25-0-16" id="h25-0-16" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h25-0-17" id="h25-0-17" class="i">+import androidx.navigation.NavController
</a><a href="#h25-0-18" id="h25-0-18" class="i">+import androidx.navigation.NavDestination.Companion.hierarchy
</a><a href="#h25-0-19" id="h25-0-19" class="i">+import androidx.navigation.NavGraph.Companion.findStartDestination
</a><a href="#h25-0-20" id="h25-0-20" class="i">+import androidx.navigation.NavHostController
</a><a href="#h25-0-21" id="h25-0-21" class="i">+import androidx.navigation.compose.NavHost
</a><a href="#h25-0-22" id="h25-0-22" class="i">+import androidx.navigation.compose.currentBackStackEntryAsState
</a><a href="#h25-0-23" id="h25-0-23" class="i">+
</a><a href="#h25-0-24" id="h25-0-24" class="i">+
</a><a href="#h25-0-25" id="h25-0-25" class="i">+class Navigation(
</a><a href="#h25-0-26" id="h25-0-26" class="i">+    private val context: ManagerContext
</a><a href="#h25-0-27" id="h25-0-27" class="i">+) {
</a><a href="#h25-0-28" id="h25-0-28" class="i">+    @Composable
</a><a href="#h25-0-29" id="h25-0-29" class="i">+    fun NavigationHost(
</a><a href="#h25-0-30" id="h25-0-30" class="i">+        startDestination: EnumSection,
</a><a href="#h25-0-31" id="h25-0-31" class="i">+        navController: NavHostController,
</a><a href="#h25-0-32" id="h25-0-32" class="i">+        innerPadding: PaddingValues
</a><a href="#h25-0-33" id="h25-0-33" class="i">+    ) {
</a><a href="#h25-0-34" id="h25-0-34" class="i">+        val sections = remember { EnumSection.values().toList().map {
</a><a href="#h25-0-35" id="h25-0-35" class="i">+            it to it.section.constructors.first().call()
</a><a href="#h25-0-36" id="h25-0-36" class="i">+        }.onEach { (section, instance) -&gt;
</a><a href="#h25-0-37" id="h25-0-37" class="i">+            instance.enumSection = section
</a><a href="#h25-0-38" id="h25-0-38" class="i">+            instance.manager = context
</a><a href="#h25-0-39" id="h25-0-39" class="i">+            instance.navController = navController
</a><a href="#h25-0-40" id="h25-0-40" class="i">+        } }
</a><a href="#h25-0-41" id="h25-0-41" class="i">+
</a><a href="#h25-0-42" id="h25-0-42" class="i">+        NavHost(navController, startDestination = startDestination.route, Modifier.padding(innerPadding)) {
</a><a href="#h25-0-43" id="h25-0-43" class="i">+            sections.forEach { (_, instance) -&gt;
</a><a href="#h25-0-44" id="h25-0-44" class="i">+                instance.build(this)
</a><a href="#h25-0-45" id="h25-0-45" class="i">+            }
</a><a href="#h25-0-46" id="h25-0-46" class="i">+        }
</a><a href="#h25-0-47" id="h25-0-47" class="i">+    }
</a><a href="#h25-0-48" id="h25-0-48" class="i">+
</a><a href="#h25-0-49" id="h25-0-49" class="i">+    @Composable
</a><a href="#h25-0-50" id="h25-0-50" class="i">+    fun NavBar(
</a><a href="#h25-0-51" id="h25-0-51" class="i">+        navController: NavController
</a><a href="#h25-0-52" id="h25-0-52" class="i">+    ) {
</a><a href="#h25-0-53" id="h25-0-53" class="i">+        NavigationBar {
</a><a href="#h25-0-54" id="h25-0-54" class="i">+            val navBackStackEntry by navController.currentBackStackEntryAsState()
</a><a href="#h25-0-55" id="h25-0-55" class="i">+            val currentDestination = navBackStackEntry?.destination
</a><a href="#h25-0-56" id="h25-0-56" class="i">+            EnumSection.values().toList().forEach { section -&gt;
</a><a href="#h25-0-57" id="h25-0-57" class="i">+                fun selected() = currentDestination?.hierarchy?.any { it.route == section.route } == true
</a><a href="#h25-0-58" id="h25-0-58" class="i">+
</a><a href="#h25-0-59" id="h25-0-59" class="i">+                NavigationBarItem(
</a><a href="#h25-0-60" id="h25-0-60" class="i">+                    modifier = Modifier
</a><a href="#h25-0-61" id="h25-0-61" class="i">+                        .requiredWidth(75.dp)
</a><a href="#h25-0-62" id="h25-0-62" class="i">+                        .fillMaxHeight(),
</a><a href="#h25-0-63" id="h25-0-63" class="i">+                    icon = {
</a><a href="#h25-0-64" id="h25-0-64" class="i">+                        val iconOffset by animateDpAsState(
</a><a href="#h25-0-65" id="h25-0-65" class="i">+                            if (selected()) 0.dp else 10.dp,
</a><a href="#h25-0-66" id="h25-0-66" class="i">+                            label = &quot;&quot;
</a><a href="#h25-0-67" id="h25-0-67" class="i">+                        )
</a><a href="#h25-0-68" id="h25-0-68" class="i">+                        Icon(
</a><a href="#h25-0-69" id="h25-0-69" class="i">+                            imageVector = section.icon,
</a><a href="#h25-0-70" id="h25-0-70" class="i">+                            contentDescription = null,
</a><a href="#h25-0-71" id="h25-0-71" class="i">+                            modifier = Modifier.offset(y = iconOffset)
</a><a href="#h25-0-72" id="h25-0-72" class="i">+                        )
</a><a href="#h25-0-73" id="h25-0-73" class="i">+                    },
</a><a href="#h25-0-74" id="h25-0-74" class="i">+
</a><a href="#h25-0-75" id="h25-0-75" class="i">+                    label = {
</a><a href="#h25-0-76" id="h25-0-76" class="i">+                        val labelOffset by animateDpAsState(
</a><a href="#h25-0-77" id="h25-0-77" class="i">+                            if (selected()) 0.dp else (-5).dp,
</a><a href="#h25-0-78" id="h25-0-78" class="i">+                            label = &quot;&quot;
</a><a href="#h25-0-79" id="h25-0-79" class="i">+                        )
</a><a href="#h25-0-80" id="h25-0-80" class="i">+                        Text(text = if (selected()) section.title else &quot;&quot;, modifier = Modifier.offset(y = labelOffset))
</a><a href="#h25-0-81" id="h25-0-81" class="i">+                    },
</a><a href="#h25-0-82" id="h25-0-82" class="i">+                    selected = selected(),
</a><a href="#h25-0-83" id="h25-0-83" class="i">+                    onClick = {
</a><a href="#h25-0-84" id="h25-0-84" class="i">+                        navController.navigate(section.route) {
</a><a href="#h25-0-85" id="h25-0-85" class="i">+                            popUpTo(navController.graph.findStartDestination().id) {
</a><a href="#h25-0-86" id="h25-0-86" class="i">+                                saveState = true
</a><a href="#h25-0-87" id="h25-0-87" class="i">+                            }
</a><a href="#h25-0-88" id="h25-0-88" class="i">+                            launchSingleTop = true
</a><a href="#h25-0-89" id="h25-0-89" class="i">+                            restoreState = true
</a><a href="#h25-0-90" id="h25-0-90" class="i">+                        }
</a><a href="#h25-0-91" id="h25-0-91" class="i">+                    }
</a><a href="#h25-0-92" id="h25-0-92" class="i">+                )
</a><a href="#h25-0-93" id="h25-0-93" class="i">+            }
</a><a href="#h25-0-94" id="h25-0-94" class="i">+        }
</a><a href="#h25-0-95" id="h25-0-95" class="i">+    }
</a><a href="#h25-0-96" id="h25-0-96" class="i">+}
</a><b>diff --git a/<a id="h26" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Section.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Section.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/Section.kt</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -0,0 +1,75 @@
</a><a href="#h26-0-0" id="h26-0-0" class="i">+package me.rhunk.snapenhance.ui.manager
</a><a href="#h26-0-1" id="h26-0-1" class="i">+
</a><a href="#h26-0-2" id="h26-0-2" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h26-0-3" id="h26-0-3" class="i">+import androidx.compose.material.icons.filled.BugReport
</a><a href="#h26-0-4" id="h26-0-4" class="i">+import androidx.compose.material.icons.filled.Download
</a><a href="#h26-0-5" id="h26-0-5" class="i">+import androidx.compose.material.icons.filled.Group
</a><a href="#h26-0-6" id="h26-0-6" class="i">+import androidx.compose.material.icons.filled.Home
</a><a href="#h26-0-7" id="h26-0-7" class="i">+import androidx.compose.material.icons.filled.Stars
</a><a href="#h26-0-8" id="h26-0-8" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h26-0-9" id="h26-0-9" class="i">+import androidx.compose.ui.graphics.vector.ImageVector
</a><a href="#h26-0-10" id="h26-0-10" class="i">+import androidx.navigation.NavController
</a><a href="#h26-0-11" id="h26-0-11" class="i">+import androidx.navigation.NavGraphBuilder
</a><a href="#h26-0-12" id="h26-0-12" class="i">+import androidx.navigation.compose.composable
</a><a href="#h26-0-13" id="h26-0-13" class="i">+import me.rhunk.snapenhance.ui.manager.sections.HomeSection
</a><a href="#h26-0-14" id="h26-0-14" class="i">+import me.rhunk.snapenhance.ui.manager.sections.NotImplemented
</a><a href="#h26-0-15" id="h26-0-15" class="i">+import me.rhunk.snapenhance.ui.manager.sections.features.FeaturesSection
</a><a href="#h26-0-16" id="h26-0-16" class="i">+import kotlin.reflect.KClass
</a><a href="#h26-0-17" id="h26-0-17" class="i">+
</a><a href="#h26-0-18" id="h26-0-18" class="i">+enum class EnumSection(
</a><a href="#h26-0-19" id="h26-0-19" class="i">+    val route: String,
</a><a href="#h26-0-20" id="h26-0-20" class="i">+    val title: String,
</a><a href="#h26-0-21" id="h26-0-21" class="i">+    val icon: ImageVector,
</a><a href="#h26-0-22" id="h26-0-22" class="i">+    val section: KClass&lt;out Section&gt; = NotImplemented::class
</a><a href="#h26-0-23" id="h26-0-23" class="i">+) {
</a><a href="#h26-0-24" id="h26-0-24" class="i">+    DOWNLOADS(
</a><a href="#h26-0-25" id="h26-0-25" class="i">+        route = &quot;downloads&quot;,
</a><a href="#h26-0-26" id="h26-0-26" class="i">+        title = &quot;Downloads&quot;,
</a><a href="#h26-0-27" id="h26-0-27" class="i">+        icon = Icons.Filled.Download
</a><a href="#h26-0-28" id="h26-0-28" class="i">+    ),
</a><a href="#h26-0-29" id="h26-0-29" class="i">+    FEATURES(
</a><a href="#h26-0-30" id="h26-0-30" class="i">+        route = &quot;features&quot;,
</a><a href="#h26-0-31" id="h26-0-31" class="i">+        title = &quot;Features&quot;,
</a><a href="#h26-0-32" id="h26-0-32" class="i">+        icon = Icons.Filled.Stars,
</a><a href="#h26-0-33" id="h26-0-33" class="i">+        section = FeaturesSection::class
</a><a href="#h26-0-34" id="h26-0-34" class="i">+    ),
</a><a href="#h26-0-35" id="h26-0-35" class="i">+    HOME(
</a><a href="#h26-0-36" id="h26-0-36" class="i">+        route = &quot;home&quot;,
</a><a href="#h26-0-37" id="h26-0-37" class="i">+        title = &quot;Home&quot;,
</a><a href="#h26-0-38" id="h26-0-38" class="i">+        icon = Icons.Filled.Home,
</a><a href="#h26-0-39" id="h26-0-39" class="i">+        section = HomeSection::class
</a><a href="#h26-0-40" id="h26-0-40" class="i">+    ),
</a><a href="#h26-0-41" id="h26-0-41" class="i">+    FRIENDS(
</a><a href="#h26-0-42" id="h26-0-42" class="i">+        route = &quot;friends&quot;,
</a><a href="#h26-0-43" id="h26-0-43" class="i">+        title = &quot;Friends&quot;,
</a><a href="#h26-0-44" id="h26-0-44" class="i">+        icon = Icons.Filled.Group
</a><a href="#h26-0-45" id="h26-0-45" class="i">+    ),
</a><a href="#h26-0-46" id="h26-0-46" class="i">+    DEBUG(
</a><a href="#h26-0-47" id="h26-0-47" class="i">+        route = &quot;debug&quot;,
</a><a href="#h26-0-48" id="h26-0-48" class="i">+        title = &quot;Debug&quot;,
</a><a href="#h26-0-49" id="h26-0-49" class="i">+        icon = Icons.Filled.BugReport
</a><a href="#h26-0-50" id="h26-0-50" class="i">+    );
</a><a href="#h26-0-51" id="h26-0-51" class="i">+
</a><a href="#h26-0-52" id="h26-0-52" class="i">+    companion object {
</a><a href="#h26-0-53" id="h26-0-53" class="i">+        fun fromRoute(route: String): EnumSection {
</a><a href="#h26-0-54" id="h26-0-54" class="i">+            return values().first { it.route == route }
</a><a href="#h26-0-55" id="h26-0-55" class="i">+        }
</a><a href="#h26-0-56" id="h26-0-56" class="i">+    }
</a><a href="#h26-0-57" id="h26-0-57" class="i">+}
</a><a href="#h26-0-58" id="h26-0-58" class="i">+
</a><a href="#h26-0-59" id="h26-0-59" class="i">+
</a><a href="#h26-0-60" id="h26-0-60" class="i">+
</a><a href="#h26-0-61" id="h26-0-61" class="i">+open class Section {
</a><a href="#h26-0-62" id="h26-0-62" class="i">+    lateinit var enumSection: EnumSection
</a><a href="#h26-0-63" id="h26-0-63" class="i">+    lateinit var manager: ManagerContext
</a><a href="#h26-0-64" id="h26-0-64" class="i">+    lateinit var navController: NavController
</a><a href="#h26-0-65" id="h26-0-65" class="i">+
</a><a href="#h26-0-66" id="h26-0-66" class="i">+    @Composable
</a><a href="#h26-0-67" id="h26-0-67" class="i">+    open fun Content() { NotImplemented() }
</a><a href="#h26-0-68" id="h26-0-68" class="i">+
</a><a href="#h26-0-69" id="h26-0-69" class="i">+    open fun build(navGraphBuilder: NavGraphBuilder) {
</a><a href="#h26-0-70" id="h26-0-70" class="i">+        navGraphBuilder.composable(enumSection.route) {
</a><a href="#h26-0-71" id="h26-0-71" class="i">+            Content()
</a><a href="#h26-0-72" id="h26-0-72" class="i">+        }
</a><a href="#h26-0-73" id="h26-0-73" class="i">+    }
</a><a href="#h26-0-74" id="h26-0-74" class="i">+}</a><a href="#h26-0-75" id="h26-0-75" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h27" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/data/InstallationSummary.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/data/InstallationSummary.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/data/InstallationSummary.kt</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -0,0 +1,17 @@
</a><a href="#h27-0-0" id="h27-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.data
</a><a href="#h27-0-1" id="h27-0-1" class="i">+
</a><a href="#h27-0-2" id="h27-0-2" class="i">+
</a><a href="#h27-0-3" id="h27-0-3" class="i">+data class SnapchatAppInfo(
</a><a href="#h27-0-4" id="h27-0-4" class="i">+    val version: String,
</a><a href="#h27-0-5" id="h27-0-5" class="i">+    val versionCode: Long
</a><a href="#h27-0-6" id="h27-0-6" class="i">+)
</a><a href="#h27-0-7" id="h27-0-7" class="i">+
</a><a href="#h27-0-8" id="h27-0-8" class="i">+data class ModMappingsInfo(
</a><a href="#h27-0-9" id="h27-0-9" class="i">+    val generatedSnapchatVersion: Long,
</a><a href="#h27-0-10" id="h27-0-10" class="i">+    val isOutdated: Boolean
</a><a href="#h27-0-11" id="h27-0-11" class="i">+)
</a><a href="#h27-0-12" id="h27-0-12" class="i">+
</a><a href="#h27-0-13" id="h27-0-13" class="i">+data class InstallationSummary(
</a><a href="#h27-0-14" id="h27-0-14" class="i">+    val snapchatInfo: SnapchatAppInfo?,
</a><a href="#h27-0-15" id="h27-0-15" class="i">+    val mappingsInfo: ModMappingsInfo?
</a><a href="#h27-0-16" id="h27-0-16" class="i">+)
</a><b>diff --git a/<a id="h28" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/DebugSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/DebugSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/DebugSection.kt</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -0,0 +1,4 @@
</a><a href="#h28-0-0" id="h28-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections
</a><a href="#h28-0-1" id="h28-0-1" class="i">+
</a><a href="#h28-0-2" id="h28-0-2" class="i">+class DebugSection {
</a><a href="#h28-0-3" id="h28-0-3" class="i">+}</a><a href="#h28-0-4" id="h28-0-4" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h29" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/HomeSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/HomeSection.kt</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -0,0 +1,108 @@
</a><a href="#h29-0-0" id="h29-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections
</a><a href="#h29-0-1" id="h29-0-1" class="i">+
</a><a href="#h29-0-2" id="h29-0-2" class="i">+import androidx.compose.foundation.ScrollState
</a><a href="#h29-0-3" id="h29-0-3" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h29-0-4" id="h29-0-4" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h29-0-5" id="h29-0-5" class="i">+import androidx.compose.foundation.layout.ExperimentalLayoutApi
</a><a href="#h29-0-6" id="h29-0-6" class="i">+import androidx.compose.foundation.layout.FlowRow
</a><a href="#h29-0-7" id="h29-0-7" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h29-0-8" id="h29-0-8" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h29-0-9" id="h29-0-9" class="i">+import androidx.compose.foundation.layout.height
</a><a href="#h29-0-10" id="h29-0-10" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h29-0-11" id="h29-0-11" class="i">+import androidx.compose.foundation.verticalScroll
</a><a href="#h29-0-12" id="h29-0-12" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h29-0-13" id="h29-0-13" class="i">+import androidx.compose.material.icons.filled.Map
</a><a href="#h29-0-14" id="h29-0-14" class="i">+import androidx.compose.material.icons.filled.Refresh
</a><a href="#h29-0-15" id="h29-0-15" class="i">+import androidx.compose.material3.Button
</a><a href="#h29-0-16" id="h29-0-16" class="i">+import androidx.compose.material3.Icon
</a><a href="#h29-0-17" id="h29-0-17" class="i">+import androidx.compose.material3.OutlinedCard
</a><a href="#h29-0-18" id="h29-0-18" class="i">+import androidx.compose.material3.Text
</a><a href="#h29-0-19" id="h29-0-19" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h29-0-20" id="h29-0-20" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h29-0-21" id="h29-0-21" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h29-0-22" id="h29-0-22" class="i">+import androidx.compose.ui.tooling.preview.Preview
</a><a href="#h29-0-23" id="h29-0-23" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h29-0-24" id="h29-0-24" class="i">+import androidx.compose.ui.unit.sp
</a><a href="#h29-0-25" id="h29-0-25" class="i">+import me.rhunk.snapenhance.ui.manager.Section
</a><a href="#h29-0-26" id="h29-0-26" class="i">+import me.rhunk.snapenhance.ui.manager.data.InstallationSummary
</a><a href="#h29-0-27" id="h29-0-27" class="i">+
</a><a href="#h29-0-28" id="h29-0-28" class="i">+class HomeSection : Section() {
</a><a href="#h29-0-29" id="h29-0-29" class="i">+    companion object {
</a><a href="#h29-0-30" id="h29-0-30" class="i">+        val cardMargin = 10.dp
</a><a href="#h29-0-31" id="h29-0-31" class="i">+    }
</a><a href="#h29-0-32" id="h29-0-32" class="i">+
</a><a href="#h29-0-33" id="h29-0-33" class="i">+    @OptIn(ExperimentalLayoutApi::class)
</a><a href="#h29-0-34" id="h29-0-34" class="i">+    @Composable
</a><a href="#h29-0-35" id="h29-0-35" class="i">+    private fun SummaryCards(installationSummary: InstallationSummary) {
</a><a href="#h29-0-36" id="h29-0-36" class="i">+        //installation summary
</a><a href="#h29-0-37" id="h29-0-37" class="i">+        OutlinedCard(
</a><a href="#h29-0-38" id="h29-0-38" class="i">+            modifier = Modifier
</a><a href="#h29-0-39" id="h29-0-39" class="i">+                .padding(all = cardMargin)
</a><a href="#h29-0-40" id="h29-0-40" class="i">+                .fillMaxWidth()
</a><a href="#h29-0-41" id="h29-0-41" class="i">+        ) {
</a><a href="#h29-0-42" id="h29-0-42" class="i">+            Column(modifier = Modifier.padding(all = 16.dp)) {
</a><a href="#h29-0-43" id="h29-0-43" class="i">+                if (installationSummary.snapchatInfo != null) {
</a><a href="#h29-0-44" id="h29-0-44" class="i">+                    Text(&quot;Snapchat version: ${installationSummary.snapchatInfo.version}&quot;)
</a><a href="#h29-0-45" id="h29-0-45" class="i">+                    Text(&quot;Snapchat version code: ${installationSummary.snapchatInfo.versionCode}&quot;)
</a><a href="#h29-0-46" id="h29-0-46" class="i">+                } else {
</a><a href="#h29-0-47" id="h29-0-47" class="i">+                    Text(&quot;Snapchat not installed/detected&quot;)
</a><a href="#h29-0-48" id="h29-0-48" class="i">+                }
</a><a href="#h29-0-49" id="h29-0-49" class="i">+            }
</a><a href="#h29-0-50" id="h29-0-50" class="i">+        }
</a><a href="#h29-0-51" id="h29-0-51" class="i">+
</a><a href="#h29-0-52" id="h29-0-52" class="i">+        OutlinedCard(
</a><a href="#h29-0-53" id="h29-0-53" class="i">+            modifier = Modifier
</a><a href="#h29-0-54" id="h29-0-54" class="i">+                .padding(all = cardMargin)
</a><a href="#h29-0-55" id="h29-0-55" class="i">+                .fillMaxWidth()
</a><a href="#h29-0-56" id="h29-0-56" class="i">+        ) {
</a><a href="#h29-0-57" id="h29-0-57" class="i">+            FlowRow(
</a><a href="#h29-0-58" id="h29-0-58" class="i">+                modifier = Modifier.padding(all = 16.dp),
</a><a href="#h29-0-59" id="h29-0-59" class="i">+                horizontalArrangement = Arrangement.SpaceBetween
</a><a href="#h29-0-60" id="h29-0-60" class="i">+            ) {
</a><a href="#h29-0-61" id="h29-0-61" class="i">+                Icon(
</a><a href="#h29-0-62" id="h29-0-62" class="i">+                    Icons.Filled.Map,
</a><a href="#h29-0-63" id="h29-0-63" class="i">+                    contentDescription = &quot;Mappings&quot;,
</a><a href="#h29-0-64" id="h29-0-64" class="i">+                    modifier = Modifier
</a><a href="#h29-0-65" id="h29-0-65" class="i">+                        .padding(end = 10.dp)
</a><a href="#h29-0-66" id="h29-0-66" class="i">+                        .align(Alignment.CenterVertically)
</a><a href="#h29-0-67" id="h29-0-67" class="i">+                )
</a><a href="#h29-0-68" id="h29-0-68" class="i">+
</a><a href="#h29-0-69" id="h29-0-69" class="i">+                Text(text = if (installationSummary.mappingsInfo == null || installationSummary.mappingsInfo.isOutdated) {
</a><a href="#h29-0-70" id="h29-0-70" class="i">+                    &quot;Mappings ${if (installationSummary.mappingsInfo == null) &quot;not generated&quot; else &quot;outdated&quot;}&quot;
</a><a href="#h29-0-71" id="h29-0-71" class="i">+                } else {
</a><a href="#h29-0-72" id="h29-0-72" class="i">+                    &quot;Mappings version ${installationSummary.mappingsInfo.generatedSnapchatVersion}&quot;
</a><a href="#h29-0-73" id="h29-0-73" class="i">+                }, modifier = Modifier.weight(1f)
</a><a href="#h29-0-74" id="h29-0-74" class="i">+                    .align(Alignment.CenterVertically)
</a><a href="#h29-0-75" id="h29-0-75" class="i">+                )
</a><a href="#h29-0-76" id="h29-0-76" class="i">+
</a><a href="#h29-0-77" id="h29-0-77" class="i">+                //inline button
</a><a href="#h29-0-78" id="h29-0-78" class="i">+                Button(onClick = {}, modifier = Modifier.height(40.dp)) {
</a><a href="#h29-0-79" id="h29-0-79" class="i">+                    Icon(Icons.Filled.Refresh, contentDescription = &quot;Refresh&quot;)
</a><a href="#h29-0-80" id="h29-0-80" class="i">+                }
</a><a href="#h29-0-81" id="h29-0-81" class="i">+            }
</a><a href="#h29-0-82" id="h29-0-82" class="i">+        }
</a><a href="#h29-0-83" id="h29-0-83" class="i">+    }
</a><a href="#h29-0-84" id="h29-0-84" class="i">+
</a><a href="#h29-0-85" id="h29-0-85" class="i">+    @Composable
</a><a href="#h29-0-86" id="h29-0-86" class="i">+    @Preview
</a><a href="#h29-0-87" id="h29-0-87" class="i">+    override fun Content() {
</a><a href="#h29-0-88" id="h29-0-88" class="i">+        Column(
</a><a href="#h29-0-89" id="h29-0-89" class="i">+            modifier = Modifier
</a><a href="#h29-0-90" id="h29-0-90" class="i">+                .fillMaxSize()
</a><a href="#h29-0-91" id="h29-0-91" class="i">+                .verticalScroll(ScrollState(0))
</a><a href="#h29-0-92" id="h29-0-92" class="i">+        ) {
</a><a href="#h29-0-93" id="h29-0-93" class="i">+            Text(
</a><a href="#h29-0-94" id="h29-0-94" class="i">+                &quot;SnapEnhance&quot;,
</a><a href="#h29-0-95" id="h29-0-95" class="i">+                fontSize = 32.sp,
</a><a href="#h29-0-96" id="h29-0-96" class="i">+                modifier = Modifier.padding(32.dp)
</a><a href="#h29-0-97" id="h29-0-97" class="i">+            )
</a><a href="#h29-0-98" id="h29-0-98" class="i">+
</a><a href="#h29-0-99" id="h29-0-99" class="i">+            Text(
</a><a href="#h29-0-100" id="h29-0-100" class="i">+                text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl. Donec euismod, nisl eget ultricies ultrices, nunc nisl aliquam nunc, quis aliquam nisl nunc eu nisl.&quot;,
</a><a href="#h29-0-101" id="h29-0-101" class="i">+                modifier = Modifier.padding(16.dp)
</a><a href="#h29-0-102" id="h29-0-102" class="i">+            )
</a><a href="#h29-0-103" id="h29-0-103" class="i">+
</a><a href="#h29-0-104" id="h29-0-104" class="i">+            SummaryCards(manager.getInstallationSummary())
</a><a href="#h29-0-105" id="h29-0-105" class="i">+        }
</a><a href="#h29-0-106" id="h29-0-106" class="i">+    }
</a><a href="#h29-0-107" id="h29-0-107" class="i">+}</a><a href="#h29-0-108" id="h29-0-108" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h30" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a></b>
<a href="#h30-0" id="h30-0" class="h">@@ -0,0 +1,15 @@
</a><a href="#h30-0-0" id="h30-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections
</a><a href="#h30-0-1" id="h30-0-1" class="i">+
</a><a href="#h30-0-2" id="h30-0-2" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h30-0-3" id="h30-0-3" class="i">+import androidx.compose.material3.Text
</a><a href="#h30-0-4" id="h30-0-4" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h30-0-5" id="h30-0-5" class="i">+import me.rhunk.snapenhance.ui.manager.Section
</a><a href="#h30-0-6" id="h30-0-6" class="i">+
</a><a href="#h30-0-7" id="h30-0-7" class="i">+class NotImplemented : Section() {
</a><a href="#h30-0-8" id="h30-0-8" class="i">+    @Composable
</a><a href="#h30-0-9" id="h30-0-9" class="i">+    override fun Content() {
</a><a href="#h30-0-10" id="h30-0-10" class="i">+        Column {
</a><a href="#h30-0-11" id="h30-0-11" class="i">+            Text(text = &quot;Not implemented yet!&quot;)
</a><a href="#h30-0-12" id="h30-0-12" class="i">+        }
</a><a href="#h30-0-13" id="h30-0-13" class="i">+    }
</a><a href="#h30-0-14" id="h30-0-14" class="i">+}</a><a href="#h30-0-15" id="h30-0-15" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h31" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/CallbackAlias.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/CallbackAlias.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/CallbackAlias.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/CallbackAlias.kt</a></b>
<a href="#h31-0" id="h31-0" class="h">@@ -0,0 +1,4 @@
</a><a href="#h31-0-0" id="h31-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections.features
</a><a href="#h31-0-1" id="h31-0-1" class="i">+
</a><a href="#h31-0-2" id="h31-0-2" class="i">+typealias ClickCallback = (Boolean) -&gt; Unit
</a><a href="#h31-0-3" id="h31-0-3" class="i">+typealias RegisterClickCallback = (ClickCallback) -&gt; ClickCallback</a><a href="#h31-0-4" id="h31-0-4" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h32" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/Dialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/Dialogs.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/Dialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/Dialogs.kt</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -0,0 +1,199 @@
</a><a href="#h32-0-0" id="h32-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections.features
</a><a href="#h32-0-1" id="h32-0-1" class="i">+
</a><a href="#h32-0-2" id="h32-0-2" class="i">+import androidx.compose.foundation.ScrollState
</a><a href="#h32-0-3" id="h32-0-3" class="i">+import androidx.compose.foundation.clickable
</a><a href="#h32-0-4" id="h32-0-4" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h32-0-5" id="h32-0-5" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h32-0-6" id="h32-0-6" class="i">+import androidx.compose.foundation.layout.ColumnScope
</a><a href="#h32-0-7" id="h32-0-7" class="i">+import androidx.compose.foundation.layout.Row
</a><a href="#h32-0-8" id="h32-0-8" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h32-0-9" id="h32-0-9" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h32-0-10" id="h32-0-10" class="i">+import androidx.compose.foundation.text.KeyboardOptions
</a><a href="#h32-0-11" id="h32-0-11" class="i">+import androidx.compose.foundation.verticalScroll
</a><a href="#h32-0-12" id="h32-0-12" class="i">+import androidx.compose.material3.Button
</a><a href="#h32-0-13" id="h32-0-13" class="i">+import androidx.compose.material3.Card
</a><a href="#h32-0-14" id="h32-0-14" class="i">+import androidx.compose.material3.MaterialTheme
</a><a href="#h32-0-15" id="h32-0-15" class="i">+import androidx.compose.material3.RadioButton
</a><a href="#h32-0-16" id="h32-0-16" class="i">+import androidx.compose.material3.Switch
</a><a href="#h32-0-17" id="h32-0-17" class="i">+import androidx.compose.material3.Text
</a><a href="#h32-0-18" id="h32-0-18" class="i">+import androidx.compose.material3.TextField
</a><a href="#h32-0-19" id="h32-0-19" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h32-0-20" id="h32-0-20" class="i">+import androidx.compose.runtime.mutableStateOf
</a><a href="#h32-0-21" id="h32-0-21" class="i">+import androidx.compose.runtime.remember
</a><a href="#h32-0-22" id="h32-0-22" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h32-0-23" id="h32-0-23" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h32-0-24" id="h32-0-24" class="i">+import androidx.compose.ui.focus.FocusRequester
</a><a href="#h32-0-25" id="h32-0-25" class="i">+import androidx.compose.ui.focus.focusRequester
</a><a href="#h32-0-26" id="h32-0-26" class="i">+import androidx.compose.ui.layout.onGloballyPositioned
</a><a href="#h32-0-27" id="h32-0-27" class="i">+import androidx.compose.ui.text.TextRange
</a><a href="#h32-0-28" id="h32-0-28" class="i">+import androidx.compose.ui.text.input.KeyboardType
</a><a href="#h32-0-29" id="h32-0-29" class="i">+import androidx.compose.ui.text.input.TextFieldValue
</a><a href="#h32-0-30" id="h32-0-30" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h32-0-31" id="h32-0-31" class="i">+import me.rhunk.snapenhance.core.config.DataProcessors
</a><a href="#h32-0-32" id="h32-0-32" class="i">+import me.rhunk.snapenhance.core.config.PropertyPair
</a><a href="#h32-0-33" id="h32-0-33" class="i">+
</a><a href="#h32-0-34" id="h32-0-34" class="i">+
</a><a href="#h32-0-35" id="h32-0-35" class="i">+class Dialogs {
</a><a href="#h32-0-36" id="h32-0-36" class="i">+    @Composable
</a><a href="#h32-0-37" id="h32-0-37" class="i">+    fun DefaultDialogCard(content: @Composable ColumnScope.() -&gt; Unit) {
</a><a href="#h32-0-38" id="h32-0-38" class="i">+        Card(
</a><a href="#h32-0-39" id="h32-0-39" class="i">+            shape = MaterialTheme.shapes.medium,
</a><a href="#h32-0-40" id="h32-0-40" class="i">+            modifier = Modifier
</a><a href="#h32-0-41" id="h32-0-41" class="i">+                .padding(10.dp, 5.dp, 10.dp, 10.dp),
</a><a href="#h32-0-42" id="h32-0-42" class="i">+        ) {
</a><a href="#h32-0-43" id="h32-0-43" class="i">+            Column(
</a><a href="#h32-0-44" id="h32-0-44" class="i">+                modifier = Modifier
</a><a href="#h32-0-45" id="h32-0-45" class="i">+                    .padding(10.dp, 10.dp, 10.dp, 10.dp)
</a><a href="#h32-0-46" id="h32-0-46" class="i">+                    .verticalScroll(ScrollState(0)),
</a><a href="#h32-0-47" id="h32-0-47" class="i">+            ) { content() }
</a><a href="#h32-0-48" id="h32-0-48" class="i">+        }
</a><a href="#h32-0-49" id="h32-0-49" class="i">+    }
</a><a href="#h32-0-50" id="h32-0-50" class="i">+
</a><a href="#h32-0-51" id="h32-0-51" class="i">+    @Composable
</a><a href="#h32-0-52" id="h32-0-52" class="i">+    fun DefaultEntryText(text: String, modifier: Modifier = Modifier) {
</a><a href="#h32-0-53" id="h32-0-53" class="i">+        Text(
</a><a href="#h32-0-54" id="h32-0-54" class="i">+            text = text,
</a><a href="#h32-0-55" id="h32-0-55" class="i">+            modifier = Modifier
</a><a href="#h32-0-56" id="h32-0-56" class="i">+                .padding(10.dp, 10.dp, 10.dp, 10.dp)
</a><a href="#h32-0-57" id="h32-0-57" class="i">+                .then(modifier)
</a><a href="#h32-0-58" id="h32-0-58" class="i">+        )
</a><a href="#h32-0-59" id="h32-0-59" class="i">+    }
</a><a href="#h32-0-60" id="h32-0-60" class="i">+
</a><a href="#h32-0-61" id="h32-0-61" class="i">+    @Composable
</a><a href="#h32-0-62" id="h32-0-62" class="i">+    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h32-0-63" id="h32-0-63" class="i">+    fun UniqueSelectionDialog(property: PropertyPair&lt;*&gt;) {
</a><a href="#h32-0-64" id="h32-0-64" class="i">+        val keys = (property.value.defaultValues as List&lt;String&gt;).toMutableList().apply {
</a><a href="#h32-0-65" id="h32-0-65" class="i">+            add(0, &quot;disabled&quot;)
</a><a href="#h32-0-66" id="h32-0-66" class="i">+        }
</a><a href="#h32-0-67" id="h32-0-67" class="i">+
</a><a href="#h32-0-68" id="h32-0-68" class="i">+        val selectedValue = remember {
</a><a href="#h32-0-69" id="h32-0-69" class="i">+            mutableStateOf(property.value.getNullable()?.toString() ?: &quot;disabled&quot;)
</a><a href="#h32-0-70" id="h32-0-70" class="i">+        }
</a><a href="#h32-0-71" id="h32-0-71" class="i">+
</a><a href="#h32-0-72" id="h32-0-72" class="i">+        DefaultDialogCard {
</a><a href="#h32-0-73" id="h32-0-73" class="i">+            keys.forEachIndexed { index, item -&gt;
</a><a href="#h32-0-74" id="h32-0-74" class="i">+                fun select() {
</a><a href="#h32-0-75" id="h32-0-75" class="i">+                    selectedValue.value = item
</a><a href="#h32-0-76" id="h32-0-76" class="i">+                    property.value.setAny(if (index == 0) {
</a><a href="#h32-0-77" id="h32-0-77" class="i">+                        null
</a><a href="#h32-0-78" id="h32-0-78" class="i">+                    } else {
</a><a href="#h32-0-79" id="h32-0-79" class="i">+                        item
</a><a href="#h32-0-80" id="h32-0-80" class="i">+                    })
</a><a href="#h32-0-81" id="h32-0-81" class="i">+                }
</a><a href="#h32-0-82" id="h32-0-82" class="i">+
</a><a href="#h32-0-83" id="h32-0-83" class="i">+                Row(
</a><a href="#h32-0-84" id="h32-0-84" class="i">+                    modifier = Modifier.clickable { select() },
</a><a href="#h32-0-85" id="h32-0-85" class="i">+                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h32-0-86" id="h32-0-86" class="i">+                ) {
</a><a href="#h32-0-87" id="h32-0-87" class="i">+                    DefaultEntryText(
</a><a href="#h32-0-88" id="h32-0-88" class="i">+                        text = item,
</a><a href="#h32-0-89" id="h32-0-89" class="i">+                        modifier = Modifier.weight(1f)
</a><a href="#h32-0-90" id="h32-0-90" class="i">+                    )
</a><a href="#h32-0-91" id="h32-0-91" class="i">+                    RadioButton(
</a><a href="#h32-0-92" id="h32-0-92" class="i">+                        selected = selectedValue.value == item,
</a><a href="#h32-0-93" id="h32-0-93" class="i">+                        onClick = { select() }
</a><a href="#h32-0-94" id="h32-0-94" class="i">+                    )
</a><a href="#h32-0-95" id="h32-0-95" class="i">+                }
</a><a href="#h32-0-96" id="h32-0-96" class="i">+            }
</a><a href="#h32-0-97" id="h32-0-97" class="i">+        }
</a><a href="#h32-0-98" id="h32-0-98" class="i">+    }
</a><a href="#h32-0-99" id="h32-0-99" class="i">+
</a><a href="#h32-0-100" id="h32-0-100" class="i">+    @Composable
</a><a href="#h32-0-101" id="h32-0-101" class="i">+    fun KeyboardInputDialog(property: PropertyPair&lt;*&gt;, dismiss: () -&gt; Unit = {}) {
</a><a href="#h32-0-102" id="h32-0-102" class="i">+        val focusRequester = remember { FocusRequester() }
</a><a href="#h32-0-103" id="h32-0-103" class="i">+
</a><a href="#h32-0-104" id="h32-0-104" class="i">+        DefaultDialogCard {
</a><a href="#h32-0-105" id="h32-0-105" class="i">+            val fieldValue = remember {
</a><a href="#h32-0-106" id="h32-0-106" class="i">+                mutableStateOf(property.value.get().toString().let {
</a><a href="#h32-0-107" id="h32-0-107" class="i">+                    TextFieldValue(
</a><a href="#h32-0-108" id="h32-0-108" class="i">+                        text = it,
</a><a href="#h32-0-109" id="h32-0-109" class="i">+                        selection = TextRange(it.length)
</a><a href="#h32-0-110" id="h32-0-110" class="i">+                    )
</a><a href="#h32-0-111" id="h32-0-111" class="i">+                })
</a><a href="#h32-0-112" id="h32-0-112" class="i">+            }
</a><a href="#h32-0-113" id="h32-0-113" class="i">+
</a><a href="#h32-0-114" id="h32-0-114" class="i">+            TextField(
</a><a href="#h32-0-115" id="h32-0-115" class="i">+                modifier = Modifier
</a><a href="#h32-0-116" id="h32-0-116" class="i">+                    .fillMaxWidth()
</a><a href="#h32-0-117" id="h32-0-117" class="i">+                    .padding(all = 10.dp)
</a><a href="#h32-0-118" id="h32-0-118" class="i">+                    .onGloballyPositioned {
</a><a href="#h32-0-119" id="h32-0-119" class="i">+                        focusRequester.requestFocus()
</a><a href="#h32-0-120" id="h32-0-120" class="i">+                    }
</a><a href="#h32-0-121" id="h32-0-121" class="i">+                    .focusRequester(focusRequester),
</a><a href="#h32-0-122" id="h32-0-122" class="i">+                value = fieldValue.value,
</a><a href="#h32-0-123" id="h32-0-123" class="i">+                onValueChange = {
</a><a href="#h32-0-124" id="h32-0-124" class="i">+                    fieldValue.value = it
</a><a href="#h32-0-125" id="h32-0-125" class="i">+                },
</a><a href="#h32-0-126" id="h32-0-126" class="i">+                keyboardOptions = when (property.key.dataType.type) {
</a><a href="#h32-0-127" id="h32-0-127" class="i">+                    DataProcessors.Type.INTEGER -&gt; KeyboardOptions(keyboardType = KeyboardType.Number)
</a><a href="#h32-0-128" id="h32-0-128" class="i">+                    DataProcessors.Type.FLOAT -&gt; KeyboardOptions(keyboardType = KeyboardType.Decimal)
</a><a href="#h32-0-129" id="h32-0-129" class="i">+                    else -&gt; KeyboardOptions(keyboardType = KeyboardType.Text)
</a><a href="#h32-0-130" id="h32-0-130" class="i">+                },
</a><a href="#h32-0-131" id="h32-0-131" class="i">+                singleLine = true
</a><a href="#h32-0-132" id="h32-0-132" class="i">+            )
</a><a href="#h32-0-133" id="h32-0-133" class="i">+
</a><a href="#h32-0-134" id="h32-0-134" class="i">+            Row(
</a><a href="#h32-0-135" id="h32-0-135" class="i">+                modifier = Modifier.padding(top = 10.dp).fillMaxWidth(),
</a><a href="#h32-0-136" id="h32-0-136" class="i">+                horizontalArrangement = Arrangement.SpaceEvenly,
</a><a href="#h32-0-137" id="h32-0-137" class="i">+            ) {
</a><a href="#h32-0-138" id="h32-0-138" class="i">+                Button(onClick = { dismiss() }) {
</a><a href="#h32-0-139" id="h32-0-139" class="i">+                    Text(text = &quot;Cancel&quot;)
</a><a href="#h32-0-140" id="h32-0-140" class="i">+                }
</a><a href="#h32-0-141" id="h32-0-141" class="i">+                Button(onClick = {
</a><a href="#h32-0-142" id="h32-0-142" class="i">+                    if (property.key.dataType.type == DataProcessors.Type.INTEGER) {
</a><a href="#h32-0-143" id="h32-0-143" class="i">+                        runCatching {
</a><a href="#h32-0-144" id="h32-0-144" class="i">+                            property.value.setAny(fieldValue.value.text.toInt())
</a><a href="#h32-0-145" id="h32-0-145" class="i">+                        }.onFailure {
</a><a href="#h32-0-146" id="h32-0-146" class="i">+                            property.value.setAny(0)
</a><a href="#h32-0-147" id="h32-0-147" class="i">+                        }
</a><a href="#h32-0-148" id="h32-0-148" class="i">+                    } else {
</a><a href="#h32-0-149" id="h32-0-149" class="i">+                        property.value.setAny(fieldValue.value.text)
</a><a href="#h32-0-150" id="h32-0-150" class="i">+                    }
</a><a href="#h32-0-151" id="h32-0-151" class="i">+                    dismiss()
</a><a href="#h32-0-152" id="h32-0-152" class="i">+                }) {
</a><a href="#h32-0-153" id="h32-0-153" class="i">+                    Text(text = &quot;Ok&quot;)
</a><a href="#h32-0-154" id="h32-0-154" class="i">+                }
</a><a href="#h32-0-155" id="h32-0-155" class="i">+            }
</a><a href="#h32-0-156" id="h32-0-156" class="i">+        }
</a><a href="#h32-0-157" id="h32-0-157" class="i">+    }
</a><a href="#h32-0-158" id="h32-0-158" class="i">+
</a><a href="#h32-0-159" id="h32-0-159" class="i">+    @Composable
</a><a href="#h32-0-160" id="h32-0-160" class="i">+    @Suppress(&quot;UNCHECKED_CAST&quot;)
</a><a href="#h32-0-161" id="h32-0-161" class="i">+    fun MultipleSelectionDialog(property: PropertyPair&lt;*&gt;) {
</a><a href="#h32-0-162" id="h32-0-162" class="i">+        val defaultItems = property.value.defaultValues as List&lt;String&gt;
</a><a href="#h32-0-163" id="h32-0-163" class="i">+        val toggledStates = property.value.get() as MutableList&lt;String&gt;
</a><a href="#h32-0-164" id="h32-0-164" class="i">+        DefaultDialogCard {
</a><a href="#h32-0-165" id="h32-0-165" class="i">+            defaultItems.forEach { key -&gt;
</a><a href="#h32-0-166" id="h32-0-166" class="i">+                val state = remember {
</a><a href="#h32-0-167" id="h32-0-167" class="i">+                    mutableStateOf(toggledStates.contains(key))
</a><a href="#h32-0-168" id="h32-0-168" class="i">+                }
</a><a href="#h32-0-169" id="h32-0-169" class="i">+
</a><a href="#h32-0-170" id="h32-0-170" class="i">+                fun toggle(value: Boolean? = null) {
</a><a href="#h32-0-171" id="h32-0-171" class="i">+                    state.value = value ?: !state.value
</a><a href="#h32-0-172" id="h32-0-172" class="i">+                    if (state.value) {
</a><a href="#h32-0-173" id="h32-0-173" class="i">+                        toggledStates.add(key)
</a><a href="#h32-0-174" id="h32-0-174" class="i">+                    } else {
</a><a href="#h32-0-175" id="h32-0-175" class="i">+                        toggledStates.remove(key)
</a><a href="#h32-0-176" id="h32-0-176" class="i">+                    }
</a><a href="#h32-0-177" id="h32-0-177" class="i">+                }
</a><a href="#h32-0-178" id="h32-0-178" class="i">+
</a><a href="#h32-0-179" id="h32-0-179" class="i">+                Row(
</a><a href="#h32-0-180" id="h32-0-180" class="i">+                    modifier = Modifier.clickable { toggle() },
</a><a href="#h32-0-181" id="h32-0-181" class="i">+                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h32-0-182" id="h32-0-182" class="i">+                ) {
</a><a href="#h32-0-183" id="h32-0-183" class="i">+                    DefaultEntryText(
</a><a href="#h32-0-184" id="h32-0-184" class="i">+                        text = key,
</a><a href="#h32-0-185" id="h32-0-185" class="i">+                        modifier = Modifier
</a><a href="#h32-0-186" id="h32-0-186" class="i">+                            .weight(1f)
</a><a href="#h32-0-187" id="h32-0-187" class="i">+                    )
</a><a href="#h32-0-188" id="h32-0-188" class="i">+                    Switch(
</a><a href="#h32-0-189" id="h32-0-189" class="i">+                        checked = state.value,
</a><a href="#h32-0-190" id="h32-0-190" class="i">+                        onCheckedChange = {
</a><a href="#h32-0-191" id="h32-0-191" class="i">+                            toggle(it)
</a><a href="#h32-0-192" id="h32-0-192" class="i">+                        }
</a><a href="#h32-0-193" id="h32-0-193" class="i">+                    )
</a><a href="#h32-0-194" id="h32-0-194" class="i">+                }
</a><a href="#h32-0-195" id="h32-0-195" class="i">+            }
</a><a href="#h32-0-196" id="h32-0-196" class="i">+        }
</a><a href="#h32-0-197" id="h32-0-197" class="i">+    }
</a><a href="#h32-0-198" id="h32-0-198" class="i">+}
</a><b>diff --git a/<a id="h33" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/FeaturesSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/FeaturesSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/features/FeaturesSection.kt</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -0,0 +1,320 @@
</a><a href="#h33-0-0" id="h33-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.sections.features
</a><a href="#h33-0-1" id="h33-0-1" class="i">+
</a><a href="#h33-0-2" id="h33-0-2" class="i">+import androidx.compose.foundation.background
</a><a href="#h33-0-3" id="h33-0-3" class="i">+import androidx.compose.foundation.clickable
</a><a href="#h33-0-4" id="h33-0-4" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h33-0-5" id="h33-0-5" class="i">+import androidx.compose.foundation.layout.Box
</a><a href="#h33-0-6" id="h33-0-6" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h33-0-7" id="h33-0-7" class="i">+import androidx.compose.foundation.layout.Row
</a><a href="#h33-0-8" id="h33-0-8" class="i">+import androidx.compose.foundation.layout.fillMaxHeight
</a><a href="#h33-0-9" id="h33-0-9" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h33-0-10" id="h33-0-10" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h33-0-11" id="h33-0-11" class="i">+import androidx.compose.foundation.layout.height
</a><a href="#h33-0-12" id="h33-0-12" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h33-0-13" id="h33-0-13" class="i">+import androidx.compose.foundation.layout.width
</a><a href="#h33-0-14" id="h33-0-14" class="i">+import androidx.compose.foundation.layout.widthIn
</a><a href="#h33-0-15" id="h33-0-15" class="i">+import androidx.compose.foundation.layout.wrapContentWidth
</a><a href="#h33-0-16" id="h33-0-16" class="i">+import androidx.compose.foundation.lazy.LazyColumn
</a><a href="#h33-0-17" id="h33-0-17" class="i">+import androidx.compose.foundation.lazy.items
</a><a href="#h33-0-18" id="h33-0-18" class="i">+import androidx.compose.foundation.shape.RoundedCornerShape
</a><a href="#h33-0-19" id="h33-0-19" class="i">+import androidx.compose.material.MaterialTheme
</a><a href="#h33-0-20" id="h33-0-20" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h33-0-21" id="h33-0-21" class="i">+import androidx.compose.material.icons.filled.ArrowBack
</a><a href="#h33-0-22" id="h33-0-22" class="i">+import androidx.compose.material.icons.filled.OpenInNew
</a><a href="#h33-0-23" id="h33-0-23" class="i">+import androidx.compose.material.icons.rounded.Save
</a><a href="#h33-0-24" id="h33-0-24" class="i">+import androidx.compose.material3.Card
</a><a href="#h33-0-25" id="h33-0-25" class="i">+import androidx.compose.material3.ExperimentalMaterial3Api
</a><a href="#h33-0-26" id="h33-0-26" class="i">+import androidx.compose.material3.FilledIconButton
</a><a href="#h33-0-27" id="h33-0-27" class="i">+import androidx.compose.material3.FloatingActionButton
</a><a href="#h33-0-28" id="h33-0-28" class="i">+import androidx.compose.material3.Icon
</a><a href="#h33-0-29" id="h33-0-29" class="i">+import androidx.compose.material3.IconButton
</a><a href="#h33-0-30" id="h33-0-30" class="i">+import androidx.compose.material3.Scaffold
</a><a href="#h33-0-31" id="h33-0-31" class="i">+import androidx.compose.material3.SnackbarHost
</a><a href="#h33-0-32" id="h33-0-32" class="i">+import androidx.compose.material3.Switch
</a><a href="#h33-0-33" id="h33-0-33" class="i">+import androidx.compose.material3.Text
</a><a href="#h33-0-34" id="h33-0-34" class="i">+import androidx.compose.material3.TopAppBar
</a><a href="#h33-0-35" id="h33-0-35" class="i">+import androidx.compose.material3.rememberBottomSheetScaffoldState
</a><a href="#h33-0-36" id="h33-0-36" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h33-0-37" id="h33-0-37" class="i">+import androidx.compose.runtime.mutableStateOf
</a><a href="#h33-0-38" id="h33-0-38" class="i">+import androidx.compose.runtime.remember
</a><a href="#h33-0-39" id="h33-0-39" class="i">+import androidx.compose.runtime.rememberCoroutineScope
</a><a href="#h33-0-40" id="h33-0-40" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h33-0-41" id="h33-0-41" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h33-0-42" id="h33-0-42" class="i">+import androidx.compose.ui.text.font.FontWeight
</a><a href="#h33-0-43" id="h33-0-43" class="i">+import androidx.compose.ui.text.style.TextAlign
</a><a href="#h33-0-44" id="h33-0-44" class="i">+import androidx.compose.ui.text.style.TextOverflow
</a><a href="#h33-0-45" id="h33-0-45" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h33-0-46" id="h33-0-46" class="i">+import androidx.compose.ui.unit.sp
</a><a href="#h33-0-47" id="h33-0-47" class="i">+import androidx.compose.ui.window.Dialog
</a><a href="#h33-0-48" id="h33-0-48" class="i">+import androidx.compose.ui.window.DialogProperties
</a><a href="#h33-0-49" id="h33-0-49" class="i">+import androidx.navigation.NavGraphBuilder
</a><a href="#h33-0-50" id="h33-0-50" class="i">+import androidx.navigation.compose.composable
</a><a href="#h33-0-51" id="h33-0-51" class="i">+import androidx.navigation.navigation
</a><a href="#h33-0-52" id="h33-0-52" class="i">+import kotlinx.coroutines.launch
</a><a href="#h33-0-53" id="h33-0-53" class="i">+import me.rhunk.snapenhance.core.config.ConfigContainer
</a><a href="#h33-0-54" id="h33-0-54" class="i">+import me.rhunk.snapenhance.core.config.DataProcessors
</a><a href="#h33-0-55" id="h33-0-55" class="i">+import me.rhunk.snapenhance.core.config.PropertyPair
</a><a href="#h33-0-56" id="h33-0-56" class="i">+import me.rhunk.snapenhance.ui.manager.Section
</a><a href="#h33-0-57" id="h33-0-57" class="i">+
</a><a href="#h33-0-58" id="h33-0-58" class="i">+class FeaturesSection : Section() {
</a><a href="#h33-0-59" id="h33-0-59" class="i">+    private val dialogs by lazy { Dialogs() }
</a><a href="#h33-0-60" id="h33-0-60" class="i">+
</a><a href="#h33-0-61" id="h33-0-61" class="i">+    companion object {
</a><a href="#h33-0-62" id="h33-0-62" class="i">+        private const val MAIN_ROUTE = &quot;root&quot;
</a><a href="#h33-0-63" id="h33-0-63" class="i">+    }
</a><a href="#h33-0-64" id="h33-0-64" class="i">+
</a><a href="#h33-0-65" id="h33-0-65" class="i">+    @Composable
</a><a href="#h33-0-66" id="h33-0-66" class="i">+    private fun PropertyAction(property: PropertyPair&lt;*&gt;, registerClickCallback: RegisterClickCallback) {
</a><a href="#h33-0-67" id="h33-0-67" class="i">+        val showDialog = remember { mutableStateOf(false) }
</a><a href="#h33-0-68" id="h33-0-68" class="i">+        val dialogComposable = remember { mutableStateOf&lt;@Composable () -&gt; Unit&gt;({}) }
</a><a href="#h33-0-69" id="h33-0-69" class="i">+
</a><a href="#h33-0-70" id="h33-0-70" class="i">+        fun registerDialogOnClickCallback() = registerClickCallback {
</a><a href="#h33-0-71" id="h33-0-71" class="i">+            showDialog.value = true
</a><a href="#h33-0-72" id="h33-0-72" class="i">+        }
</a><a href="#h33-0-73" id="h33-0-73" class="i">+
</a><a href="#h33-0-74" id="h33-0-74" class="i">+        if (showDialog.value) {
</a><a href="#h33-0-75" id="h33-0-75" class="i">+            Dialog(
</a><a href="#h33-0-76" id="h33-0-76" class="i">+                onDismissRequest = { showDialog.value = false },
</a><a href="#h33-0-77" id="h33-0-77" class="i">+                properties = DialogProperties()
</a><a href="#h33-0-78" id="h33-0-78" class="i">+            ) {
</a><a href="#h33-0-79" id="h33-0-79" class="i">+                dialogComposable.value()
</a><a href="#h33-0-80" id="h33-0-80" class="i">+            }
</a><a href="#h33-0-81" id="h33-0-81" class="i">+        }
</a><a href="#h33-0-82" id="h33-0-82" class="i">+
</a><a href="#h33-0-83" id="h33-0-83" class="i">+        val propertyValue = property.value
</a><a href="#h33-0-84" id="h33-0-84" class="i">+
</a><a href="#h33-0-85" id="h33-0-85" class="i">+        when (val dataType = remember { property.key.dataType.type }) {
</a><a href="#h33-0-86" id="h33-0-86" class="i">+            DataProcessors.Type.BOOLEAN -&gt; {
</a><a href="#h33-0-87" id="h33-0-87" class="i">+                val state = remember { mutableStateOf(propertyValue.get() as Boolean) }
</a><a href="#h33-0-88" id="h33-0-88" class="i">+                Switch(
</a><a href="#h33-0-89" id="h33-0-89" class="i">+                    checked = state.value,
</a><a href="#h33-0-90" id="h33-0-90" class="i">+                    onCheckedChange = registerClickCallback {
</a><a href="#h33-0-91" id="h33-0-91" class="i">+                        state.value = state.value.not()
</a><a href="#h33-0-92" id="h33-0-92" class="i">+                        propertyValue.setAny(state.value)
</a><a href="#h33-0-93" id="h33-0-93" class="i">+                    }
</a><a href="#h33-0-94" id="h33-0-94" class="i">+                )
</a><a href="#h33-0-95" id="h33-0-95" class="i">+            }
</a><a href="#h33-0-96" id="h33-0-96" class="i">+
</a><a href="#h33-0-97" id="h33-0-97" class="i">+            DataProcessors.Type.STRING_UNIQUE_SELECTION -&gt; {
</a><a href="#h33-0-98" id="h33-0-98" class="i">+                registerDialogOnClickCallback()
</a><a href="#h33-0-99" id="h33-0-99" class="i">+
</a><a href="#h33-0-100" id="h33-0-100" class="i">+                dialogComposable.value = {
</a><a href="#h33-0-101" id="h33-0-101" class="i">+                    dialogs.UniqueSelectionDialog(property)
</a><a href="#h33-0-102" id="h33-0-102" class="i">+                }
</a><a href="#h33-0-103" id="h33-0-103" class="i">+
</a><a href="#h33-0-104" id="h33-0-104" class="i">+                Text(
</a><a href="#h33-0-105" id="h33-0-105" class="i">+                    overflow = TextOverflow.Ellipsis,
</a><a href="#h33-0-106" id="h33-0-106" class="i">+                    maxLines = 1,
</a><a href="#h33-0-107" id="h33-0-107" class="i">+                    modifier = Modifier.widthIn(0.dp, 120.dp),
</a><a href="#h33-0-108" id="h33-0-108" class="i">+                    text = (propertyValue.getNullable() as? String) ?: &quot;Disabled&quot;,
</a><a href="#h33-0-109" id="h33-0-109" class="i">+                )
</a><a href="#h33-0-110" id="h33-0-110" class="i">+            }
</a><a href="#h33-0-111" id="h33-0-111" class="i">+
</a><a href="#h33-0-112" id="h33-0-112" class="i">+            DataProcessors.Type.STRING_MULTIPLE_SELECTION, DataProcessors.Type.STRING, DataProcessors.Type.INTEGER, DataProcessors.Type.FLOAT -&gt; {
</a><a href="#h33-0-113" id="h33-0-113" class="i">+                dialogComposable.value = {
</a><a href="#h33-0-114" id="h33-0-114" class="i">+                    when (dataType) {
</a><a href="#h33-0-115" id="h33-0-115" class="i">+                        DataProcessors.Type.STRING_MULTIPLE_SELECTION -&gt; {
</a><a href="#h33-0-116" id="h33-0-116" class="i">+                            dialogs.MultipleSelectionDialog(property)
</a><a href="#h33-0-117" id="h33-0-117" class="i">+                        }
</a><a href="#h33-0-118" id="h33-0-118" class="i">+                        DataProcessors.Type.STRING, DataProcessors.Type.INTEGER -&gt; {
</a><a href="#h33-0-119" id="h33-0-119" class="i">+                            dialogs.KeyboardInputDialog(property) { showDialog.value = false }
</a><a href="#h33-0-120" id="h33-0-120" class="i">+                        }
</a><a href="#h33-0-121" id="h33-0-121" class="i">+                        else -&gt; {}
</a><a href="#h33-0-122" id="h33-0-122" class="i">+                    }
</a><a href="#h33-0-123" id="h33-0-123" class="i">+                }
</a><a href="#h33-0-124" id="h33-0-124" class="i">+
</a><a href="#h33-0-125" id="h33-0-125" class="i">+                registerDialogOnClickCallback().let { { it.invoke(true) } }.also {
</a><a href="#h33-0-126" id="h33-0-126" class="i">+                    if (dataType == DataProcessors.Type.INTEGER || dataType == DataProcessors.Type.FLOAT) {
</a><a href="#h33-0-127" id="h33-0-127" class="i">+                        FilledIconButton(onClick = it) {
</a><a href="#h33-0-128" id="h33-0-128" class="i">+                            Text(
</a><a href="#h33-0-129" id="h33-0-129" class="i">+                                text = propertyValue.get().toString(),
</a><a href="#h33-0-130" id="h33-0-130" class="i">+                                modifier = Modifier.wrapContentWidth(),
</a><a href="#h33-0-131" id="h33-0-131" class="i">+                                overflow = TextOverflow.Ellipsis
</a><a href="#h33-0-132" id="h33-0-132" class="i">+                            )
</a><a href="#h33-0-133" id="h33-0-133" class="i">+                        }
</a><a href="#h33-0-134" id="h33-0-134" class="i">+                    } else {
</a><a href="#h33-0-135" id="h33-0-135" class="i">+                        IconButton(onClick = it) {
</a><a href="#h33-0-136" id="h33-0-136" class="i">+                            Icon(Icons.Filled.OpenInNew, contentDescription = null)
</a><a href="#h33-0-137" id="h33-0-137" class="i">+                        }
</a><a href="#h33-0-138" id="h33-0-138" class="i">+                    }
</a><a href="#h33-0-139" id="h33-0-139" class="i">+                }
</a><a href="#h33-0-140" id="h33-0-140" class="i">+            }
</a><a href="#h33-0-141" id="h33-0-141" class="i">+            DataProcessors.Type.CONTAINER -&gt; {
</a><a href="#h33-0-142" id="h33-0-142" class="i">+                val container = propertyValue.get() as ConfigContainer
</a><a href="#h33-0-143" id="h33-0-143" class="i">+
</a><a href="#h33-0-144" id="h33-0-144" class="i">+                registerClickCallback {
</a><a href="#h33-0-145" id="h33-0-145" class="i">+                    navController.navigate(&quot;container/${property.name}&quot;)
</a><a href="#h33-0-146" id="h33-0-146" class="i">+                }
</a><a href="#h33-0-147" id="h33-0-147" class="i">+
</a><a href="#h33-0-148" id="h33-0-148" class="i">+                if (container.globalState == null) return
</a><a href="#h33-0-149" id="h33-0-149" class="i">+
</a><a href="#h33-0-150" id="h33-0-150" class="i">+                val state = remember { mutableStateOf(container.globalState!!) }
</a><a href="#h33-0-151" id="h33-0-151" class="i">+
</a><a href="#h33-0-152" id="h33-0-152" class="i">+                Box(
</a><a href="#h33-0-153" id="h33-0-153" class="i">+                    modifier = Modifier
</a><a href="#h33-0-154" id="h33-0-154" class="i">+                        .padding(end = 15.dp),
</a><a href="#h33-0-155" id="h33-0-155" class="i">+                ) {
</a><a href="#h33-0-156" id="h33-0-156" class="i">+
</a><a href="#h33-0-157" id="h33-0-157" class="i">+                    Box(modifier = Modifier
</a><a href="#h33-0-158" id="h33-0-158" class="i">+                        .height(50.dp)
</a><a href="#h33-0-159" id="h33-0-159" class="i">+                        .width(1.dp)
</a><a href="#h33-0-160" id="h33-0-160" class="i">+                        .background(color = MaterialTheme.colors.onBackground.copy(alpha = 0.12f), shape = RoundedCornerShape(5.dp)))
</a><a href="#h33-0-161" id="h33-0-161" class="i">+                }
</a><a href="#h33-0-162" id="h33-0-162" class="i">+
</a><a href="#h33-0-163" id="h33-0-163" class="i">+                Switch(
</a><a href="#h33-0-164" id="h33-0-164" class="i">+                    checked = state.value,
</a><a href="#h33-0-165" id="h33-0-165" class="i">+                    onCheckedChange = {
</a><a href="#h33-0-166" id="h33-0-166" class="i">+                        state.value = state.value.not()
</a><a href="#h33-0-167" id="h33-0-167" class="i">+                        container.globalState = state.value
</a><a href="#h33-0-168" id="h33-0-168" class="i">+                    }
</a><a href="#h33-0-169" id="h33-0-169" class="i">+                )
</a><a href="#h33-0-170" id="h33-0-170" class="i">+            }
</a><a href="#h33-0-171" id="h33-0-171" class="i">+        }
</a><a href="#h33-0-172" id="h33-0-172" class="i">+
</a><a href="#h33-0-173" id="h33-0-173" class="i">+    }
</a><a href="#h33-0-174" id="h33-0-174" class="i">+
</a><a href="#h33-0-175" id="h33-0-175" class="i">+    @Composable
</a><a href="#h33-0-176" id="h33-0-176" class="i">+    private fun PropertyCard(property: PropertyPair&lt;*&gt;) {
</a><a href="#h33-0-177" id="h33-0-177" class="i">+        val clickCallback = remember { mutableStateOf&lt;ClickCallback?&gt;(null) }
</a><a href="#h33-0-178" id="h33-0-178" class="i">+        Card(
</a><a href="#h33-0-179" id="h33-0-179" class="i">+            modifier = Modifier
</a><a href="#h33-0-180" id="h33-0-180" class="i">+                .fillMaxWidth()
</a><a href="#h33-0-181" id="h33-0-181" class="i">+                .padding(start = 10.dp, end = 10.dp, top = 5.dp, bottom = 5.dp)
</a><a href="#h33-0-182" id="h33-0-182" class="i">+        ) {
</a><a href="#h33-0-183" id="h33-0-183" class="i">+            Row(
</a><a href="#h33-0-184" id="h33-0-184" class="i">+                modifier = Modifier
</a><a href="#h33-0-185" id="h33-0-185" class="i">+                    .fillMaxSize()
</a><a href="#h33-0-186" id="h33-0-186" class="i">+                    .clickable {
</a><a href="#h33-0-187" id="h33-0-187" class="i">+                        clickCallback.value?.invoke(true)
</a><a href="#h33-0-188" id="h33-0-188" class="i">+                    }
</a><a href="#h33-0-189" id="h33-0-189" class="i">+                    .padding(all = 4.dp),
</a><a href="#h33-0-190" id="h33-0-190" class="i">+                horizontalArrangement = Arrangement.SpaceBetween
</a><a href="#h33-0-191" id="h33-0-191" class="i">+            ) {
</a><a href="#h33-0-192" id="h33-0-192" class="i">+                Column(
</a><a href="#h33-0-193" id="h33-0-193" class="i">+                    modifier = Modifier
</a><a href="#h33-0-194" id="h33-0-194" class="i">+                        .align(Alignment.CenterVertically)
</a><a href="#h33-0-195" id="h33-0-195" class="i">+                        .weight(1f, fill = true)
</a><a href="#h33-0-196" id="h33-0-196" class="i">+                        .padding(all = 10.dp)
</a><a href="#h33-0-197" id="h33-0-197" class="i">+                ) {
</a><a href="#h33-0-198" id="h33-0-198" class="i">+                    Text(
</a><a href="#h33-0-199" id="h33-0-199" class="i">+                        text = property.name,
</a><a href="#h33-0-200" id="h33-0-200" class="i">+                        fontSize = 16.sp,
</a><a href="#h33-0-201" id="h33-0-201" class="i">+                        fontWeight = FontWeight.Bold
</a><a href="#h33-0-202" id="h33-0-202" class="i">+                    )
</a><a href="#h33-0-203" id="h33-0-203" class="i">+                    Text(
</a><a href="#h33-0-204" id="h33-0-204" class="i">+                        text = property.name,
</a><a href="#h33-0-205" id="h33-0-205" class="i">+                        fontSize = 12.sp,
</a><a href="#h33-0-206" id="h33-0-206" class="i">+                        lineHeight = 15.sp
</a><a href="#h33-0-207" id="h33-0-207" class="i">+                    )
</a><a href="#h33-0-208" id="h33-0-208" class="i">+                }
</a><a href="#h33-0-209" id="h33-0-209" class="i">+
</a><a href="#h33-0-210" id="h33-0-210" class="i">+                Row(
</a><a href="#h33-0-211" id="h33-0-211" class="i">+                    modifier = Modifier
</a><a href="#h33-0-212" id="h33-0-212" class="i">+                        .align(Alignment.CenterVertically)
</a><a href="#h33-0-213" id="h33-0-213" class="i">+                        .padding(all = 10.dp),
</a><a href="#h33-0-214" id="h33-0-214" class="i">+                    verticalAlignment = Alignment.CenterVertically
</a><a href="#h33-0-215" id="h33-0-215" class="i">+                ) {
</a><a href="#h33-0-216" id="h33-0-216" class="i">+                    PropertyAction(property, registerClickCallback = { callback -&gt;
</a><a href="#h33-0-217" id="h33-0-217" class="i">+                        clickCallback.value = callback
</a><a href="#h33-0-218" id="h33-0-218" class="i">+                        callback
</a><a href="#h33-0-219" id="h33-0-219" class="i">+                    })
</a><a href="#h33-0-220" id="h33-0-220" class="i">+                }
</a><a href="#h33-0-221" id="h33-0-221" class="i">+            }
</a><a href="#h33-0-222" id="h33-0-222" class="i">+        }
</a><a href="#h33-0-223" id="h33-0-223" class="i">+    }
</a><a href="#h33-0-224" id="h33-0-224" class="i">+
</a><a href="#h33-0-225" id="h33-0-225" class="i">+
</a><a href="#h33-0-226" id="h33-0-226" class="i">+    @OptIn(ExperimentalMaterial3Api::class)
</a><a href="#h33-0-227" id="h33-0-227" class="i">+    @Composable
</a><a href="#h33-0-228" id="h33-0-228" class="i">+    private fun Container(
</a><a href="#h33-0-229" id="h33-0-229" class="i">+        containerName: String,
</a><a href="#h33-0-230" id="h33-0-230" class="i">+        configContainer: ConfigContainer
</a><a href="#h33-0-231" id="h33-0-231" class="i">+    ) {
</a><a href="#h33-0-232" id="h33-0-232" class="i">+        val properties = remember {
</a><a href="#h33-0-233" id="h33-0-233" class="i">+            configContainer.properties.map { PropertyPair(it.key, it.value) }
</a><a href="#h33-0-234" id="h33-0-234" class="i">+        }
</a><a href="#h33-0-235" id="h33-0-235" class="i">+
</a><a href="#h33-0-236" id="h33-0-236" class="i">+        val scope = rememberCoroutineScope()
</a><a href="#h33-0-237" id="h33-0-237" class="i">+        val scaffoldState = rememberBottomSheetScaffoldState()
</a><a href="#h33-0-238" id="h33-0-238" class="i">+        Scaffold(
</a><a href="#h33-0-239" id="h33-0-239" class="i">+            snackbarHost = { SnackbarHost(scaffoldState.snackbarHostState) },
</a><a href="#h33-0-240" id="h33-0-240" class="i">+            modifier = Modifier.fillMaxSize(),
</a><a href="#h33-0-241" id="h33-0-241" class="i">+            topBar = {
</a><a href="#h33-0-242" id="h33-0-242" class="i">+                TopAppBar(
</a><a href="#h33-0-243" id="h33-0-243" class="i">+                    title = {
</a><a href="#h33-0-244" id="h33-0-244" class="i">+                        Text(text = containerName, textAlign = TextAlign.Center)
</a><a href="#h33-0-245" id="h33-0-245" class="i">+                    },
</a><a href="#h33-0-246" id="h33-0-246" class="i">+                    navigationIcon = {
</a><a href="#h33-0-247" id="h33-0-247" class="i">+                        if (navController.currentBackStackEntry?.destination?.route != MAIN_ROUTE) {
</a><a href="#h33-0-248" id="h33-0-248" class="i">+                            IconButton(onClick = { navController.popBackStack() }) {
</a><a href="#h33-0-249" id="h33-0-249" class="i">+                                Icon(Icons.Filled.ArrowBack, contentDescription = null)
</a><a href="#h33-0-250" id="h33-0-250" class="i">+                            }
</a><a href="#h33-0-251" id="h33-0-251" class="i">+                        }
</a><a href="#h33-0-252" id="h33-0-252" class="i">+                    }
</a><a href="#h33-0-253" id="h33-0-253" class="i">+                )
</a><a href="#h33-0-254" id="h33-0-254" class="i">+            },
</a><a href="#h33-0-255" id="h33-0-255" class="i">+            floatingActionButton = {
</a><a href="#h33-0-256" id="h33-0-256" class="i">+                FloatingActionButton(
</a><a href="#h33-0-257" id="h33-0-257" class="i">+                    onClick = {
</a><a href="#h33-0-258" id="h33-0-258" class="i">+                        manager.config.writeConfig()
</a><a href="#h33-0-259" id="h33-0-259" class="i">+                        scope.launch {
</a><a href="#h33-0-260" id="h33-0-260" class="i">+                            scaffoldState.snackbarHostState.showSnackbar(&quot;Saved&quot;)
</a><a href="#h33-0-261" id="h33-0-261" class="i">+                        }
</a><a href="#h33-0-262" id="h33-0-262" class="i">+                    },
</a><a href="#h33-0-263" id="h33-0-263" class="i">+                    modifier = Modifier.padding(25.dp),
</a><a href="#h33-0-264" id="h33-0-264" class="i">+                    containerColor = MaterialTheme.colors.primary,
</a><a href="#h33-0-265" id="h33-0-265" class="i">+                    contentColor = MaterialTheme.colors.onPrimary,
</a><a href="#h33-0-266" id="h33-0-266" class="i">+                    shape = RoundedCornerShape(16.dp),
</a><a href="#h33-0-267" id="h33-0-267" class="i">+                ) {
</a><a href="#h33-0-268" id="h33-0-268" class="i">+                    Icon(
</a><a href="#h33-0-269" id="h33-0-269" class="i">+                        imageVector = Icons.Rounded.Save,
</a><a href="#h33-0-270" id="h33-0-270" class="i">+                        contentDescription = null
</a><a href="#h33-0-271" id="h33-0-271" class="i">+                    )
</a><a href="#h33-0-272" id="h33-0-272" class="i">+                }
</a><a href="#h33-0-273" id="h33-0-273" class="i">+            },
</a><a href="#h33-0-274" id="h33-0-274" class="i">+            content = { innerPadding -&gt;
</a><a href="#h33-0-275" id="h33-0-275" class="i">+                LazyColumn(
</a><a href="#h33-0-276" id="h33-0-276" class="i">+                    modifier = Modifier
</a><a href="#h33-0-277" id="h33-0-277" class="i">+                        .fillMaxHeight()
</a><a href="#h33-0-278" id="h33-0-278" class="i">+                        .padding(innerPadding),
</a><a href="#h33-0-279" id="h33-0-279" class="i">+                    verticalArrangement = Arrangement.Center
</a><a href="#h33-0-280" id="h33-0-280" class="i">+                ) {
</a><a href="#h33-0-281" id="h33-0-281" class="i">+                    items(properties) {
</a><a href="#h33-0-282" id="h33-0-282" class="i">+                        PropertyCard(it)
</a><a href="#h33-0-283" id="h33-0-283" class="i">+                    }
</a><a href="#h33-0-284" id="h33-0-284" class="i">+                }
</a><a href="#h33-0-285" id="h33-0-285" class="i">+            }
</a><a href="#h33-0-286" id="h33-0-286" class="i">+        )
</a><a href="#h33-0-287" id="h33-0-287" class="i">+
</a><a href="#h33-0-288" id="h33-0-288" class="i">+    }
</a><a href="#h33-0-289" id="h33-0-289" class="i">+
</a><a href="#h33-0-290" id="h33-0-290" class="i">+    override fun build(navGraphBuilder: NavGraphBuilder) {
</a><a href="#h33-0-291" id="h33-0-291" class="i">+        val allContainers by lazy {
</a><a href="#h33-0-292" id="h33-0-292" class="i">+            val containers = mutableMapOf&lt;String, ConfigContainer&gt;()
</a><a href="#h33-0-293" id="h33-0-293" class="i">+            fun queryContainerRecursive(container: ConfigContainer) {
</a><a href="#h33-0-294" id="h33-0-294" class="i">+                container.properties.forEach {
</a><a href="#h33-0-295" id="h33-0-295" class="i">+                    if (it.key.dataType.type == DataProcessors.Type.CONTAINER) {
</a><a href="#h33-0-296" id="h33-0-296" class="i">+                        containers[it.key.name] = it.value.get() as ConfigContainer
</a><a href="#h33-0-297" id="h33-0-297" class="i">+                        queryContainerRecursive(it.value.get() as ConfigContainer)
</a><a href="#h33-0-298" id="h33-0-298" class="i">+                    }
</a><a href="#h33-0-299" id="h33-0-299" class="i">+                }
</a><a href="#h33-0-300" id="h33-0-300" class="i">+            }
</a><a href="#h33-0-301" id="h33-0-301" class="i">+            queryContainerRecursive(manager.config.root)
</a><a href="#h33-0-302" id="h33-0-302" class="i">+            containers
</a><a href="#h33-0-303" id="h33-0-303" class="i">+        }
</a><a href="#h33-0-304" id="h33-0-304" class="i">+
</a><a href="#h33-0-305" id="h33-0-305" class="i">+        navGraphBuilder.navigation(route = &quot;features&quot;, startDestination = MAIN_ROUTE) {
</a><a href="#h33-0-306" id="h33-0-306" class="i">+            composable(MAIN_ROUTE) {
</a><a href="#h33-0-307" id="h33-0-307" class="i">+                Container(MAIN_ROUTE, manager.config.root)
</a><a href="#h33-0-308" id="h33-0-308" class="i">+            }
</a><a href="#h33-0-309" id="h33-0-309" class="i">+
</a><a href="#h33-0-310" id="h33-0-310" class="i">+            composable(&quot;container/{name}&quot;) { backStackEntry -&gt;
</a><a href="#h33-0-311" id="h33-0-311" class="i">+                backStackEntry.arguments?.getString(&quot;name&quot;)?.let { containerName -&gt;
</a><a href="#h33-0-312" id="h33-0-312" class="i">+                    allContainers[containerName]?.let {
</a><a href="#h33-0-313" id="h33-0-313" class="i">+                        Container(containerName, it)
</a><a href="#h33-0-314" id="h33-0-314" class="i">+                    }
</a><a href="#h33-0-315" id="h33-0-315" class="i">+                }
</a><a href="#h33-0-316" id="h33-0-316" class="i">+            }
</a><a href="#h33-0-317" id="h33-0-317" class="i">+        }
</a><a href="#h33-0-318" id="h33-0-318" class="i">+    }
</a><a href="#h33-0-319" id="h33-0-319" class="i">+}</a><a href="#h33-0-320" id="h33-0-320" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h34" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/util/SaveFolderChecker.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/util/SaveFolderChecker.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/util/SaveFolderChecker.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/util/SaveFolderChecker.kt</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -0,0 +1,42 @@
</a><a href="#h34-0-0" id="h34-0-0" class="i">+package me.rhunk.snapenhance.ui.manager.util
</a><a href="#h34-0-1" id="h34-0-1" class="i">+
</a><a href="#h34-0-2" id="h34-0-2" class="i">+import android.app.Activity
</a><a href="#h34-0-3" id="h34-0-3" class="i">+import android.app.AlertDialog
</a><a href="#h34-0-4" id="h34-0-4" class="i">+import android.content.Intent
</a><a href="#h34-0-5" id="h34-0-5" class="i">+import android.widget.Toast
</a><a href="#h34-0-6" id="h34-0-6" class="i">+import androidx.activity.ComponentActivity
</a><a href="#h34-0-7" id="h34-0-7" class="i">+import androidx.activity.result.contract.ActivityResultContracts
</a><a href="#h34-0-8" id="h34-0-8" class="i">+import me.rhunk.snapenhance.core.config.PropertyValue
</a><a href="#h34-0-9" id="h34-0-9" class="i">+import kotlin.system.exitProcess
</a><a href="#h34-0-10" id="h34-0-10" class="i">+
</a><a href="#h34-0-11" id="h34-0-11" class="i">+object SaveFolderChecker {
</a><a href="#h34-0-12" id="h34-0-12" class="i">+    fun askForFolder(activity: ComponentActivity, property: PropertyValue&lt;String&gt;, saveConfig: () -&gt; Unit) {
</a><a href="#h34-0-13" id="h34-0-13" class="i">+        if (property.get().isEmpty() || !property.get().startsWith(&quot;content://&quot;)) {
</a><a href="#h34-0-14" id="h34-0-14" class="i">+            val startActivity = activity.registerForActivityResult(ActivityResultContracts.StartActivityForResult()) result@{
</a><a href="#h34-0-15" id="h34-0-15" class="i">+                if (it.resultCode != Activity.RESULT_OK) return@result
</a><a href="#h34-0-16" id="h34-0-16" class="i">+                val uri = it.data?.data ?: return@result
</a><a href="#h34-0-17" id="h34-0-17" class="i">+                val value = uri.toString()
</a><a href="#h34-0-18" id="h34-0-18" class="i">+                activity.contentResolver.takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION)
</a><a href="#h34-0-19" id="h34-0-19" class="i">+                property.set(value)
</a><a href="#h34-0-20" id="h34-0-20" class="i">+                saveConfig()
</a><a href="#h34-0-21" id="h34-0-21" class="i">+                Toast.makeText(activity, &quot;save folder set!&quot;, Toast.LENGTH_SHORT).show()
</a><a href="#h34-0-22" id="h34-0-22" class="i">+                activity.finish()
</a><a href="#h34-0-23" id="h34-0-23" class="i">+            }
</a><a href="#h34-0-24" id="h34-0-24" class="i">+
</a><a href="#h34-0-25" id="h34-0-25" class="i">+            AlertDialog.Builder(activity)
</a><a href="#h34-0-26" id="h34-0-26" class="i">+                .setTitle(&quot;Save folder&quot;)
</a><a href="#h34-0-27" id="h34-0-27" class="i">+                .setMessage(&quot;Please select a folder where you want to save downloaded files.&quot;)
</a><a href="#h34-0-28" id="h34-0-28" class="i">+                .setPositiveButton(&quot;Select&quot;) { _, _ -&gt;
</a><a href="#h34-0-29" id="h34-0-29" class="i">+                    startActivity.launch(
</a><a href="#h34-0-30" id="h34-0-30" class="i">+                        Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)
</a><a href="#h34-0-31" id="h34-0-31" class="i">+                        .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)
</a><a href="#h34-0-32" id="h34-0-32" class="i">+                        .addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION)
</a><a href="#h34-0-33" id="h34-0-33" class="i">+                    )
</a><a href="#h34-0-34" id="h34-0-34" class="i">+                }
</a><a href="#h34-0-35" id="h34-0-35" class="i">+                .setNegativeButton(&quot;Cancel&quot;) { _, _ -&gt;
</a><a href="#h34-0-36" id="h34-0-36" class="i">+                    exitProcess(0)
</a><a href="#h34-0-37" id="h34-0-37" class="i">+                }
</a><a href="#h34-0-38" id="h34-0-38" class="i">+                .show()
</a><a href="#h34-0-39" id="h34-0-39" class="i">+        }
</a><a href="#h34-0-40" id="h34-0-40" class="i">+    }
</a><a href="#h34-0-41" id="h34-0-41" class="i">+}</a><a href="#h34-0-42" id="h34-0-42" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h35" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/Requirements.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/Requirements.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/Requirements.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/Requirements.kt</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -0,0 +1,33 @@
</a><a href="#h35-0-0" id="h35-0-0" class="i">+package me.rhunk.snapenhance.ui.setup
</a><a href="#h35-0-1" id="h35-0-1" class="i">+
</a><a href="#h35-0-2" id="h35-0-2" class="i">+import android.os.Bundle
</a><a href="#h35-0-3" id="h35-0-3" class="i">+
</a><a href="#h35-0-4" id="h35-0-4" class="i">+data class Requirements(
</a><a href="#h35-0-5" id="h35-0-5" class="i">+    val firstRun: Boolean = false,
</a><a href="#h35-0-6" id="h35-0-6" class="i">+    val language: Boolean = false,
</a><a href="#h35-0-7" id="h35-0-7" class="i">+    val mappings: Boolean = false,
</a><a href="#h35-0-8" id="h35-0-8" class="i">+    val saveFolder: Boolean = false,
</a><a href="#h35-0-9" id="h35-0-9" class="i">+    val ffmpeg: Boolean = false
</a><a href="#h35-0-10" id="h35-0-10" class="i">+) {
</a><a href="#h35-0-11" id="h35-0-11" class="i">+    companion object {
</a><a href="#h35-0-12" id="h35-0-12" class="i">+        fun fromBundle(bundle: Bundle): Requirements {
</a><a href="#h35-0-13" id="h35-0-13" class="i">+            return Requirements(
</a><a href="#h35-0-14" id="h35-0-14" class="i">+                firstRun = bundle.getBoolean(&quot;firstRun&quot;),
</a><a href="#h35-0-15" id="h35-0-15" class="i">+                language = bundle.getBoolean(&quot;language&quot;),
</a><a href="#h35-0-16" id="h35-0-16" class="i">+                mappings = bundle.getBoolean(&quot;mappings&quot;),
</a><a href="#h35-0-17" id="h35-0-17" class="i">+                saveFolder = bundle.getBoolean(&quot;saveFolder&quot;),
</a><a href="#h35-0-18" id="h35-0-18" class="i">+                ffmpeg = bundle.getBoolean(&quot;ffmpeg&quot;)
</a><a href="#h35-0-19" id="h35-0-19" class="i">+            )
</a><a href="#h35-0-20" id="h35-0-20" class="i">+        }
</a><a href="#h35-0-21" id="h35-0-21" class="i">+
</a><a href="#h35-0-22" id="h35-0-22" class="i">+        fun toBundle(requirements: Requirements): Bundle {
</a><a href="#h35-0-23" id="h35-0-23" class="i">+            return Bundle().apply {
</a><a href="#h35-0-24" id="h35-0-24" class="i">+                putBoolean(&quot;firstRun&quot;, requirements.firstRun)
</a><a href="#h35-0-25" id="h35-0-25" class="i">+                putBoolean(&quot;language&quot;, requirements.language)
</a><a href="#h35-0-26" id="h35-0-26" class="i">+                putBoolean(&quot;mappings&quot;, requirements.mappings)
</a><a href="#h35-0-27" id="h35-0-27" class="i">+                putBoolean(&quot;saveFolder&quot;, requirements.saveFolder)
</a><a href="#h35-0-28" id="h35-0-28" class="i">+                putBoolean(&quot;ffmpeg&quot;, requirements.ffmpeg)
</a><a href="#h35-0-29" id="h35-0-29" class="i">+            }
</a><a href="#h35-0-30" id="h35-0-30" class="i">+        }
</a><a href="#h35-0-31" id="h35-0-31" class="i">+    }
</a><a href="#h35-0-32" id="h35-0-32" class="i">+}
</a><b>diff --git a/<a id="h36" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupActivity.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupActivity.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupActivity.kt</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -0,0 +1,136 @@
</a><a href="#h36-0-0" id="h36-0-0" class="i">+package me.rhunk.snapenhance.ui.setup
</a><a href="#h36-0-1" id="h36-0-1" class="i">+
</a><a href="#h36-0-2" id="h36-0-2" class="i">+import android.os.Bundle
</a><a href="#h36-0-3" id="h36-0-3" class="i">+import androidx.activity.ComponentActivity
</a><a href="#h36-0-4" id="h36-0-4" class="i">+import androidx.activity.compose.setContent
</a><a href="#h36-0-5" id="h36-0-5" class="i">+import androidx.compose.animation.core.animateFloatAsState
</a><a href="#h36-0-6" id="h36-0-6" class="i">+import androidx.compose.foundation.background
</a><a href="#h36-0-7" id="h36-0-7" class="i">+import androidx.compose.foundation.layout.Arrangement
</a><a href="#h36-0-8" id="h36-0-8" class="i">+import androidx.compose.foundation.layout.Column
</a><a href="#h36-0-9" id="h36-0-9" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a><a href="#h36-0-10" id="h36-0-10" class="i">+import androidx.compose.foundation.layout.fillMaxWidth
</a><a href="#h36-0-11" id="h36-0-11" class="i">+import androidx.compose.foundation.layout.height
</a><a href="#h36-0-12" id="h36-0-12" class="i">+import androidx.compose.foundation.layout.padding
</a><a href="#h36-0-13" id="h36-0-13" class="i">+import androidx.compose.foundation.layout.width
</a><a href="#h36-0-14" id="h36-0-14" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h36-0-15" id="h36-0-15" class="i">+import androidx.compose.material.icons.filled.ArrowForwardIos
</a><a href="#h36-0-16" id="h36-0-16" class="i">+import androidx.compose.material3.FilledIconButton
</a><a href="#h36-0-17" id="h36-0-17" class="i">+import androidx.compose.material3.Icon
</a><a href="#h36-0-18" id="h36-0-18" class="i">+import androidx.compose.material3.MaterialTheme
</a><a href="#h36-0-19" id="h36-0-19" class="i">+import androidx.compose.material3.Scaffold
</a><a href="#h36-0-20" id="h36-0-20" class="i">+import androidx.compose.runtime.getValue
</a><a href="#h36-0-21" id="h36-0-21" class="i">+import androidx.compose.runtime.mutableStateOf
</a><a href="#h36-0-22" id="h36-0-22" class="i">+import androidx.compose.runtime.remember
</a><a href="#h36-0-23" id="h36-0-23" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h36-0-24" id="h36-0-24" class="i">+import androidx.compose.ui.Modifier
</a><a href="#h36-0-25" id="h36-0-25" class="i">+import androidx.compose.ui.draw.alpha
</a><a href="#h36-0-26" id="h36-0-26" class="i">+import androidx.compose.ui.unit.dp
</a><a href="#h36-0-27" id="h36-0-27" class="i">+import androidx.navigation.compose.NavHost
</a><a href="#h36-0-28" id="h36-0-28" class="i">+import androidx.navigation.compose.composable
</a><a href="#h36-0-29" id="h36-0-29" class="i">+import androidx.navigation.compose.rememberNavController
</a><a href="#h36-0-30" id="h36-0-30" class="i">+import me.rhunk.snapenhance.ui.AppMaterialTheme
</a><a href="#h36-0-31" id="h36-0-31" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h36-0-32" id="h36-0-32" class="i">+import me.rhunk.snapenhance.ui.setup.screens.impl.FfmpegScreen
</a><a href="#h36-0-33" id="h36-0-33" class="i">+import me.rhunk.snapenhance.ui.setup.screens.impl.LanguageScreen
</a><a href="#h36-0-34" id="h36-0-34" class="i">+import me.rhunk.snapenhance.ui.setup.screens.impl.MappingsScreen
</a><a href="#h36-0-35" id="h36-0-35" class="i">+import me.rhunk.snapenhance.ui.setup.screens.impl.SaveFolderScreen
</a><a href="#h36-0-36" id="h36-0-36" class="i">+import me.rhunk.snapenhance.ui.setup.screens.impl.WelcomeScreen
</a><a href="#h36-0-37" id="h36-0-37" class="i">+
</a><a href="#h36-0-38" id="h36-0-38" class="i">+
</a><a href="#h36-0-39" id="h36-0-39" class="i">+class SetupActivity : ComponentActivity() {
</a><a href="#h36-0-40" id="h36-0-40" class="i">+    override fun onCreate(savedInstanceState: Bundle?) {
</a><a href="#h36-0-41" id="h36-0-41" class="i">+        super.onCreate(savedInstanceState)
</a><a href="#h36-0-42" id="h36-0-42" class="i">+
</a><a href="#h36-0-43" id="h36-0-43" class="i">+        val requirements = intent.getBundleExtra(&quot;requirements&quot;)?.let {
</a><a href="#h36-0-44" id="h36-0-44" class="i">+            Requirements.fromBundle(it)
</a><a href="#h36-0-45" id="h36-0-45" class="i">+        } ?: Requirements(firstRun = true)
</a><a href="#h36-0-46" id="h36-0-46" class="i">+
</a><a href="#h36-0-47" id="h36-0-47" class="i">+        val requiredScreens = mutableListOf&lt;SetupScreen&gt;()
</a><a href="#h36-0-48" id="h36-0-48" class="i">+
</a><a href="#h36-0-49" id="h36-0-49" class="i">+        with(requiredScreens) {
</a><a href="#h36-0-50" id="h36-0-50" class="i">+            with(requirements) {
</a><a href="#h36-0-51" id="h36-0-51" class="i">+                if (firstRun || language) add(LanguageScreen().apply { route = &quot;language&quot; })
</a><a href="#h36-0-52" id="h36-0-52" class="i">+                if (firstRun) add(WelcomeScreen().apply { route = &quot;welcome&quot; })
</a><a href="#h36-0-53" id="h36-0-53" class="i">+                if (firstRun || saveFolder) add(SaveFolderScreen().apply { route = &quot;saveFolder&quot; })
</a><a href="#h36-0-54" id="h36-0-54" class="i">+                if (firstRun || mappings) add(MappingsScreen().apply { route = &quot;mappings&quot; })
</a><a href="#h36-0-55" id="h36-0-55" class="i">+                if (firstRun || ffmpeg) add(FfmpegScreen().apply { route = &quot;ffmpeg&quot; })
</a><a href="#h36-0-56" id="h36-0-56" class="i">+            }
</a><a href="#h36-0-57" id="h36-0-57" class="i">+        }
</a><a href="#h36-0-58" id="h36-0-58" class="i">+
</a><a href="#h36-0-59" id="h36-0-59" class="i">+        if (requiredScreens.isEmpty()) {
</a><a href="#h36-0-60" id="h36-0-60" class="i">+            finish()
</a><a href="#h36-0-61" id="h36-0-61" class="i">+            return
</a><a href="#h36-0-62" id="h36-0-62" class="i">+        }
</a><a href="#h36-0-63" id="h36-0-63" class="i">+
</a><a href="#h36-0-64" id="h36-0-64" class="i">+        setContent {
</a><a href="#h36-0-65" id="h36-0-65" class="i">+            val navController = rememberNavController()
</a><a href="#h36-0-66" id="h36-0-66" class="i">+            val canGoNext = remember { mutableStateOf(false) }
</a><a href="#h36-0-67" id="h36-0-67" class="i">+
</a><a href="#h36-0-68" id="h36-0-68" class="i">+            fun nextScreen() {
</a><a href="#h36-0-69" id="h36-0-69" class="i">+                if (!canGoNext.value) return
</a><a href="#h36-0-70" id="h36-0-70" class="i">+                canGoNext.value = false
</a><a href="#h36-0-71" id="h36-0-71" class="i">+                if (requiredScreens.size &gt; 1) {
</a><a href="#h36-0-72" id="h36-0-72" class="i">+                    requiredScreens.removeFirst()
</a><a href="#h36-0-73" id="h36-0-73" class="i">+                    navController.navigate(requiredScreens.first().route)
</a><a href="#h36-0-74" id="h36-0-74" class="i">+                } else {
</a><a href="#h36-0-75" id="h36-0-75" class="i">+                    finish()
</a><a href="#h36-0-76" id="h36-0-76" class="i">+                }
</a><a href="#h36-0-77" id="h36-0-77" class="i">+            }
</a><a href="#h36-0-78" id="h36-0-78" class="i">+
</a><a href="#h36-0-79" id="h36-0-79" class="i">+            AppMaterialTheme {
</a><a href="#h36-0-80" id="h36-0-80" class="i">+                Scaffold(
</a><a href="#h36-0-81" id="h36-0-81" class="i">+                    containerColor = MaterialTheme.colorScheme.background,
</a><a href="#h36-0-82" id="h36-0-82" class="i">+                    bottomBar = {
</a><a href="#h36-0-83" id="h36-0-83" class="i">+                        Column(
</a><a href="#h36-0-84" id="h36-0-84" class="i">+                            modifier = Modifier
</a><a href="#h36-0-85" id="h36-0-85" class="i">+                                .fillMaxWidth(),
</a><a href="#h36-0-86" id="h36-0-86" class="i">+                            horizontalAlignment = Alignment.CenterHorizontally
</a><a href="#h36-0-87" id="h36-0-87" class="i">+                        ) {
</a><a href="#h36-0-88" id="h36-0-88" class="i">+                            val alpha: Float by animateFloatAsState(if (canGoNext.value) 1f else 0f,
</a><a href="#h36-0-89" id="h36-0-89" class="i">+                                label = &quot;NextButton&quot;
</a><a href="#h36-0-90" id="h36-0-90" class="i">+                            )
</a><a href="#h36-0-91" id="h36-0-91" class="i">+
</a><a href="#h36-0-92" id="h36-0-92" class="i">+                            FilledIconButton(
</a><a href="#h36-0-93" id="h36-0-93" class="i">+                                onClick = { nextScreen() },
</a><a href="#h36-0-94" id="h36-0-94" class="i">+                                modifier = Modifier.padding(50.dp)
</a><a href="#h36-0-95" id="h36-0-95" class="i">+                                    .width(60.dp)
</a><a href="#h36-0-96" id="h36-0-96" class="i">+                                    .height(60.dp)
</a><a href="#h36-0-97" id="h36-0-97" class="i">+                                    .alpha(alpha)
</a><a href="#h36-0-98" id="h36-0-98" class="i">+                            ) {
</a><a href="#h36-0-99" id="h36-0-99" class="i">+                                Icon(
</a><a href="#h36-0-100" id="h36-0-100" class="i">+                                    imageVector = Icons.Default.ArrowForwardIos,
</a><a href="#h36-0-101" id="h36-0-101" class="i">+                                    contentDescription = null
</a><a href="#h36-0-102" id="h36-0-102" class="i">+                                )
</a><a href="#h36-0-103" id="h36-0-103" class="i">+                            }
</a><a href="#h36-0-104" id="h36-0-104" class="i">+                        }
</a><a href="#h36-0-105" id="h36-0-105" class="i">+                    },
</a><a href="#h36-0-106" id="h36-0-106" class="i">+                ) { paddingValues -&gt;
</a><a href="#h36-0-107" id="h36-0-107" class="i">+                    Column(
</a><a href="#h36-0-108" id="h36-0-108" class="i">+                        modifier = Modifier
</a><a href="#h36-0-109" id="h36-0-109" class="i">+                            .background(MaterialTheme.colorScheme.background)
</a><a href="#h36-0-110" id="h36-0-110" class="i">+                            .fillMaxSize()
</a><a href="#h36-0-111" id="h36-0-111" class="i">+                            .padding(paddingValues)
</a><a href="#h36-0-112" id="h36-0-112" class="i">+                    ) {
</a><a href="#h36-0-113" id="h36-0-113" class="i">+                        NavHost(
</a><a href="#h36-0-114" id="h36-0-114" class="i">+                            navController = navController,
</a><a href="#h36-0-115" id="h36-0-115" class="i">+                            startDestination = requiredScreens.first().route
</a><a href="#h36-0-116" id="h36-0-116" class="i">+                        ) {
</a><a href="#h36-0-117" id="h36-0-117" class="i">+                            requiredScreens.forEach { screen -&gt;
</a><a href="#h36-0-118" id="h36-0-118" class="i">+                                screen.allowNext = { canGoNext.value = it }
</a><a href="#h36-0-119" id="h36-0-119" class="i">+                                composable(screen.route) {
</a><a href="#h36-0-120" id="h36-0-120" class="i">+                                    Column(
</a><a href="#h36-0-121" id="h36-0-121" class="i">+                                        modifier = Modifier.fillMaxSize(),
</a><a href="#h36-0-122" id="h36-0-122" class="i">+                                        verticalArrangement = Arrangement.Center,
</a><a href="#h36-0-123" id="h36-0-123" class="i">+                                        horizontalAlignment = Alignment.CenterHorizontally
</a><a href="#h36-0-124" id="h36-0-124" class="i">+                                    ) {
</a><a href="#h36-0-125" id="h36-0-125" class="i">+                                        screen.Content()
</a><a href="#h36-0-126" id="h36-0-126" class="i">+                                    }
</a><a href="#h36-0-127" id="h36-0-127" class="i">+                                }
</a><a href="#h36-0-128" id="h36-0-128" class="i">+                            }
</a><a href="#h36-0-129" id="h36-0-129" class="i">+                        }
</a><a href="#h36-0-130" id="h36-0-130" class="i">+                    }
</a><a href="#h36-0-131" id="h36-0-131" class="i">+                }
</a><a href="#h36-0-132" id="h36-0-132" class="i">+            }
</a><a href="#h36-0-133" id="h36-0-133" class="i">+        }
</a><a href="#h36-0-134" id="h36-0-134" class="i">+    }
</a><a href="#h36-0-135" id="h36-0-135" class="i">+}</a><a href="#h36-0-136" id="h36-0-136" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h37" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupContext.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupContext.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/SetupContext.kt</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h37-0-0" id="h37-0-0" class="i">+package me.rhunk.snapenhance.ui.setup
</a><a href="#h37-0-1" id="h37-0-1" class="i">+
</a><a href="#h37-0-2" id="h37-0-2" class="i">+import android.content.Context
</a><a href="#h37-0-3" id="h37-0-3" class="i">+import me.rhunk.snapenhance.core.config.ModConfig
</a><a href="#h37-0-4" id="h37-0-4" class="i">+
</a><a href="#h37-0-5" id="h37-0-5" class="i">+class SetupContext(
</a><a href="#h37-0-6" id="h37-0-6" class="i">+    private val context: Context
</a><a href="#h37-0-7" id="h37-0-7" class="i">+) {
</a><a href="#h37-0-8" id="h37-0-8" class="i">+    val config = ModConfig()
</a><a href="#h37-0-9" id="h37-0-9" class="i">+
</a><a href="#h37-0-10" id="h37-0-10" class="i">+    init {
</a><a href="#h37-0-11" id="h37-0-11" class="i">+        config.loadFromContext(context)
</a><a href="#h37-0-12" id="h37-0-12" class="i">+    }
</a><a href="#h37-0-13" id="h37-0-13" class="i">+}</a><a href="#h37-0-14" id="h37-0-14" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h38" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/SetupScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/SetupScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/SetupScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/SetupScreen.kt</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h38-0-0" id="h38-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens
</a><a href="#h38-0-1" id="h38-0-1" class="i">+
</a><a href="#h38-0-2" id="h38-0-2" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h38-0-3" id="h38-0-3" class="i">+
</a><a href="#h38-0-4" id="h38-0-4" class="i">+abstract class SetupScreen {
</a><a href="#h38-0-5" id="h38-0-5" class="i">+    lateinit var allowNext: (Boolean) -&gt; Unit
</a><a href="#h38-0-6" id="h38-0-6" class="i">+    lateinit var route: String
</a><a href="#h38-0-7" id="h38-0-7" class="i">+
</a><a href="#h38-0-8" id="h38-0-8" class="i">+    @Composable
</a><a href="#h38-0-9" id="h38-0-9" class="i">+    abstract fun Content()
</a><a href="#h38-0-10" id="h38-0-10" class="i">+}</a><a href="#h38-0-11" id="h38-0-11" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h39" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/FfmpegScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/FfmpegScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/FfmpegScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/FfmpegScreen.kt</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -0,0 +1,17 @@
</a><a href="#h39-0-0" id="h39-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens.impl
</a><a href="#h39-0-1" id="h39-0-1" class="i">+
</a><a href="#h39-0-2" id="h39-0-2" class="i">+import androidx.compose.material3.Button
</a><a href="#h39-0-3" id="h39-0-3" class="i">+import androidx.compose.material3.Text
</a><a href="#h39-0-4" id="h39-0-4" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h39-0-5" id="h39-0-5" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h39-0-6" id="h39-0-6" class="i">+
</a><a href="#h39-0-7" id="h39-0-7" class="i">+class FfmpegScreen : SetupScreen() {
</a><a href="#h39-0-8" id="h39-0-8" class="i">+
</a><a href="#h39-0-9" id="h39-0-9" class="i">+    @Composable
</a><a href="#h39-0-10" id="h39-0-10" class="i">+    override fun Content() {
</a><a href="#h39-0-11" id="h39-0-11" class="i">+        Text(text = &quot;FFmpeg&quot;)
</a><a href="#h39-0-12" id="h39-0-12" class="i">+        Button(onClick = { allowNext(true) }) {
</a><a href="#h39-0-13" id="h39-0-13" class="i">+            Text(text = &quot;Next&quot;)
</a><a href="#h39-0-14" id="h39-0-14" class="i">+        }
</a><a href="#h39-0-15" id="h39-0-15" class="i">+    }
</a><a href="#h39-0-16" id="h39-0-16" class="i">+}</a><a href="#h39-0-17" id="h39-0-17" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h40" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/LanguageScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/LanguageScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/LanguageScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/LanguageScreen.kt</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h40-0-0" id="h40-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens.impl
</a><a href="#h40-0-1" id="h40-0-1" class="i">+
</a><a href="#h40-0-2" id="h40-0-2" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h40-0-3" id="h40-0-3" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h40-0-4" id="h40-0-4" class="i">+
</a><a href="#h40-0-5" id="h40-0-5" class="i">+class LanguageScreen : SetupScreen(){
</a><a href="#h40-0-6" id="h40-0-6" class="i">+    @Composable
</a><a href="#h40-0-7" id="h40-0-7" class="i">+    override fun Content() {
</a><a href="#h40-0-8" id="h40-0-8" class="i">+
</a><a href="#h40-0-9" id="h40-0-9" class="i">+    }
</a><a href="#h40-0-10" id="h40-0-10" class="i">+}</a><a href="#h40-0-11" id="h40-0-11" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h41" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/MappingsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/MappingsScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/MappingsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/MappingsScreen.kt</a></b>
<a href="#h41-0" id="h41-0" class="h">@@ -0,0 +1,16 @@
</a><a href="#h41-0-0" id="h41-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens.impl
</a><a href="#h41-0-1" id="h41-0-1" class="i">+
</a><a href="#h41-0-2" id="h41-0-2" class="i">+import androidx.compose.material3.Button
</a><a href="#h41-0-3" id="h41-0-3" class="i">+import androidx.compose.material3.Text
</a><a href="#h41-0-4" id="h41-0-4" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h41-0-5" id="h41-0-5" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h41-0-6" id="h41-0-6" class="i">+
</a><a href="#h41-0-7" id="h41-0-7" class="i">+class MappingsScreen : SetupScreen() {
</a><a href="#h41-0-8" id="h41-0-8" class="i">+    @Composable
</a><a href="#h41-0-9" id="h41-0-9" class="i">+    override fun Content() {
</a><a href="#h41-0-10" id="h41-0-10" class="i">+        Text(text = &quot;Mappings&quot;)
</a><a href="#h41-0-11" id="h41-0-11" class="i">+        Button(onClick = { allowNext(true) }) {
</a><a href="#h41-0-12" id="h41-0-12" class="i">+            Text(text = &quot;Next&quot;)
</a><a href="#h41-0-13" id="h41-0-13" class="i">+        }
</a><a href="#h41-0-14" id="h41-0-14" class="i">+    }
</a><a href="#h41-0-15" id="h41-0-15" class="i">+}</a><a href="#h41-0-16" id="h41-0-16" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h42" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/SaveFolderScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/SaveFolderScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/SaveFolderScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/SaveFolderScreen.kt</a></b>
<a href="#h42-0" id="h42-0" class="h">@@ -0,0 +1,17 @@
</a><a href="#h42-0-0" id="h42-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens.impl
</a><a href="#h42-0-1" id="h42-0-1" class="i">+
</a><a href="#h42-0-2" id="h42-0-2" class="i">+import androidx.compose.material3.Button
</a><a href="#h42-0-3" id="h42-0-3" class="i">+import androidx.compose.material3.Text
</a><a href="#h42-0-4" id="h42-0-4" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h42-0-5" id="h42-0-5" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h42-0-6" id="h42-0-6" class="i">+
</a><a href="#h42-0-7" id="h42-0-7" class="i">+class SaveFolderScreen : SetupScreen() {
</a><a href="#h42-0-8" id="h42-0-8" class="i">+
</a><a href="#h42-0-9" id="h42-0-9" class="i">+    @Composable
</a><a href="#h42-0-10" id="h42-0-10" class="i">+    override fun Content() {
</a><a href="#h42-0-11" id="h42-0-11" class="i">+        Text(text = &quot;SaveFolder&quot;)
</a><a href="#h42-0-12" id="h42-0-12" class="i">+        Button(onClick = {allowNext(true)}) {
</a><a href="#h42-0-13" id="h42-0-13" class="i">+            Text(text = &quot;Next&quot;)
</a><a href="#h42-0-14" id="h42-0-14" class="i">+        }
</a><a href="#h42-0-15" id="h42-0-15" class="i">+    }
</a><a href="#h42-0-16" id="h42-0-16" class="i">+}</a><a href="#h42-0-17" id="h42-0-17" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h43" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/WelcomeScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/WelcomeScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/WelcomeScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/WelcomeScreen.kt</a></b>
<a href="#h43-0" id="h43-0" class="h">@@ -0,0 +1,17 @@
</a><a href="#h43-0-0" id="h43-0-0" class="i">+package me.rhunk.snapenhance.ui.setup.screens.impl
</a><a href="#h43-0-1" id="h43-0-1" class="i">+
</a><a href="#h43-0-2" id="h43-0-2" class="i">+import androidx.compose.material3.Button
</a><a href="#h43-0-3" id="h43-0-3" class="i">+import androidx.compose.material3.Text
</a><a href="#h43-0-4" id="h43-0-4" class="i">+import androidx.compose.runtime.Composable
</a><a href="#h43-0-5" id="h43-0-5" class="i">+import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
</a><a href="#h43-0-6" id="h43-0-6" class="i">+
</a><a href="#h43-0-7" id="h43-0-7" class="i">+class WelcomeScreen : SetupScreen() {
</a><a href="#h43-0-8" id="h43-0-8" class="i">+
</a><a href="#h43-0-9" id="h43-0-9" class="i">+    @Composable
</a><a href="#h43-0-10" id="h43-0-10" class="i">+    override fun Content() {
</a><a href="#h43-0-11" id="h43-0-11" class="i">+        Text(text = &quot;Welcome&quot;)
</a><a href="#h43-0-12" id="h43-0-12" class="i">+        Button(onClick = { allowNext(true) }) {
</a><a href="#h43-0-13" id="h43-0-13" class="i">+            Text(text = &quot;Next&quot;)
</a><a href="#h43-0-14" id="h43-0-14" class="i">+        }
</a><a href="#h43-0-15" id="h43-0-15" class="i">+    }
</a><a href="#h43-0-16" id="h43-0-16" class="i">+}</a><a href="#h43-0-17" id="h43-0-17" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h44" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/ModContext.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/ModContext.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/ModContext.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/ModContext.kt</a></b>
<a href="#h44-0" id="h44-0" class="h">@@ -12,7 +12,7 @@ import com.google.gson.Gson
</a> import com.google.gson.GsonBuilder
 import kotlinx.coroutines.asCoroutineDispatcher
 import me.rhunk.snapenhance.bridge.BridgeClient
<a href="#h44-0-3" id="h44-0-3" class="d">-import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h44-0-4" id="h44-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a> import me.rhunk.snapenhance.core.config.ModConfig
 import me.rhunk.snapenhance.core.eventbus.EventBus
 import me.rhunk.snapenhance.data.MessageSender
<a href="#h44-1" id="h44-1" class="h">@@ -45,7 +45,7 @@ class ModContext {
</a>     val event = EventBus(this)
     val eventDispatcher = EventDispatcher(this)
 
<a href="#h44-1-3" id="h44-1-3" class="d">-    val translation = TranslationWrapper()
</a><a href="#h44-1-4" id="h44-1-4" class="i">+    val translation = LocaleWrapper()
</a>     val features = FeatureManager(this)
     val mappings = MappingManager(this)
     val actionManager = ActionManager(this)
<b>diff --git a/<a id="h45" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/SharedContext.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/SharedContext.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/SharedContext.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/SharedContext.kt</a></b>
<a href="#h45-0" id="h45-0" class="h">@@ -7,7 +7,7 @@ import android.content.Intent
</a> import android.os.Build
 import android.os.Environment
 import android.provider.Settings
<a href="#h45-0-3" id="h45-0-3" class="d">-import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h45-0-4" id="h45-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a> import me.rhunk.snapenhance.download.DownloadTaskManager
 import kotlin.system.exitProcess
 
<a href="#h45-1" id="h45-1" class="h">@@ -16,7 +16,7 @@ import kotlin.system.exitProcess
</a>  */
 object SharedContext {
     lateinit var downloadTaskManager: DownloadTaskManager
<a href="#h45-1-3" id="h45-1-3" class="d">-    lateinit var translation: TranslationWrapper
</a><a href="#h45-1-4" id="h45-1-4" class="i">+    lateinit var translation: LocaleWrapper
</a> 
     private fun askForStoragePermission(context: Context) {
         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {
<a href="#h45-2" id="h45-2" class="h">@@ -70,7 +70,7 @@ object SharedContext {
</a>             }
         }
         if (!this::translation.isInitialized) {
<a href="#h45-2-3" id="h45-2-3" class="d">-            translation = TranslationWrapper().apply {
</a><a href="#h45-2-4" id="h45-2-4" class="i">+            translation = LocaleWrapper().apply {
</a>                 loadFromContext(context)
             }
         }
<b>diff --git a/<a id="h46" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeService.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeService.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeService.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/BridgeService.kt</a></b>
<a href="#h46-0" id="h46-0" class="h">@@ -6,7 +6,7 @@ import android.os.IBinder
</a> import me.rhunk.snapenhance.SharedContext
 import me.rhunk.snapenhance.bridge.types.BridgeFileType
 import me.rhunk.snapenhance.bridge.wrapper.MessageLoggerWrapper
<a href="#h46-0-3" id="h46-0-3" class="d">-import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h46-0-4" id="h46-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a> import me.rhunk.snapenhance.download.DownloadProcessor
 
 class BridgeService : Service() {
<a href="#h46-1" id="h46-1" class="h">@@ -85,7 +85,7 @@ class BridgeService : Service() {
</a> 
         override fun clearMessageLogger() = messageLoggerWrapper.clearMessages()
 
<a href="#h46-1-3" id="h46-1-3" class="d">-        override fun fetchTranslations() = TranslationWrapper.fetchLocales(context = this@BridgeService).associate {
</a><a href="#h46-1-4" id="h46-1-4" class="i">+        override fun fetchTranslations() = LocaleWrapper.fetchLocales(context = this@BridgeService).associate {
</a>             it.locale to it.content
         }
 
<b>diff --git a/<a id="h47" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/LocaleWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/LocaleWrapper.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/LocaleWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/LocaleWrapper.kt</a></b>
<a href="#h47-0" id="h47-0" class="h">@@ -0,0 +1,97 @@
</a><a href="#h47-0-0" id="h47-0-0" class="i">+package me.rhunk.snapenhance.bridge.wrapper
</a><a href="#h47-0-1" id="h47-0-1" class="i">+
</a><a href="#h47-0-2" id="h47-0-2" class="i">+import android.content.Context
</a><a href="#h47-0-3" id="h47-0-3" class="i">+import com.google.gson.JsonObject
</a><a href="#h47-0-4" id="h47-0-4" class="i">+import com.google.gson.JsonParser
</a><a href="#h47-0-5" id="h47-0-5" class="i">+import me.rhunk.snapenhance.Logger
</a><a href="#h47-0-6" id="h47-0-6" class="i">+import me.rhunk.snapenhance.bridge.BridgeClient
</a><a href="#h47-0-7" id="h47-0-7" class="i">+import me.rhunk.snapenhance.data.LocalePair
</a><a href="#h47-0-8" id="h47-0-8" class="i">+import java.util.Locale
</a><a href="#h47-0-9" id="h47-0-9" class="i">+
</a><a href="#h47-0-10" id="h47-0-10" class="i">+
</a><a href="#h47-0-11" id="h47-0-11" class="i">+class LocaleWrapper {
</a><a href="#h47-0-12" id="h47-0-12" class="i">+    companion object {
</a><a href="#h47-0-13" id="h47-0-13" class="i">+        const val DEFAULT_LOCALE = &quot;en_US&quot;
</a><a href="#h47-0-14" id="h47-0-14" class="i">+
</a><a href="#h47-0-15" id="h47-0-15" class="i">+        fun fetchLocales(context: Context): List&lt;LocalePair&gt; {
</a><a href="#h47-0-16" id="h47-0-16" class="i">+            val deviceLocale = Locale.getDefault().toString()
</a><a href="#h47-0-17" id="h47-0-17" class="i">+            val locales = mutableListOf&lt;LocalePair&gt;()
</a><a href="#h47-0-18" id="h47-0-18" class="i">+
</a><a href="#h47-0-19" id="h47-0-19" class="i">+            locales.add(LocalePair(DEFAULT_LOCALE, context.resources.assets.open(&quot;lang/$DEFAULT_LOCALE.json&quot;).bufferedReader().use { it.readText() }))
</a><a href="#h47-0-20" id="h47-0-20" class="i">+
</a><a href="#h47-0-21" id="h47-0-21" class="i">+            if (deviceLocale == DEFAULT_LOCALE) return locales
</a><a href="#h47-0-22" id="h47-0-22" class="i">+
</a><a href="#h47-0-23" id="h47-0-23" class="i">+            val compatibleLocale = context.resources.assets.list(&quot;lang&quot;)?.firstOrNull { it.startsWith(deviceLocale) }?.substring(0, 5) ?: return locales
</a><a href="#h47-0-24" id="h47-0-24" class="i">+
</a><a href="#h47-0-25" id="h47-0-25" class="i">+            context.resources.assets.open(&quot;lang/$compatibleLocale.json&quot;).use { inputStream -&gt;
</a><a href="#h47-0-26" id="h47-0-26" class="i">+                locales.add(LocalePair(compatibleLocale, inputStream.bufferedReader().use { it.readText() }))
</a><a href="#h47-0-27" id="h47-0-27" class="i">+            }
</a><a href="#h47-0-28" id="h47-0-28" class="i">+
</a><a href="#h47-0-29" id="h47-0-29" class="i">+            return locales
</a><a href="#h47-0-30" id="h47-0-30" class="i">+        }
</a><a href="#h47-0-31" id="h47-0-31" class="i">+    }
</a><a href="#h47-0-32" id="h47-0-32" class="i">+
</a><a href="#h47-0-33" id="h47-0-33" class="i">+
</a><a href="#h47-0-34" id="h47-0-34" class="i">+    private val translationMap = linkedMapOf&lt;String, String&gt;()
</a><a href="#h47-0-35" id="h47-0-35" class="i">+    private lateinit var _locale: String
</a><a href="#h47-0-36" id="h47-0-36" class="i">+
</a><a href="#h47-0-37" id="h47-0-37" class="i">+    val locale by lazy {
</a><a href="#h47-0-38" id="h47-0-38" class="i">+        Locale(_locale.substring(0, 2), _locale.substring(3, 5))
</a><a href="#h47-0-39" id="h47-0-39" class="i">+    }
</a><a href="#h47-0-40" id="h47-0-40" class="i">+
</a><a href="#h47-0-41" id="h47-0-41" class="i">+    private fun load(localePair: LocalePair) {
</a><a href="#h47-0-42" id="h47-0-42" class="i">+        if (!::_locale.isInitialized) {
</a><a href="#h47-0-43" id="h47-0-43" class="i">+            _locale = localePair.locale
</a><a href="#h47-0-44" id="h47-0-44" class="i">+        }
</a><a href="#h47-0-45" id="h47-0-45" class="i">+
</a><a href="#h47-0-46" id="h47-0-46" class="i">+        val translations = JsonParser.parseString(localePair.content).asJsonObject
</a><a href="#h47-0-47" id="h47-0-47" class="i">+        if (translations == null || translations.isJsonNull) {
</a><a href="#h47-0-48" id="h47-0-48" class="i">+            return
</a><a href="#h47-0-49" id="h47-0-49" class="i">+        }
</a><a href="#h47-0-50" id="h47-0-50" class="i">+
</a><a href="#h47-0-51" id="h47-0-51" class="i">+        fun scanObject(jsonObject: JsonObject, prefix: String = &quot;&quot;) {
</a><a href="#h47-0-52" id="h47-0-52" class="i">+            jsonObject.entrySet().forEach {
</a><a href="#h47-0-53" id="h47-0-53" class="i">+                if (it.value.isJsonPrimitive) {
</a><a href="#h47-0-54" id="h47-0-54" class="i">+                    val key = &quot;$prefix${it.key}&quot;
</a><a href="#h47-0-55" id="h47-0-55" class="i">+                    translationMap[key] = it.value.asString
</a><a href="#h47-0-56" id="h47-0-56" class="i">+                }
</a><a href="#h47-0-57" id="h47-0-57" class="i">+                if (!it.value.isJsonObject) return@forEach
</a><a href="#h47-0-58" id="h47-0-58" class="i">+                scanObject(it.value.asJsonObject, &quot;$prefix${it.key}.&quot;)
</a><a href="#h47-0-59" id="h47-0-59" class="i">+            }
</a><a href="#h47-0-60" id="h47-0-60" class="i">+        }
</a><a href="#h47-0-61" id="h47-0-61" class="i">+
</a><a href="#h47-0-62" id="h47-0-62" class="i">+        scanObject(translations)
</a><a href="#h47-0-63" id="h47-0-63" class="i">+    }
</a><a href="#h47-0-64" id="h47-0-64" class="i">+
</a><a href="#h47-0-65" id="h47-0-65" class="i">+    fun loadFromBridge(bridgeClient: BridgeClient) {
</a><a href="#h47-0-66" id="h47-0-66" class="i">+        bridgeClient.fetchTranslations().forEach {
</a><a href="#h47-0-67" id="h47-0-67" class="i">+            load(it)
</a><a href="#h47-0-68" id="h47-0-68" class="i">+        }
</a><a href="#h47-0-69" id="h47-0-69" class="i">+    }
</a><a href="#h47-0-70" id="h47-0-70" class="i">+
</a><a href="#h47-0-71" id="h47-0-71" class="i">+    fun loadFromContext(context: Context) {
</a><a href="#h47-0-72" id="h47-0-72" class="i">+        fetchLocales(context).forEach {
</a><a href="#h47-0-73" id="h47-0-73" class="i">+            load(it)
</a><a href="#h47-0-74" id="h47-0-74" class="i">+        }
</a><a href="#h47-0-75" id="h47-0-75" class="i">+    }
</a><a href="#h47-0-76" id="h47-0-76" class="i">+
</a><a href="#h47-0-77" id="h47-0-77" class="i">+    operator fun get(key: String): String {
</a><a href="#h47-0-78" id="h47-0-78" class="i">+        return translationMap[key] ?: key.also { Logger.debug(&quot;Missing translation for $key&quot;) }
</a><a href="#h47-0-79" id="h47-0-79" class="i">+    }
</a><a href="#h47-0-80" id="h47-0-80" class="i">+
</a><a href="#h47-0-81" id="h47-0-81" class="i">+    fun format(key: String, vararg args: Pair&lt;String, String&gt;): String {
</a><a href="#h47-0-82" id="h47-0-82" class="i">+        return args.fold(get(key)) { acc, pair -&gt;
</a><a href="#h47-0-83" id="h47-0-83" class="i">+            acc.replace(&quot;{${pair.first}}&quot;, pair.second)
</a><a href="#h47-0-84" id="h47-0-84" class="i">+        }
</a><a href="#h47-0-85" id="h47-0-85" class="i">+    }
</a><a href="#h47-0-86" id="h47-0-86" class="i">+
</a><a href="#h47-0-87" id="h47-0-87" class="i">+    fun getCategory(key: String): LocaleWrapper {
</a><a href="#h47-0-88" id="h47-0-88" class="i">+        return LocaleWrapper().apply {
</a><a href="#h47-0-89" id="h47-0-89" class="i">+            translationMap.putAll(
</a><a href="#h47-0-90" id="h47-0-90" class="i">+                this@LocaleWrapper.translationMap
</a><a href="#h47-0-91" id="h47-0-91" class="i">+                    .filterKeys { it.startsWith(&quot;$key.&quot;) }
</a><a href="#h47-0-92" id="h47-0-92" class="i">+                    .mapKeys { it.key.substring(key.length + 1) }
</a><a href="#h47-0-93" id="h47-0-93" class="i">+            )
</a><a href="#h47-0-94" id="h47-0-94" class="i">+        }
</a><a href="#h47-0-95" id="h47-0-95" class="i">+    }
</a><a href="#h47-0-96" id="h47-0-96" class="i">+}</a><a href="#h47-0-97" id="h47-0-97" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h48" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/TranslationWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/TranslationWrapper.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/TranslationWrapper.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/bridge/wrapper/TranslationWrapper.kt</a></b>
<a href="#h48-0" id="h48-0" class="h">@@ -1,97 +0,0 @@
</a><a href="#h48-0-0" id="h48-0-0" class="d">-package me.rhunk.snapenhance.bridge.wrapper
</a><a href="#h48-0-1" id="h48-0-1" class="d">-
</a><a href="#h48-0-2" id="h48-0-2" class="d">-import android.content.Context
</a><a href="#h48-0-3" id="h48-0-3" class="d">-import com.google.gson.JsonObject
</a><a href="#h48-0-4" id="h48-0-4" class="d">-import com.google.gson.JsonParser
</a><a href="#h48-0-5" id="h48-0-5" class="d">-import me.rhunk.snapenhance.Logger
</a><a href="#h48-0-6" id="h48-0-6" class="d">-import me.rhunk.snapenhance.bridge.BridgeClient
</a><a href="#h48-0-7" id="h48-0-7" class="d">-import me.rhunk.snapenhance.data.LocalePair
</a><a href="#h48-0-8" id="h48-0-8" class="d">-import java.util.Locale
</a><a href="#h48-0-9" id="h48-0-9" class="d">-
</a><a href="#h48-0-10" id="h48-0-10" class="d">-
</a><a href="#h48-0-11" id="h48-0-11" class="d">-class TranslationWrapper {
</a><a href="#h48-0-12" id="h48-0-12" class="d">-    companion object {
</a><a href="#h48-0-13" id="h48-0-13" class="d">-        private const val DEFAULT_LOCALE = &quot;en_US&quot;
</a><a href="#h48-0-14" id="h48-0-14" class="d">-
</a><a href="#h48-0-15" id="h48-0-15" class="d">-        fun fetchLocales(context: Context): List&lt;LocalePair&gt; {
</a><a href="#h48-0-16" id="h48-0-16" class="d">-            val deviceLocale = Locale.getDefault().toString()
</a><a href="#h48-0-17" id="h48-0-17" class="d">-            val locales = mutableListOf&lt;LocalePair&gt;()
</a><a href="#h48-0-18" id="h48-0-18" class="d">-
</a><a href="#h48-0-19" id="h48-0-19" class="d">-            locales.add(LocalePair(DEFAULT_LOCALE, context.resources.assets.open(&quot;lang/$DEFAULT_LOCALE.json&quot;).bufferedReader().use { it.readText() }))
</a><a href="#h48-0-20" id="h48-0-20" class="d">-
</a><a href="#h48-0-21" id="h48-0-21" class="d">-            if (deviceLocale == DEFAULT_LOCALE) return locales
</a><a href="#h48-0-22" id="h48-0-22" class="d">-
</a><a href="#h48-0-23" id="h48-0-23" class="d">-            val compatibleLocale = context.resources.assets.list(&quot;lang&quot;)?.firstOrNull { it.startsWith(deviceLocale) }?.substring(0, 5) ?: return locales
</a><a href="#h48-0-24" id="h48-0-24" class="d">-
</a><a href="#h48-0-25" id="h48-0-25" class="d">-            context.resources.assets.open(&quot;lang/$compatibleLocale.json&quot;).use { inputStream -&gt;
</a><a href="#h48-0-26" id="h48-0-26" class="d">-                locales.add(LocalePair(compatibleLocale, inputStream.bufferedReader().use { it.readText() }))
</a><a href="#h48-0-27" id="h48-0-27" class="d">-            }
</a><a href="#h48-0-28" id="h48-0-28" class="d">-
</a><a href="#h48-0-29" id="h48-0-29" class="d">-            return locales
</a><a href="#h48-0-30" id="h48-0-30" class="d">-        }
</a><a href="#h48-0-31" id="h48-0-31" class="d">-    }
</a><a href="#h48-0-32" id="h48-0-32" class="d">-
</a><a href="#h48-0-33" id="h48-0-33" class="d">-
</a><a href="#h48-0-34" id="h48-0-34" class="d">-    private val translationMap = linkedMapOf&lt;String, String&gt;()
</a><a href="#h48-0-35" id="h48-0-35" class="d">-    private lateinit var _locale: String
</a><a href="#h48-0-36" id="h48-0-36" class="d">-
</a><a href="#h48-0-37" id="h48-0-37" class="d">-    val locale by lazy {
</a><a href="#h48-0-38" id="h48-0-38" class="d">-        Locale(_locale.substring(0, 2), _locale.substring(3, 5))
</a><a href="#h48-0-39" id="h48-0-39" class="d">-    }
</a><a href="#h48-0-40" id="h48-0-40" class="d">-
</a><a href="#h48-0-41" id="h48-0-41" class="d">-    private fun load(localePair: LocalePair) {
</a><a href="#h48-0-42" id="h48-0-42" class="d">-        if (!::_locale.isInitialized) {
</a><a href="#h48-0-43" id="h48-0-43" class="d">-            _locale = localePair.locale
</a><a href="#h48-0-44" id="h48-0-44" class="d">-        }
</a><a href="#h48-0-45" id="h48-0-45" class="d">-
</a><a href="#h48-0-46" id="h48-0-46" class="d">-        val translations = JsonParser.parseString(localePair.content).asJsonObject
</a><a href="#h48-0-47" id="h48-0-47" class="d">-        if (translations == null || translations.isJsonNull) {
</a><a href="#h48-0-48" id="h48-0-48" class="d">-            return
</a><a href="#h48-0-49" id="h48-0-49" class="d">-        }
</a><a href="#h48-0-50" id="h48-0-50" class="d">-
</a><a href="#h48-0-51" id="h48-0-51" class="d">-        fun scanObject(jsonObject: JsonObject, prefix: String = &quot;&quot;) {
</a><a href="#h48-0-52" id="h48-0-52" class="d">-            jsonObject.entrySet().forEach {
</a><a href="#h48-0-53" id="h48-0-53" class="d">-                if (it.value.isJsonPrimitive) {
</a><a href="#h48-0-54" id="h48-0-54" class="d">-                    val key = &quot;$prefix${it.key}&quot;
</a><a href="#h48-0-55" id="h48-0-55" class="d">-                    translationMap[key] = it.value.asString
</a><a href="#h48-0-56" id="h48-0-56" class="d">-                }
</a><a href="#h48-0-57" id="h48-0-57" class="d">-                if (!it.value.isJsonObject) return@forEach
</a><a href="#h48-0-58" id="h48-0-58" class="d">-                scanObject(it.value.asJsonObject, &quot;$prefix${it.key}.&quot;)
</a><a href="#h48-0-59" id="h48-0-59" class="d">-            }
</a><a href="#h48-0-60" id="h48-0-60" class="d">-        }
</a><a href="#h48-0-61" id="h48-0-61" class="d">-
</a><a href="#h48-0-62" id="h48-0-62" class="d">-        scanObject(translations)
</a><a href="#h48-0-63" id="h48-0-63" class="d">-    }
</a><a href="#h48-0-64" id="h48-0-64" class="d">-
</a><a href="#h48-0-65" id="h48-0-65" class="d">-    fun loadFromBridge(bridgeClient: BridgeClient) {
</a><a href="#h48-0-66" id="h48-0-66" class="d">-        bridgeClient.fetchTranslations().forEach {
</a><a href="#h48-0-67" id="h48-0-67" class="d">-            load(it)
</a><a href="#h48-0-68" id="h48-0-68" class="d">-        }
</a><a href="#h48-0-69" id="h48-0-69" class="d">-    }
</a><a href="#h48-0-70" id="h48-0-70" class="d">-
</a><a href="#h48-0-71" id="h48-0-71" class="d">-    fun loadFromContext(context: Context) {
</a><a href="#h48-0-72" id="h48-0-72" class="d">-        fetchLocales(context).forEach {
</a><a href="#h48-0-73" id="h48-0-73" class="d">-            load(it)
</a><a href="#h48-0-74" id="h48-0-74" class="d">-        }
</a><a href="#h48-0-75" id="h48-0-75" class="d">-    }
</a><a href="#h48-0-76" id="h48-0-76" class="d">-
</a><a href="#h48-0-77" id="h48-0-77" class="d">-    operator fun get(key: String): String {
</a><a href="#h48-0-78" id="h48-0-78" class="d">-        return translationMap[key] ?: key.also { Logger.debug(&quot;Missing translation for $key&quot;) }
</a><a href="#h48-0-79" id="h48-0-79" class="d">-    }
</a><a href="#h48-0-80" id="h48-0-80" class="d">-
</a><a href="#h48-0-81" id="h48-0-81" class="d">-    fun format(key: String, vararg args: Pair&lt;String, String&gt;): String {
</a><a href="#h48-0-82" id="h48-0-82" class="d">-        return args.fold(get(key)) { acc, pair -&gt;
</a><a href="#h48-0-83" id="h48-0-83" class="d">-            acc.replace(&quot;{${pair.first}}&quot;, pair.second)
</a><a href="#h48-0-84" id="h48-0-84" class="d">-        }
</a><a href="#h48-0-85" id="h48-0-85" class="d">-    }
</a><a href="#h48-0-86" id="h48-0-86" class="d">-
</a><a href="#h48-0-87" id="h48-0-87" class="d">-    fun getCategory(key: String): TranslationWrapper {
</a><a href="#h48-0-88" id="h48-0-88" class="d">-        return TranslationWrapper().apply {
</a><a href="#h48-0-89" id="h48-0-89" class="d">-            translationMap.putAll(
</a><a href="#h48-0-90" id="h48-0-90" class="d">-                this@TranslationWrapper.translationMap
</a><a href="#h48-0-91" id="h48-0-91" class="d">-                    .filterKeys { it.startsWith(&quot;$key.&quot;) }
</a><a href="#h48-0-92" id="h48-0-92" class="d">-                    .mapKeys { it.key.substring(key.length + 1) }
</a><a href="#h48-0-93" id="h48-0-93" class="d">-            )
</a><a href="#h48-0-94" id="h48-0-94" class="d">-        }
</a><a href="#h48-0-95" id="h48-0-95" class="d">-    }
</a><a href="#h48-0-96" id="h48-0-96" class="d">-}</a><a href="#h48-0-97" id="h48-0-97" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h49" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/ModConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/ModConfig.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/ModConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/ModConfig.kt</a></b>
<a href="#h49-0" id="h49-0" class="h">@@ -8,17 +8,21 @@ import me.rhunk.snapenhance.Logger
</a> import me.rhunk.snapenhance.bridge.BridgeClient
 import me.rhunk.snapenhance.bridge.FileLoaderWrapper
 import me.rhunk.snapenhance.bridge.types.BridgeFileType
<a href="#h49-0-3" id="h49-0-3" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a> import me.rhunk.snapenhance.core.config.impl.RootConfig
 
<a href="#h49-0-6" id="h49-0-6" class="d">-class ModConfig() {
</a><a href="#h49-0-7" id="h49-0-7" class="d">-    val root = RootConfig()
</a><a href="#h49-0-8" id="h49-0-8" class="i">+class ModConfig {
</a> 
<a href="#h49-0-10" id="h49-0-10" class="d">-    companion object {
</a><a href="#h49-0-11" id="h49-0-11" class="d">-        val gson: Gson = GsonBuilder().setPrettyPrinting().create()
</a><a href="#h49-0-12" id="h49-0-12" class="d">-    }
</a><a href="#h49-0-13" id="h49-0-13" class="i">+    var locale: String = LocaleWrapper.DEFAULT_LOCALE
</a><a href="#h49-0-14" id="h49-0-14" class="i">+        set(value) {
</a><a href="#h49-0-15" id="h49-0-15" class="i">+            field = value
</a><a href="#h49-0-16" id="h49-0-16" class="i">+            writeConfig()
</a><a href="#h49-0-17" id="h49-0-17" class="i">+        }
</a> 
<a href="#h49-0-19" id="h49-0-19" class="i">+    private val gson: Gson = GsonBuilder().setPrettyPrinting().create()
</a>     private val file = FileLoaderWrapper(BridgeFileType.CONFIG, &quot;{}&quot;.toByteArray(Charsets.UTF_8))
 
<a href="#h49-0-22" id="h49-0-22" class="i">+    val root = RootConfig()
</a>     operator fun getValue(thisRef: Any?, property: Any?) = root
 
     private fun load() {
<a href="#h49-1" id="h49-1" class="h">@@ -36,12 +40,14 @@ class ModConfig() {
</a>     }
 
     private fun loadConfig() {
<a href="#h49-1-3" id="h49-1-3" class="d">-        val configContent = file.read()
</a><a href="#h49-1-4" id="h49-1-4" class="d">-        root.fromJson(gson.fromJson(configContent.toString(Charsets.UTF_8), JsonObject::class.java))
</a><a href="#h49-1-5" id="h49-1-5" class="i">+        val configFileContent = file.read()
</a><a href="#h49-1-6" id="h49-1-6" class="i">+        val configObject = gson.fromJson(configFileContent.toString(Charsets.UTF_8), JsonObject::class.java)
</a><a href="#h49-1-7" id="h49-1-7" class="i">+        locale = configObject.get(&quot;language&quot;)?.asString ?: LocaleWrapper.DEFAULT_LOCALE
</a>     }
 
     fun writeConfig() {
         val configObject = root.toJson()
<a href="#h49-1-12" id="h49-1-12" class="i">+        configObject.addProperty(&quot;language&quot;, locale)
</a>         file.write(configObject.toString().toByteArray(Charsets.UTF_8))
     }
 
<b>diff --git a/<a id="h50" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/ui/download/DownloadManagerActivity.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/ui/download/DownloadManagerActivity.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/ui/download/DownloadManagerActivity.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/ui/download/DownloadManagerActivity.kt</a></b>
<a href="#h50-0" id="h50-0" class="h">@@ -16,13 +16,13 @@ import android.widget.TextView
</a> import androidx.recyclerview.widget.ItemTouchHelper
 import androidx.recyclerview.widget.RecyclerView
 import me.rhunk.snapenhance.SharedContext
<a href="#h50-0-3" id="h50-0-3" class="d">-import me.rhunk.snapenhance.bridge.wrapper.TranslationWrapper
</a><a href="#h50-0-4" id="h50-0-4" class="i">+import me.rhunk.snapenhance.bridge.wrapper.LocaleWrapper
</a> import me.rhunk.snapenhance.core.BuildConfig
 import me.rhunk.snapenhance.core.R
 import me.rhunk.snapenhance.download.data.PendingDownload
 
 class DownloadManagerActivity : Activity() {
<a href="#h50-0-10" id="h50-0-10" class="d">-    lateinit var translation: TranslationWrapper
</a><a href="#h50-0-11" id="h50-0-11" class="i">+    lateinit var translation: LocaleWrapper
</a> 
     private val backCallbacks = mutableListOf&lt;() -&gt; Unit&gt;()
     private val fetchedDownloadTasks = mutableListOf&lt;PendingDownload&gt;()
</pre>
</div>
</body>
</html>
