<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>main branch merge - SnapEnhance - An Xposed module offering an enhanced Snapchat experience
</title>
<link rel="icon" type="image/svg+xml" href="../../logo.png"/>
<link rel="alternate icon" href="../../favicon.png"/>
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<link rel="stylesheet" type="text/css" href="../../fonts.css" />
</head>
<body>
<div id="head"><table><tr><td><a class="logo" href="../../"><img src="../../logo.png" alt="" width="32" height="32" /></a></td><td><strong>SnapEnhance</strong><span class="desc"> - An Xposed module offering an enhanced Snapchat experience
</span>
</td></tr></table>
<p><a href="../about.html">About</a> | <a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/.gitmodules.html">Submodules</a> | <a href="../file/LICENSE.html">License</a></p>
</div>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/8e87e7c84d100c55ef05bc475df12b0de01c6233.html">8e87e7c84d100c55ef05bc475df12b0de01c6233</a>
<b>parent</b> <a href="../commit/00b6f25933373c5a4a2d093641763a8caa61ea5f.html">00b6f25933373c5a4a2d093641763a8caa61ea5f</a>
<b>Author:</b> rhunk &lt;<a href="mailto:101876869+rhunk@users.noreply.github.com">101876869+rhunk@users.noreply.github.com</a>&gt;
<b>Date:</b>   Sun,  6 Aug 2023 17:04:18 +0200

main branch merge

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">.github/ISSUE_TEMPLATE/bug_report.yml</a></td><td> | </td><td class="num">57</td><td><span class="i">++++++++++++++++++++++++</span><span class="d">---------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">.github/ISSUE_TEMPLATE/feature_suggestion.yml</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">README.md</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/Experimental.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="D">D</td><td><a href="#h4">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigEnumKeys.kt</a></td><td> | </td><td class="num">107</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h5">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigurationOverride.kt</a></td><td> | </td><td class="num">84</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/MediaDownloader.kt</a></td><td> | </td><td class="num">9</td><td><span class="i">++++</span><span class="d">-----</span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/experiments/NoFriendScoreDelay.kt</a></td><td> | </td><td class="num">21</td><td><span class="i">+++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/tweaks/CameraTweaks.kt</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">core/src/main/kotlin/me/rhunk/snapenhance/hook/Hooker.kt</a></td><td> | </td><td class="num">94</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">---------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/FeatureManager.kt</a></td><td> | </td><td class="num">6</td><td><span class="i">++++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/MappingManager.kt</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
<tr><td class="R">R</td><td><a href="#h12">core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperMacros.kt -&gt; core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperExt.kt</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">core/src/main/res/layout/precise_location_dialog.xml</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="A">A</td><td><a href="#h14">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/CompositeConfigurationProviderMapper.kt</a></td><td> | </td><td class="num">56</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/DefaultMediaItemMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h16">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/EnumMapper.kt</a></td><td> | </td><td class="num">56</td><td><span class="i">++++</span><span class="d">----------------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h17">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/FriendsFeedEventDispatcherMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h18">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/MediaQualityLevelProviderMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h19">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/PlatformAnalyticsCreatorMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h20">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScCameraSettingsMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h21">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScoreUpdateMapper.kt</a></td><td> | </td><td class="num">26</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h22">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/StoryBoostStateMapper.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">mapper/src/test/kotlin/me/rhunk/snapenhance/mapper/tests/TestMappings.kt</a></td><td> | </td><td class="num">4</td><td><span class="i">+++</span><span class="d">-</span></td></tr>
</table></pre><pre>24 files changed, 293 insertions(+), 263 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/.github/ISSUE_TEMPLATE/bug_report.yml.html">.github/ISSUE_TEMPLATE/bug_report.yml</a> b/<a href="../file/.github/ISSUE_TEMPLATE/bug_report.yml.html">.github/ISSUE_TEMPLATE/bug_report.yml</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,64 +1,55 @@
</a> name: &quot;Bug report&quot;
<a href="#h0-0-1" id="h0-0-1" class="d">-description: Report an issue to help the project improve.
</a><a href="#h0-0-2" id="h0-0-2" class="d">-title: &quot;bug: &lt;title&gt;&quot;
</a><a href="#h0-0-3" id="h0-0-3" class="d">-labels: [
</a><a href="#h0-0-4" id="h0-0-4" class="d">-  &quot;bug&quot;
</a><a href="#h0-0-5" id="h0-0-5" class="d">-]
</a><a href="#h0-0-6" id="h0-0-6" class="i">+description: &quot;Report an issue to help the project improve.&quot;
</a><a href="#h0-0-7" id="h0-0-7" class="i">+title: &quot;bug: TITLE&quot;
</a><a href="#h0-0-8" id="h0-0-8" class="i">+labels:
</a><a href="#h0-0-9" id="h0-0-9" class="i">+  - &quot;bug&quot;
</a> body:
   - type: textarea
     id: description
     attributes:
       label: &quot;Description&quot;
<a href="#h0-0-15" id="h0-0-15" class="d">-      description: Please enter an explicit description of your issue
</a><a href="#h0-0-16" id="h0-0-16" class="d">-      placeholder: Short and explicit description of your incident...
</a><a href="#h0-0-17" id="h0-0-17" class="i">+      description: &quot;Please enter an explicit description of your issue&quot;
</a><a href="#h0-0-18" id="h0-0-18" class="i">+      placeholder: &quot;Short and explicit description of your incident...&quot;
</a>     validations:
       required: true
   - type: textarea
     id: reprod
     attributes:
       label: &quot;Reproduction steps&quot;
<a href="#h0-0-25" id="h0-0-25" class="d">-      description: Steps to reproduce the behavior
</a><a href="#h0-0-26" id="h0-0-26" class="i">+      description: &quot;Steps to reproduce the behavior&quot;
</a>       value: |
<a href="#h0-0-28" id="h0-0-28" class="d">-        1. Go to &#39;...&#39;
</a><a href="#h0-0-29" id="h0-0-29" class="d">-        2. Click on &#39;....&#39;
</a><a href="#h0-0-30" id="h0-0-30" class="d">-        3. Scroll down to &#39;....&#39;
</a><a href="#h0-0-31" id="h0-0-31" class="d">-        4. See error
</a><a href="#h0-0-32" id="h0-0-32" class="d">-      render: bash
</a><a href="#h0-0-33" id="h0-0-33" class="i">+        1. Go to `...`
</a><a href="#h0-0-34" id="h0-0-34" class="i">+        2. Click on `....`
</a><a href="#h0-0-35" id="h0-0-35" class="i">+        3. Scroll down to `....`
</a><a href="#h0-0-36" id="h0-0-36" class="i">+        4. See error.
</a>     validations:
       required: true
   - type: textarea
<a href="#h0-0-40" id="h0-0-40" class="d">-    id: screenshot
</a><a href="#h0-0-41" id="h0-0-41" class="d">-    attributes:
</a><a href="#h0-0-42" id="h0-0-42" class="d">-      label: &quot;Screenshots&quot;
</a><a href="#h0-0-43" id="h0-0-43" class="d">-      description: If applicable, add screenshots to help explain your problem
</a><a href="#h0-0-44" id="h0-0-44" class="d">-      value: |
</a><a href="#h0-0-45" id="h0-0-45" class="d">-        ![DESCRIPTION](LINK.png)
</a><a href="#h0-0-46" id="h0-0-46" class="d">-      render: bash
</a><a href="#h0-0-47" id="h0-0-47" class="d">-    validations:
</a><a href="#h0-0-48" id="h0-0-48" class="d">-      required: false
</a><a href="#h0-0-49" id="h0-0-49" class="d">-  - type: textarea
</a>     id: logs
     attributes:
       label: &quot;Logs&quot;
<a href="#h0-0-53" id="h0-0-53" class="d">-      description: Please copy and paste any relevant log output if available
</a><a href="#h0-0-54" id="h0-0-54" class="d">-      render: bash
</a><a href="#h0-0-55" id="h0-0-55" class="i">+      description: &quot;Please copy and paste any relevant log output if available&quot;
</a><a href="#h0-0-56" id="h0-0-56" class="i">+      render: markdown
</a>     validations:
       required: false
   - type: input
     id: snapchat-version
     attributes:
       label: &quot;Snapchat Version&quot;
<a href="#h0-0-63" id="h0-0-63" class="d">-      description: On which Snapchat version is this happening?
</a><a href="#h0-0-64" id="h0-0-64" class="d">-      placeholder: ex. 12.35.0.45
</a><a href="#h0-0-65" id="h0-0-65" class="i">+      description: &quot;On which Snapchat version is this happening?&quot;
</a><a href="#h0-0-66" id="h0-0-66" class="i">+      placeholder: &quot;ex. 12.35.0.45&quot;
</a>     validations:
       required: true
   - type: checkboxes
     id: terms
     attributes:
<a href="#h0-0-72" id="h0-0-72" class="d">-      label: Agreement
</a><a href="#h0-0-73" id="h0-0-73" class="d">-      description: By creating this issue I made sure that ...
</a><a href="#h0-0-74" id="h0-0-74" class="i">+      label: &quot;Agreement&quot;
</a><a href="#h0-0-75" id="h0-0-75" class="i">+      description: &quot;By creating this issue, I agree to the following terms:&quot;
</a>       options:
<a href="#h0-0-77" id="h0-0-77" class="d">-        - label: I am using the latest stable SnapEnhance version.
</a><a href="#h0-0-78" id="h0-0-78" class="d">-          required: true
</a><a href="#h0-0-79" id="h0-0-79" class="d">-        - label: There is no issue already describing my problem.
</a><a href="#h0-0-80" id="h0-0-80" class="d">-          required: true
</a><a href="#h0-0-81" id="h0-0-81" class="i">+        - label: &quot;I am using the latest stable SnapEnhance version.&quot;
</a><a href="#h0-0-82" id="h0-0-82" class="i">+        - label: &quot;This is not a bug regarding Snapchat+.&quot;
</a><a href="#h0-0-83" id="h0-0-83" class="i">+        - label: &quot;I have provided a detailed description of the issue.&quot;
</a><a href="#h0-0-84" id="h0-0-84" class="i">+        - label: &quot;I have attached a log if deemed neccessary.&quot;
</a><a href="#h0-0-85" id="h0-0-85" class="i">+        - label: &quot;This issue is not a duplicate.&quot;
</a><a href="#h0-0-86" id="h0-0-86" class="i">+    validations:
</a><a href="#h0-0-87" id="h0-0-87" class="i">+      required: true
</a><b>diff --git a/<a id="h1" href="../file/.github/ISSUE_TEMPLATE/feature_suggestion.yml.html">.github/ISSUE_TEMPLATE/feature_suggestion.yml</a> b/<a href="../file/.github/ISSUE_TEMPLATE/feature_suggestion.yml.html">.github/ISSUE_TEMPLATE/feature_suggestion.yml</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,6 +1,6 @@
</a> name: &quot;Feature suggestion&quot;
 description: Suggest a new feature to help the project improve.
<a href="#h1-0-2" id="h1-0-2" class="d">-title: &quot;feat: &lt;title&gt;&quot;
</a><a href="#h1-0-3" id="h1-0-3" class="i">+title: &quot;feat: TITLE&quot;
</a> labels: [
   &quot;enhancement&quot;
 ]
<b>diff --git a/<a id="h2" href="../file/README.md.html">README.md</a> b/<a href="../file/README.md.html">README.md</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -99,3 +99,4 @@ When redistributing the software, it must remain under the same [GPLv3](https://
</a> - [RevealedSoulEven](https://github.com/revealedsouleven)
 - [iBasim](https://github.com/ibasim)
 - [xerta555](https://github.com/xerta555)
<a href="#h2-0-3" id="h2-0-3" class="i">+- [TheVisual](https://github.com/TheVisual)
</a><b>diff --git a/<a id="h3" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/Experimental.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/Experimental.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/Experimental.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/Experimental.kt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -8,4 +8,5 @@ class Experimental : ConfigContainer() {
</a>     val infiniteStoryBoost = boolean(&quot;infinite_story_boost&quot;)
     val meoPasscodeBypass = boolean(&quot;meo_passcode_bypass&quot;)
     val unlimitedMultiSnap = boolean(&quot;unlimited_multi_snap&quot;)
<a href="#h3-0-3" id="h3-0-3" class="i">+    val noFriendScoreDelay = boolean(&quot;no_friend_score_delay&quot;)
</a> } 
\ No newline at end of file
<b>diff --git a/<a id="h4" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigEnumKeys.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigEnumKeys.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigEnumKeys.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigEnumKeys.kt</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -1,106 +0,0 @@
</a><a href="#h4-0-0" id="h4-0-0" class="d">-package me.rhunk.snapenhance.features.impl
</a><a href="#h4-0-1" id="h4-0-1" class="d">-
</a><a href="#h4-0-2" id="h4-0-2" class="d">-import android.annotation.SuppressLint
</a><a href="#h4-0-3" id="h4-0-3" class="d">-import me.rhunk.snapenhance.features.Feature
</a><a href="#h4-0-4" id="h4-0-4" class="d">-import me.rhunk.snapenhance.features.FeatureLoadParams
</a><a href="#h4-0-5" id="h4-0-5" class="d">-import me.rhunk.snapenhance.hook.HookStage
</a><a href="#h4-0-6" id="h4-0-6" class="d">-import me.rhunk.snapenhance.hook.hook
</a><a href="#h4-0-7" id="h4-0-7" class="d">-import me.rhunk.snapenhance.util.getObjectField
</a><a href="#h4-0-8" id="h4-0-8" class="d">-import me.rhunk.snapenhance.util.setObjectField
</a><a href="#h4-0-9" id="h4-0-9" class="d">-import java.lang.reflect.Field
</a><a href="#h4-0-10" id="h4-0-10" class="d">-import java.lang.reflect.Modifier
</a><a href="#h4-0-11" id="h4-0-11" class="d">-import java.lang.reflect.Type
</a><a href="#h4-0-12" id="h4-0-12" class="d">-
</a><a href="#h4-0-13" id="h4-0-13" class="d">-class ConfigEnumKeys : Feature(&quot;Config enum keys&quot;, loadParams = FeatureLoadParams.ACTIVITY_CREATE_SYNC) {
</a><a href="#h4-0-14" id="h4-0-14" class="d">-
</a><a href="#h4-0-15" id="h4-0-15" class="d">-    data class HookEnumContext(
</a><a href="#h4-0-16" id="h4-0-16" class="d">-        val key: String,
</a><a href="#h4-0-17" id="h4-0-17" class="d">-        val type: Type?,
</a><a href="#h4-0-18" id="h4-0-18" class="d">-        val value: Any?,
</a><a href="#h4-0-19" id="h4-0-19" class="d">-        val set: (Any) -&gt; Unit
</a><a href="#h4-0-20" id="h4-0-20" class="d">-    )
</a><a href="#h4-0-21" id="h4-0-21" class="d">-
</a><a href="#h4-0-22" id="h4-0-22" class="d">-    companion object {
</a><a href="#h4-0-23" id="h4-0-23" class="d">-        fun hookAllEnums(enumClass: Class&lt;*&gt;, callback: HookEnumContext.() -&gt; Unit) {
</a><a href="#h4-0-24" id="h4-0-24" class="d">-            //Enum(String, int, ?)
</a><a href="#h4-0-25" id="h4-0-25" class="d">-            //or Enum(?)
</a><a href="#h4-0-26" id="h4-0-26" class="d">-            val enumDataClass = enumClass.constructors[0].parameterTypes.first { clazz: Class&lt;*&gt; -&gt; clazz != String::class.java &amp;&amp; !clazz.isPrimitive }
</a><a href="#h4-0-27" id="h4-0-27" class="d">-
</a><a href="#h4-0-28" id="h4-0-28" class="d">-            //get the field which contains the enum data class
</a><a href="#h4-0-29" id="h4-0-29" class="d">-            val enumDataField = enumClass.declaredFields.first { field: Field -&gt; field.type == enumDataClass }
</a><a href="#h4-0-30" id="h4-0-30" class="d">-
</a><a href="#h4-0-31" id="h4-0-31" class="d">-            val typeField = enumDataClass.declaredFields.first { field: Field -&gt; field.type == Type::class.java }
</a><a href="#h4-0-32" id="h4-0-32" class="d">-
</a><a href="#h4-0-33" id="h4-0-33" class="d">-            //get the field value of the enum data class (the first field of the class with the desc Object)
</a><a href="#h4-0-34" id="h4-0-34" class="d">-            val objectDataField = enumDataField.type.fields.first { field: Field -&gt;
</a><a href="#h4-0-35" id="h4-0-35" class="d">-                field.type == Any::class.java &amp;&amp; Modifier.isPublic(
</a><a href="#h4-0-36" id="h4-0-36" class="d">-                    field.modifiers
</a><a href="#h4-0-37" id="h4-0-37" class="d">-                ) &amp;&amp; Modifier.isFinal(field.modifiers)
</a><a href="#h4-0-38" id="h4-0-38" class="d">-            }
</a><a href="#h4-0-39" id="h4-0-39" class="d">-
</a><a href="#h4-0-40" id="h4-0-40" class="d">-            enumClass.enumConstants.forEach { enum -&gt;
</a><a href="#h4-0-41" id="h4-0-41" class="d">-                enumDataField.get(enum)?.let { enumData -&gt;
</a><a href="#h4-0-42" id="h4-0-42" class="d">-                    val key = enum.toString()
</a><a href="#h4-0-43" id="h4-0-43" class="d">-                    val type = typeField.get(enumData) as Type?
</a><a href="#h4-0-44" id="h4-0-44" class="d">-                    val value = enumData.getObjectField(objectDataField.name)
</a><a href="#h4-0-45" id="h4-0-45" class="d">-                    val set = { newValue: Any -&gt;
</a><a href="#h4-0-46" id="h4-0-46" class="d">-                        enumData.setObjectField(objectDataField.name, newValue)
</a><a href="#h4-0-47" id="h4-0-47" class="d">-                    }
</a><a href="#h4-0-48" id="h4-0-48" class="d">-                    callback(HookEnumContext(key, type, value, set))
</a><a href="#h4-0-49" id="h4-0-49" class="d">-                }
</a><a href="#h4-0-50" id="h4-0-50" class="d">-            }
</a><a href="#h4-0-51" id="h4-0-51" class="d">-        }
</a><a href="#h4-0-52" id="h4-0-52" class="d">-    }
</a><a href="#h4-0-53" id="h4-0-53" class="d">-
</a><a href="#h4-0-54" id="h4-0-54" class="d">-    @SuppressLint(&quot;PrivateApi&quot;)
</a><a href="#h4-0-55" id="h4-0-55" class="d">-    override fun onActivityCreate() {
</a><a href="#h4-0-56" id="h4-0-56" class="d">-        if (context.config.userInterface.mapFriendNameTags.get()) {
</a><a href="#h4-0-57" id="h4-0-57" class="d">-            hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;PLUS&quot;)) {
</a><a href="#h4-0-58" id="h4-0-58" class="d">-                if (key == &quot;REDUCE_MY_PROFILE_UI_COMPLEXITY&quot;) set(true)
</a><a href="#h4-0-59" id="h4-0-59" class="d">-            }
</a><a href="#h4-0-60" id="h4-0-60" class="d">-        }
</a><a href="#h4-0-61" id="h4-0-61" class="d">-
</a><a href="#h4-0-62" id="h4-0-62" class="d">-        hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;ARROYO&quot;)) {
</a><a href="#h4-0-63" id="h4-0-63" class="d">-            if (key == &quot;ENABLE_LONG_SNAP_SENDING&quot;) {
</a><a href="#h4-0-64" id="h4-0-64" class="d">-                if (context.config.global.disableSnapSplitting.get()) set(true)
</a><a href="#h4-0-65" id="h4-0-65" class="d">-            }
</a><a href="#h4-0-66" id="h4-0-66" class="d">-        }
</a><a href="#h4-0-67" id="h4-0-67" class="d">-
</a><a href="#h4-0-68" id="h4-0-68" class="d">-        if (context.config.userInterface.streakExpirationInfo.get()) {
</a><a href="#h4-0-69" id="h4-0-69" class="d">-            hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;FRIENDS_FEED&quot;)) {
</a><a href="#h4-0-70" id="h4-0-70" class="d">-                if (key == &quot;STREAK_EXPIRATION_INFO&quot;) set(true)
</a><a href="#h4-0-71" id="h4-0-71" class="d">-            }
</a><a href="#h4-0-72" id="h4-0-72" class="d">-        }
</a><a href="#h4-0-73" id="h4-0-73" class="d">-
</a><a href="#h4-0-74" id="h4-0-74" class="d">-        if (context.config.userInterface.blockAds.get()) {
</a><a href="#h4-0-75" id="h4-0-75" class="d">-            hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;SNAPADS&quot;)) {
</a><a href="#h4-0-76" id="h4-0-76" class="d">-                if (key == &quot;BYPASS_AD_FEATURE_GATE&quot;) {
</a><a href="#h4-0-77" id="h4-0-77" class="d">-                    set(true)
</a><a href="#h4-0-78" id="h4-0-78" class="d">-                }
</a><a href="#h4-0-79" id="h4-0-79" class="d">-                if (key == &quot;CUSTOM_AD_SERVER_URL&quot; || key == &quot;CUSTOM_AD_INIT_SERVER_URL&quot; || key == &quot;CUSTOM_AD_TRACKER_URL&quot;) {
</a><a href="#h4-0-80" id="h4-0-80" class="d">-                    set(&quot;http://127.0.0.1&quot;)
</a><a href="#h4-0-81" id="h4-0-81" class="d">-                }
</a><a href="#h4-0-82" id="h4-0-82" class="d">-            }
</a><a href="#h4-0-83" id="h4-0-83" class="d">-        }
</a><a href="#h4-0-84" id="h4-0-84" class="d">-
</a><a href="#h4-0-85" id="h4-0-85" class="d">-        context.config.userInterface.storyViewerOverride.getNullable()?.let { value -&gt;
</a><a href="#h4-0-86" id="h4-0-86" class="d">-            hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;DISCOVER_FEED&quot;)) {
</a><a href="#h4-0-87" id="h4-0-87" class="d">-                if (key == &quot;DF_ENABLE_SHOWS_PAGE_CONTROLS&quot; &amp;&amp; value == &quot;DISCOVER_PLAYBACK_SEEKBAR&quot;) {
</a><a href="#h4-0-88" id="h4-0-88" class="d">-                    set(true)
</a><a href="#h4-0-89" id="h4-0-89" class="d">-                }
</a><a href="#h4-0-90" id="h4-0-90" class="d">-                if (key == &quot;DF_VOPERA_FOR_STORIES&quot; &amp;&amp; value == &quot;VERTICAL_STORY_VIEWER&quot;) {
</a><a href="#h4-0-91" id="h4-0-91" class="d">-                    set(true)
</a><a href="#h4-0-92" id="h4-0-92" class="d">-                }
</a><a href="#h4-0-93" id="h4-0-93" class="d">-            }
</a><a href="#h4-0-94" id="h4-0-94" class="d">-        }
</a><a href="#h4-0-95" id="h4-0-95" class="d">-
</a><a href="#h4-0-96" id="h4-0-96" class="d">-        val sharedPreferencesImpl = context.androidContext.classLoader.loadClass(&quot;android.app.SharedPreferencesImpl&quot;)
</a><a href="#h4-0-97" id="h4-0-97" class="d">-
</a><a href="#h4-0-98" id="h4-0-98" class="d">-        sharedPreferencesImpl.methods.first { it.name == &quot;getBoolean&quot; }.hook(HookStage.BEFORE) { param -&gt;
</a><a href="#h4-0-99" id="h4-0-99" class="d">-            when (param.arg&lt;String&gt;(0)) {
</a><a href="#h4-0-100" id="h4-0-100" class="d">-                &quot;SIG_APP_APPEARANCE_SETTING&quot; -&gt; if (context.config.userInterface.enableAppAppearance.get()) param.setResult(true)
</a><a href="#h4-0-101" id="h4-0-101" class="d">-                &quot;SPOTLIGHT_5TH_TAB_ENABLED&quot; -&gt; if (context.config.userInterface.disableSpotlight.get()) param.setResult(false)
</a><a href="#h4-0-102" id="h4-0-102" class="d">-            }
</a><a href="#h4-0-103" id="h4-0-103" class="d">-        }
</a><a href="#h4-0-104" id="h4-0-104" class="d">-    }
</a><a href="#h4-0-105" id="h4-0-105" class="d">-}</a><a href="#h4-0-106" id="h4-0-106" class="d">-
\ No newline at end of file
</a><b>diff --git a/<a id="h5" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigurationOverride.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigurationOverride.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigurationOverride.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/ConfigurationOverride.kt</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -0,0 +1,83 @@
</a><a href="#h5-0-0" id="h5-0-0" class="i">+package me.rhunk.snapenhance.features.impl
</a><a href="#h5-0-1" id="h5-0-1" class="i">+
</a><a href="#h5-0-2" id="h5-0-2" class="i">+import de.robv.android.xposed.XposedHelpers
</a><a href="#h5-0-3" id="h5-0-3" class="i">+import me.rhunk.snapenhance.features.Feature
</a><a href="#h5-0-4" id="h5-0-4" class="i">+import me.rhunk.snapenhance.features.FeatureLoadParams
</a><a href="#h5-0-5" id="h5-0-5" class="i">+import me.rhunk.snapenhance.hook.HookStage
</a><a href="#h5-0-6" id="h5-0-6" class="i">+import me.rhunk.snapenhance.hook.hook
</a><a href="#h5-0-7" id="h5-0-7" class="i">+import me.rhunk.snapenhance.util.setObjectField
</a><a href="#h5-0-8" id="h5-0-8" class="i">+
</a><a href="#h5-0-9" id="h5-0-9" class="i">+class ConfigurationOverride : Feature(&quot;Configuration Override&quot;, loadParams = FeatureLoadParams.INIT_SYNC) {
</a><a href="#h5-0-10" id="h5-0-10" class="i">+    override fun init() {
</a><a href="#h5-0-11" id="h5-0-11" class="i">+        val propertyOverrides = mutableMapOf&lt;String, Pair&lt;(() -&gt; Boolean), Any&gt;&gt;()
</a><a href="#h5-0-12" id="h5-0-12" class="i">+
</a><a href="#h5-0-13" id="h5-0-13" class="i">+        fun overrideProperty(key: String, filter: () -&gt; Boolean, value: Any) {
</a><a href="#h5-0-14" id="h5-0-14" class="i">+            propertyOverrides[key] = Pair(filter, value)
</a><a href="#h5-0-15" id="h5-0-15" class="i">+        }
</a><a href="#h5-0-16" id="h5-0-16" class="i">+
</a><a href="#h5-0-17" id="h5-0-17" class="i">+        overrideProperty(&quot;STREAK_EXPIRATION_INFO&quot;, { context.config.userInterface.streakExpirationInfo.get() }, true)
</a><a href="#h5-0-18" id="h5-0-18" class="i">+
</a><a href="#h5-0-19" id="h5-0-19" class="i">+        overrideProperty(&quot;FORCE_CAMERA_HIGHEST_FPS&quot;, { context.config.camera.forceHighestFrameRate.get() }, true)
</a><a href="#h5-0-20" id="h5-0-20" class="i">+        overrideProperty(&quot;MEDIA_RECORDER_MAX_QUALITY_LEVEL&quot;, { context.config.camera.forceCameraSourceEncoding.get() }, true)
</a><a href="#h5-0-21" id="h5-0-21" class="i">+        overrideProperty(&quot;REDUCE_MY_PROFILE_UI_COMPLEXITY&quot;, { context.config.userInterface.mapFriendNameTags.get() }, true)
</a><a href="#h5-0-22" id="h5-0-22" class="i">+        overrideProperty(&quot;ENABLE_LONG_SNAP_SENDING&quot;, { context.config.global.disableSnapSplitting.get() }, true)
</a><a href="#h5-0-23" id="h5-0-23" class="i">+
</a><a href="#h5-0-24" id="h5-0-24" class="i">+        context.config.userInterface.storyViewerOverride.getNullable()?.let { state -&gt;
</a><a href="#h5-0-25" id="h5-0-25" class="i">+            overrideProperty(&quot;DF_ENABLE_SHOWS_PAGE_CONTROLS&quot;, { state == &quot;DISCOVER_PLAYBACK_SEEKBAR&quot; }, true)
</a><a href="#h5-0-26" id="h5-0-26" class="i">+            overrideProperty(&quot;DF_VOPERA_FOR_STORIES&quot;, { state == &quot;VERTICAL_STORY_VIEWER&quot; }, true)
</a><a href="#h5-0-27" id="h5-0-27" class="i">+        }
</a><a href="#h5-0-28" id="h5-0-28" class="i">+
</a><a href="#h5-0-29" id="h5-0-29" class="i">+        overrideProperty(&quot;SIG_APP_APPEARANCE_SETTING&quot;, { context.config.userInterface.enableAppAppearance.get() }, true)
</a><a href="#h5-0-30" id="h5-0-30" class="i">+        overrideProperty(&quot;SPOTLIGHT_5TH_TAB_ENABLED&quot;, { context.config.userInterface.disableSpotlight.get() }, false)
</a><a href="#h5-0-31" id="h5-0-31" class="i">+
</a><a href="#h5-0-32" id="h5-0-32" class="i">+        overrideProperty(&quot;BYPASS_AD_FEATURE_GATE&quot;, { context.config.userInterface.blockAds.get() }, true)
</a><a href="#h5-0-33" id="h5-0-33" class="i">+        arrayOf(&quot;CUSTOM_AD_TRACKER_URL&quot;, &quot;CUSTOM_AD_INIT_SERVER_URL&quot;, &quot;CUSTOM_AD_SERVER_URL&quot;).forEach {
</a><a href="#h5-0-34" id="h5-0-34" class="i">+            overrideProperty(it, { context.config.userInterface.blockAds.get() }, &quot;http://127.0.0.1&quot;)
</a><a href="#h5-0-35" id="h5-0-35" class="i">+        }
</a><a href="#h5-0-36" id="h5-0-36" class="i">+
</a><a href="#h5-0-37" id="h5-0-37" class="i">+        val compositeConfigurationProviderMappings = context.mappings.getMappedMap(&quot;CompositeConfigurationProvider&quot;)
</a><a href="#h5-0-38" id="h5-0-38" class="i">+        val enumMappings = compositeConfigurationProviderMappings[&quot;enum&quot;] as Map&lt;*, *&gt;
</a><a href="#h5-0-39" id="h5-0-39" class="i">+
</a><a href="#h5-0-40" id="h5-0-40" class="i">+        findClass(compositeConfigurationProviderMappings[&quot;class&quot;].toString()).hook(
</a><a href="#h5-0-41" id="h5-0-41" class="i">+            compositeConfigurationProviderMappings[&quot;observeProperty&quot;].toString(),
</a><a href="#h5-0-42" id="h5-0-42" class="i">+            HookStage.BEFORE
</a><a href="#h5-0-43" id="h5-0-43" class="i">+        ) { param -&gt;
</a><a href="#h5-0-44" id="h5-0-44" class="i">+            val enumData = param.arg&lt;Any&gt;(0)
</a><a href="#h5-0-45" id="h5-0-45" class="i">+            val key = enumData.toString()
</a><a href="#h5-0-46" id="h5-0-46" class="i">+            val setValue: (Any?) -&gt; Unit = { value -&gt;
</a><a href="#h5-0-47" id="h5-0-47" class="i">+                val valueHolder = XposedHelpers.callMethod(enumData, enumMappings[&quot;getValue&quot;].toString())
</a><a href="#h5-0-48" id="h5-0-48" class="i">+                valueHolder.setObjectField(enumMappings[&quot;defaultValueField&quot;].toString(), value)
</a><a href="#h5-0-49" id="h5-0-49" class="i">+            }
</a><a href="#h5-0-50" id="h5-0-50" class="i">+
</a><a href="#h5-0-51" id="h5-0-51" class="i">+            propertyOverrides[key]?.let { (filter, value) -&gt;
</a><a href="#h5-0-52" id="h5-0-52" class="i">+                if (!filter()) return@let
</a><a href="#h5-0-53" id="h5-0-53" class="i">+                setValue(value)
</a><a href="#h5-0-54" id="h5-0-54" class="i">+            }
</a><a href="#h5-0-55" id="h5-0-55" class="i">+        }
</a><a href="#h5-0-56" id="h5-0-56" class="i">+
</a><a href="#h5-0-57" id="h5-0-57" class="i">+        findClass(compositeConfigurationProviderMappings[&quot;class&quot;].toString()).hook(
</a><a href="#h5-0-58" id="h5-0-58" class="i">+            compositeConfigurationProviderMappings[&quot;getProperty&quot;].toString(),
</a><a href="#h5-0-59" id="h5-0-59" class="i">+            HookStage.AFTER
</a><a href="#h5-0-60" id="h5-0-60" class="i">+        ) { param -&gt;
</a><a href="#h5-0-61" id="h5-0-61" class="i">+            val propertyKey = param.arg&lt;Any&gt;(0).toString()
</a><a href="#h5-0-62" id="h5-0-62" class="i">+
</a><a href="#h5-0-63" id="h5-0-63" class="i">+            propertyOverrides[propertyKey]?.let { (filter, value) -&gt;
</a><a href="#h5-0-64" id="h5-0-64" class="i">+                if (!filter()) return@let
</a><a href="#h5-0-65" id="h5-0-65" class="i">+                param.setResult(value)
</a><a href="#h5-0-66" id="h5-0-66" class="i">+            }
</a><a href="#h5-0-67" id="h5-0-67" class="i">+        }
</a><a href="#h5-0-68" id="h5-0-68" class="i">+
</a><a href="#h5-0-69" id="h5-0-69" class="i">+        arrayOf(&quot;getBoolean&quot;, &quot;getInt&quot;, &quot;getLong&quot;, &quot;getFloat&quot;, &quot;getString&quot;).forEach { methodName -&gt;
</a><a href="#h5-0-70" id="h5-0-70" class="i">+            findClass(&quot;android.app.SharedPreferencesImpl&quot;).hook(
</a><a href="#h5-0-71" id="h5-0-71" class="i">+                methodName,
</a><a href="#h5-0-72" id="h5-0-72" class="i">+                HookStage.BEFORE
</a><a href="#h5-0-73" id="h5-0-73" class="i">+            ) { param -&gt;
</a><a href="#h5-0-74" id="h5-0-74" class="i">+                val key = param.argNullable&lt;Any&gt;(0).toString()
</a><a href="#h5-0-75" id="h5-0-75" class="i">+                propertyOverrides[key]?.let { (filter, value) -&gt;
</a><a href="#h5-0-76" id="h5-0-76" class="i">+                    if (!filter()) return@let
</a><a href="#h5-0-77" id="h5-0-77" class="i">+                    param.setResult(value)
</a><a href="#h5-0-78" id="h5-0-78" class="i">+                }
</a><a href="#h5-0-79" id="h5-0-79" class="i">+            }
</a><a href="#h5-0-80" id="h5-0-80" class="i">+        }
</a><a href="#h5-0-81" id="h5-0-81" class="i">+    }
</a><a href="#h5-0-82" id="h5-0-82" class="i">+}</a><a href="#h5-0-83" id="h5-0-83" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h6" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/MediaDownloader.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/MediaDownloader.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/MediaDownloader.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/MediaDownloader.kt</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -117,7 +117,7 @@ class MediaDownloader : Feature(&quot;MediaDownloader&quot;, loadParams = FeatureLoadParam
</a>         val pathFormat by context.config.downloader.pathFormat
         val sanitizedPathPrefix = pathPrefix
             .replace(&quot; &quot;, &quot;_&quot;)
<a href="#h6-0-3" id="h6-0-3" class="d">-            .replace(Regex(&quot;[\\\\:*?\&quot;&lt;&gt;|]&quot;), &quot;&quot;)
</a><a href="#h6-0-4" id="h6-0-4" class="i">+            .replace(Regex(&quot;[\\p{Cntrl}]&quot;), &quot;&quot;)
</a>             .ifEmpty { hexHash }
 
         val currentDateTime = SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;, Locale.ENGLISH).format(System.currentTimeMillis())
<a href="#h6-1" id="h6-1" class="h">@@ -294,7 +294,7 @@ class MediaDownloader : Feature(&quot;MediaDownloader&quot;, loadParams = FeatureLoadParam
</a>         if ((snapSource == &quot;PUBLIC_USER&quot; || snapSource == &quot;SAVED_STORY&quot;) &amp;&amp;
             (forceDownload || canAutoDownload(&quot;public_stories&quot;))) {
             val userDisplayName = (if (paramMap.containsKey(&quot;USER_DISPLAY_NAME&quot;)) paramMap[&quot;USER_DISPLAY_NAME&quot;].toString() else &quot;&quot;).replace(
<a href="#h6-1-3" id="h6-1-3" class="d">-                    &quot;[^\\x00-\\x7F]&quot;.toRegex(),
</a><a href="#h6-1-4" id="h6-1-4" class="i">+                     &quot;[\\p{Cntrl}]&quot;.toRegex(),
</a>                     &quot;&quot;)
 
             downloadOperaMedia(provideDownloadManagerClient(
<a href="#h6-2" id="h6-2" class="h">@@ -321,7 +321,7 @@ class MediaDownloader : Feature(&quot;MediaDownloader&quot;, loadParams = FeatureLoadParam
</a>         //TODO: option to download multiple chapters
         if (paramMap.containsKey(&quot;LONGFORM_VIDEO_PLAYLIST_ITEM&quot;) &amp;&amp; forceDownload) {
             val storyName = paramMap[&quot;STORY_NAME&quot;].toString().replace(
<a href="#h6-2-3" id="h6-2-3" class="d">-                &quot;[^\\x00-\\x7F]&quot;.toRegex(),
</a><a href="#h6-2-4" id="h6-2-4" class="i">+                 &quot;[\\p{Cntrl}]&quot;.toRegex(),
</a>                 &quot;&quot;)
 
             //get the position of the media in the playlist and the duration
<a href="#h6-3" id="h6-3" class="h">@@ -535,4 +535,4 @@ class MediaDownloader : Feature(&quot;MediaDownloader&quot;, loadParams = FeatureLoadParam
</a>         if (messaging.openedConversationUUID == null) return
         downloadMessageId(messaging.lastFocusedMessageId, isPreviewMode)
     }
<a href="#h6-3-3" id="h6-3-3" class="d">-}</a><a href="#h6-3-4" id="h6-3-4" class="d">-
\ No newline at end of file
</a><a href="#h6-3-5" id="h6-3-5" class="i">+}
</a><b>diff --git a/<a id="h7" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/experiments/NoFriendScoreDelay.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/experiments/NoFriendScoreDelay.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/experiments/NoFriendScoreDelay.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/experiments/NoFriendScoreDelay.kt</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,20 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+package me.rhunk.snapenhance.features.impl.experiments
</a><a href="#h7-0-1" id="h7-0-1" class="i">+
</a><a href="#h7-0-2" id="h7-0-2" class="i">+import me.rhunk.snapenhance.features.Feature
</a><a href="#h7-0-3" id="h7-0-3" class="i">+import me.rhunk.snapenhance.features.FeatureLoadParams
</a><a href="#h7-0-4" id="h7-0-4" class="i">+import me.rhunk.snapenhance.hook.HookStage
</a><a href="#h7-0-5" id="h7-0-5" class="i">+import me.rhunk.snapenhance.hook.hookConstructor
</a><a href="#h7-0-6" id="h7-0-6" class="i">+import java.lang.reflect.Constructor
</a><a href="#h7-0-7" id="h7-0-7" class="i">+
</a><a href="#h7-0-8" id="h7-0-8" class="i">+class NoFriendScoreDelay : Feature(&quot;NoFriendScoreDelay&quot;, loadParams = FeatureLoadParams.ACTIVITY_CREATE_SYNC) {
</a><a href="#h7-0-9" id="h7-0-9" class="i">+    override fun onActivityCreate() {
</a><a href="#h7-0-10" id="h7-0-10" class="i">+        if (!context.config.experimental.noFriendScoreDelay.get()) return
</a><a href="#h7-0-11" id="h7-0-11" class="i">+        val scoreUpdateClass = context.mappings.getMappedClass(&quot;ScoreUpdate&quot;)
</a><a href="#h7-0-12" id="h7-0-12" class="i">+
</a><a href="#h7-0-13" id="h7-0-13" class="i">+        scoreUpdateClass.hookConstructor(HookStage.BEFORE) { param -&gt;
</a><a href="#h7-0-14" id="h7-0-14" class="i">+            val constructor = param.method() as Constructor&lt;*&gt;
</a><a href="#h7-0-15" id="h7-0-15" class="i">+            if (constructor.parameterTypes.size &lt; 3 || constructor.parameterTypes[3] != java.util.Collection::class.java) return@hookConstructor
</a><a href="#h7-0-16" id="h7-0-16" class="i">+            param.setArg(2, 0L)
</a><a href="#h7-0-17" id="h7-0-17" class="i">+        }
</a><a href="#h7-0-18" id="h7-0-18" class="i">+    }
</a><a href="#h7-0-19" id="h7-0-19" class="i">+}</a><a href="#h7-0-20" id="h7-0-20" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h8" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/tweaks/CameraTweaks.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/tweaks/CameraTweaks.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/tweaks/CameraTweaks.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/tweaks/CameraTweaks.kt</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -8,7 +8,6 @@ import android.hardware.camera2.CameraManager
</a> import me.rhunk.snapenhance.data.wrapper.impl.ScSize
 import me.rhunk.snapenhance.features.Feature
 import me.rhunk.snapenhance.features.FeatureLoadParams
<a href="#h8-0-3" id="h8-0-3" class="d">-import me.rhunk.snapenhance.features.impl.ConfigEnumKeys
</a> import me.rhunk.snapenhance.hook.HookStage
 import me.rhunk.snapenhance.hook.hook
 import me.rhunk.snapenhance.hook.hookConstructor
<a href="#h8-1" id="h8-1" class="h">@@ -37,15 +36,6 @@ class CameraTweaks : Feature(&quot;Camera Tweaks&quot;, loadParams = FeatureLoadParams.ACT
</a>             }
         }
 
<a href="#h8-1-3" id="h8-1-3" class="d">-        ConfigEnumKeys.hookAllEnums(context.mappings.getMappedClass(&quot;enums&quot;, &quot;CAMERA&quot;)) {
</a><a href="#h8-1-4" id="h8-1-4" class="d">-            if (key == &quot;FORCE_CAMERA_HIGHEST_FPS&quot; &amp;&amp; context.config.camera.forceHighestFrameRate.get()) {
</a><a href="#h8-1-5" id="h8-1-5" class="d">-                set(true)
</a><a href="#h8-1-6" id="h8-1-6" class="d">-            }
</a><a href="#h8-1-7" id="h8-1-7" class="d">-            if (key == &quot;MEDIA_RECORDER_MAX_QUALITY_LEVEL&quot; &amp;&amp; context.config.camera.forceCameraSourceEncoding.get()) {
</a><a href="#h8-1-8" id="h8-1-8" class="d">-                value!!.javaClass.enumConstants?.let { enumData -&gt; set(enumData.filter { it.toString() == &quot;LEVEL_MAX&quot; }) }
</a><a href="#h8-1-9" id="h8-1-9" class="d">-            }
</a><a href="#h8-1-10" id="h8-1-10" class="d">-        }
</a><a href="#h8-1-11" id="h8-1-11" class="d">-
</a>         val previewResolutionConfig = context.config.camera.overridePreviewResolution.getNullable()?.let { parseResolution(it) }
         val captureResolutionConfig = context.config.camera.overridePictureResolution.getNullable()?.let { parseResolution(it) }
 
<b>diff --git a/<a id="h9" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/hook/Hooker.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/hook/Hooker.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/hook/Hooker.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/hook/Hooker.kt</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -3,15 +3,13 @@ package me.rhunk.snapenhance.hook
</a> import de.robv.android.xposed.XC_MethodHook
 import de.robv.android.xposed.XposedBridge
 import java.lang.reflect.Member
<a href="#h9-0-3" id="h9-0-3" class="d">-
</a><a href="#h9-0-4" id="h9-0-4" class="d">-typealias HookFilter = (HookAdapter) -&gt; Boolean
</a><a href="#h9-0-5" id="h9-0-5" class="d">-typealias HookConsumer = (HookAdapter) -&gt; Unit
</a><a href="#h9-0-6" id="h9-0-6" class="i">+import java.lang.reflect.Method
</a> 
 object Hooker {
     inline fun newMethodHook(
         stage: HookStage,
<a href="#h9-0-11" id="h9-0-11" class="d">-        crossinline consumer: HookConsumer,
</a><a href="#h9-0-12" id="h9-0-12" class="d">-        crossinline filter: HookFilter = { true }
</a><a href="#h9-0-13" id="h9-0-13" class="i">+        crossinline consumer: (HookAdapter) -&gt; Unit,
</a><a href="#h9-0-14" id="h9-0-14" class="i">+        crossinline filter: ((HookAdapter) -&gt; Boolean) = { true }
</a>     ): XC_MethodHook {
         return if (stage == HookStage.BEFORE) object : XC_MethodHook() {
             override fun beforeHookedMethod(param: MethodHookParam&lt;*&gt;) {
<a href="#h9-1" id="h9-1" class="h">@@ -28,48 +26,47 @@ object Hooker {
</a>         clazz: Class&lt;*&gt;,
         methodName: String,
         stage: HookStage,
<a href="#h9-1-3" id="h9-1-3" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-4" id="h9-1-4" class="d">-    ): Set&lt;XC_MethodHook.Unhook&gt; = hook(clazz, methodName, stage, { true }, consumer)
</a><a href="#h9-1-5" id="h9-1-5" class="d">-
</a><a href="#h9-1-6" id="h9-1-6" class="d">-    inline fun hook(
</a><a href="#h9-1-7" id="h9-1-7" class="d">-        clazz: Class&lt;*&gt;,
</a><a href="#h9-1-8" id="h9-1-8" class="d">-        methodName: String,
</a><a href="#h9-1-9" id="h9-1-9" class="d">-        stage: HookStage,
</a><a href="#h9-1-10" id="h9-1-10" class="d">-        crossinline filter: HookFilter,
</a><a href="#h9-1-11" id="h9-1-11" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-12" id="h9-1-12" class="i">+        crossinline filter: (HookAdapter) -&gt; Boolean,
</a><a href="#h9-1-13" id="h9-1-13" class="i">+        noinline consumer: (HookAdapter) -&gt; Unit
</a>     ): Set&lt;XC_MethodHook.Unhook&gt; = XposedBridge.hookAllMethods(clazz, methodName, newMethodHook(stage, consumer, filter))
 
     inline fun hook(
         member: Member,
         stage: HookStage,
<a href="#h9-1-19" id="h9-1-19" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-20" id="h9-1-20" class="i">+        crossinline filter: ((HookAdapter) -&gt; Boolean),
</a><a href="#h9-1-21" id="h9-1-21" class="i">+        crossinline consumer: (HookAdapter) -&gt; Unit
</a>     ): XC_MethodHook.Unhook {
<a href="#h9-1-23" id="h9-1-23" class="d">-        return hook(member, stage, { true }, consumer)
</a><a href="#h9-1-24" id="h9-1-24" class="i">+        return XposedBridge.hookMethod(member, newMethodHook(stage, consumer, filter))
</a>     }
 
<a href="#h9-1-27" id="h9-1-27" class="d">-    inline fun hook(
</a><a href="#h9-1-28" id="h9-1-28" class="i">+    fun hook(
</a><a href="#h9-1-29" id="h9-1-29" class="i">+        clazz: Class&lt;*&gt;,
</a><a href="#h9-1-30" id="h9-1-30" class="i">+        methodName: String,
</a><a href="#h9-1-31" id="h9-1-31" class="i">+        stage: HookStage,
</a><a href="#h9-1-32" id="h9-1-32" class="i">+        consumer: (HookAdapter) -&gt; Unit
</a><a href="#h9-1-33" id="h9-1-33" class="i">+    ): Set&lt;XC_MethodHook.Unhook&gt; = hook(clazz, methodName, stage, { true }, consumer)
</a><a href="#h9-1-34" id="h9-1-34" class="i">+
</a><a href="#h9-1-35" id="h9-1-35" class="i">+    fun hook(
</a>         member: Member,
         stage: HookStage,
<a href="#h9-1-38" id="h9-1-38" class="d">-        crossinline filter: HookFilter,
</a><a href="#h9-1-39" id="h9-1-39" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-40" id="h9-1-40" class="i">+        consumer: (HookAdapter) -&gt; Unit
</a>     ): XC_MethodHook.Unhook {
<a href="#h9-1-42" id="h9-1-42" class="d">-        return XposedBridge.hookMethod(member, newMethodHook(stage, consumer, filter))
</a><a href="#h9-1-43" id="h9-1-43" class="i">+        return hook(member, stage, { true }, consumer)
</a>     }
 
<a href="#h9-1-46" id="h9-1-46" class="d">-
</a><a href="#h9-1-47" id="h9-1-47" class="d">-    inline fun hookConstructor(
</a><a href="#h9-1-48" id="h9-1-48" class="i">+    fun hookConstructor(
</a>         clazz: Class&lt;*&gt;,
         stage: HookStage,
<a href="#h9-1-51" id="h9-1-51" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-52" id="h9-1-52" class="i">+        consumer: (HookAdapter) -&gt; Unit
</a>     ) {
         XposedBridge.hookAllConstructors(clazz, newMethodHook(stage, consumer))
     }
 
<a href="#h9-1-57" id="h9-1-57" class="d">-    inline fun hookConstructor(
</a><a href="#h9-1-58" id="h9-1-58" class="i">+    fun hookConstructor(
</a>         clazz: Class&lt;*&gt;,
         stage: HookStage,
<a href="#h9-1-61" id="h9-1-61" class="d">-        crossinline filter: HookFilter,
</a><a href="#h9-1-62" id="h9-1-62" class="d">-        crossinline consumer: HookConsumer
</a><a href="#h9-1-63" id="h9-1-63" class="i">+        filter: ((HookAdapter) -&gt; Boolean),
</a><a href="#h9-1-64" id="h9-1-64" class="i">+        consumer: (HookAdapter) -&gt; Unit
</a>     ) {
         XposedBridge.hookAllConstructors(clazz, newMethodHook(stage, consumer, filter))
     }
<a href="#h9-2" id="h9-2" class="h">@@ -79,7 +76,7 @@ object Hooker {
</a>         instance: Any,
         methodName: String,
         stage: HookStage,
<a href="#h9-2-3" id="h9-2-3" class="d">-        crossinline hookConsumer: HookConsumer
</a><a href="#h9-2-4" id="h9-2-4" class="i">+        crossinline hookConsumer: (HookAdapter) -&gt; Unit
</a>     ) {
         val unhooks: MutableSet&lt;XC_MethodHook.Unhook&gt; = HashSet()
         hook(clazz, methodName, stage) { param-&gt;
<a href="#h9-3" id="h9-3" class="h">@@ -95,7 +92,7 @@ object Hooker {
</a>         clazz: Class&lt;*&gt;,
         methodName: String,
         stage: HookStage,
<a href="#h9-3-3" id="h9-3-3" class="d">-        crossinline hookConsumer: HookConsumer
</a><a href="#h9-3-4" id="h9-3-4" class="i">+        crossinline hookConsumer: (HookAdapter) -&gt; Unit
</a>     ) {
         val unhooks: MutableSet&lt;XC_MethodHook.Unhook&gt; = HashSet()
         hook(clazz, methodName, stage) { param-&gt;
<a href="#h9-4" id="h9-4" class="h">@@ -109,7 +106,7 @@ object Hooker {
</a>         instance: Any,
         methodName: String,
         stage: HookStage,
<a href="#h9-4-3" id="h9-4-3" class="d">-        crossinline hookConsumer: HookConsumer
</a><a href="#h9-4-4" id="h9-4-4" class="i">+        crossinline hookConsumer: (HookAdapter) -&gt; Unit
</a>     ) {
         val unhooks: MutableSet&lt;XC_MethodHook.Unhook&gt; = HashSet()
         hook(clazz, methodName, stage) { param-&gt;
<a href="#h9-5" id="h9-5" class="h">@@ -120,37 +117,43 @@ object Hooker {
</a>     }
 }
 
<a href="#h9-5-3" id="h9-5-3" class="d">-inline fun Class&lt;*&gt;.hookConstructor(
</a><a href="#h9-5-4" id="h9-5-4" class="i">+fun Class&lt;*&gt;.hookConstructor(
</a>     stage: HookStage,
<a href="#h9-5-6" id="h9-5-6" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-7" id="h9-5-7" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a> ) = Hooker.hookConstructor(this, stage, consumer)
 
<a href="#h9-5-10" id="h9-5-10" class="d">-inline fun Class&lt;*&gt;.hookConstructor(
</a><a href="#h9-5-11" id="h9-5-11" class="i">+fun Class&lt;*&gt;.hookConstructor(
</a>     stage: HookStage,
<a href="#h9-5-13" id="h9-5-13" class="d">-    crossinline filter: HookFilter,
</a><a href="#h9-5-14" id="h9-5-14" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-15" id="h9-5-15" class="i">+    filter: ((HookAdapter) -&gt; Boolean),
</a><a href="#h9-5-16" id="h9-5-16" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a> ) = Hooker.hookConstructor(this, stage, filter, consumer)
 
<a href="#h9-5-19" id="h9-5-19" class="d">-inline fun Class&lt;*&gt;.hook(
</a><a href="#h9-5-20" id="h9-5-20" class="i">+fun Class&lt;*&gt;.hook(
</a>     methodName: String,
     stage: HookStage,
<a href="#h9-5-23" id="h9-5-23" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-24" id="h9-5-24" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a> ): Set&lt;XC_MethodHook.Unhook&gt; = Hooker.hook(this, methodName, stage, consumer)
 
<a href="#h9-5-27" id="h9-5-27" class="d">-inline fun Class&lt;*&gt;.hook(
</a><a href="#h9-5-28" id="h9-5-28" class="i">+fun Class&lt;*&gt;.hook(
</a>     methodName: String,
     stage: HookStage,
<a href="#h9-5-31" id="h9-5-31" class="d">-    crossinline filter: HookFilter,
</a><a href="#h9-5-32" id="h9-5-32" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-33" id="h9-5-33" class="i">+    filter: (HookAdapter) -&gt; Boolean,
</a><a href="#h9-5-34" id="h9-5-34" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a> ): Set&lt;XC_MethodHook.Unhook&gt; = Hooker.hook(this, methodName, stage, filter, consumer)
 
<a href="#h9-5-37" id="h9-5-37" class="d">-inline fun Member.hook(
</a><a href="#h9-5-38" id="h9-5-38" class="i">+fun Member.hook(
</a>     stage: HookStage,
<a href="#h9-5-40" id="h9-5-40" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-41" id="h9-5-41" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a> ): XC_MethodHook.Unhook = Hooker.hook(this, stage, consumer)
 
<a href="#h9-5-44" id="h9-5-44" class="d">-inline fun Member.hook(
</a><a href="#h9-5-45" id="h9-5-45" class="i">+fun Member.hook(
</a>     stage: HookStage,
<a href="#h9-5-47" id="h9-5-47" class="d">-    crossinline filter: HookFilter,
</a><a href="#h9-5-48" id="h9-5-48" class="d">-    crossinline consumer: HookConsumer
</a><a href="#h9-5-49" id="h9-5-49" class="d">-): XC_MethodHook.Unhook = Hooker.hook(this, stage, filter, consumer)</a><a href="#h9-5-50" id="h9-5-50" class="d">-
\ No newline at end of file
</a><a href="#h9-5-51" id="h9-5-51" class="i">+    filter: ((HookAdapter) -&gt; Boolean),
</a><a href="#h9-5-52" id="h9-5-52" class="i">+    consumer: (HookAdapter) -&gt; Unit
</a><a href="#h9-5-53" id="h9-5-53" class="i">+): XC_MethodHook.Unhook = Hooker.hook(this, stage, filter, consumer)
</a><a href="#h9-5-54" id="h9-5-54" class="i">+
</a><a href="#h9-5-55" id="h9-5-55" class="i">+fun Array&lt;Method&gt;.hookAll(stage: HookStage, param: (HookAdapter) -&gt; Unit) {
</a><a href="#h9-5-56" id="h9-5-56" class="i">+    filter { it.declaringClass != Object::class.java }.forEach {
</a><a href="#h9-5-57" id="h9-5-57" class="i">+        it.hook(stage, param)
</a><a href="#h9-5-58" id="h9-5-58" class="i">+    }
</a><a href="#h9-5-59" id="h9-5-59" class="i">+}
</a><b>diff --git a/<a id="h10" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/FeatureManager.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/FeatureManager.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/FeatureManager.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/FeatureManager.kt</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -5,7 +5,7 @@ import me.rhunk.snapenhance.ModContext
</a> import me.rhunk.snapenhance.features.Feature
 import me.rhunk.snapenhance.features.FeatureLoadParams
 import me.rhunk.snapenhance.features.impl.AutoUpdater
<a href="#h10-0-3" id="h10-0-3" class="d">-import me.rhunk.snapenhance.features.impl.ConfigEnumKeys
</a><a href="#h10-0-4" id="h10-0-4" class="i">+import me.rhunk.snapenhance.features.impl.ConfigurationOverride
</a> import me.rhunk.snapenhance.features.impl.Messaging
 import me.rhunk.snapenhance.features.impl.downloader.AntiAutoDownload
 import me.rhunk.snapenhance.features.impl.downloader.MediaDownloader
<a href="#h10-1" id="h10-1" class="h">@@ -14,6 +14,7 @@ import me.rhunk.snapenhance.features.impl.experiments.AppPasscode
</a> import me.rhunk.snapenhance.features.impl.experiments.DeviceSpooferHook
 import me.rhunk.snapenhance.features.impl.experiments.InfiniteStoryBoost
 import me.rhunk.snapenhance.features.impl.experiments.MeoPasscodeBypass
<a href="#h10-1-3" id="h10-1-3" class="i">+import me.rhunk.snapenhance.features.impl.experiments.NoFriendScoreDelay
</a> import me.rhunk.snapenhance.features.impl.experiments.UnlimitedMultiSnap
 import me.rhunk.snapenhance.features.impl.privacy.DisableMetrics
 import me.rhunk.snapenhance.features.impl.privacy.PreventMessageSending
<a href="#h10-2" id="h10-2" class="h">@@ -74,7 +75,7 @@ class FeatureManager(private val context: ModContext) : Manager {
</a>         register(Notifications::class)
         register(AutoSave::class)
         register(UITweaks::class)
<a href="#h10-2-3" id="h10-2-3" class="d">-        register(ConfigEnumKeys::class)
</a><a href="#h10-2-4" id="h10-2-4" class="i">+        register(ConfigurationOverride::class)
</a>         register(AntiAutoDownload::class)
         register(GalleryMediaSendOverride::class)
         register(AntiAutoSave::class)
<a href="#h10-3" id="h10-3" class="h">@@ -93,6 +94,7 @@ class FeatureManager(private val context: ModContext) : Manager {
</a>         register(DeviceSpooferHook::class)
         register(StartupPageOverride::class)
         register(GooglePlayServicesDialogs::class)
<a href="#h10-3-3" id="h10-3-3" class="i">+        register(NoFriendScoreDelay::class)
</a> 
         initializeFeatures()
     }
<b>diff --git a/<a id="h11" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/MappingManager.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/MappingManager.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/MappingManager.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/manager/impl/MappingManager.kt</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -11,6 +11,7 @@ import me.rhunk.snapenhance.ui.ViewAppearanceHelper
</a> import me.rhunk.snapmapper.Mapper
 import me.rhunk.snapmapper.impl.BCryptClassMapper
 import me.rhunk.snapmapper.impl.CallbackMapper
<a href="#h11-0-3" id="h11-0-3" class="i">+import me.rhunk.snapmapper.impl.CompositeConfigurationProviderMapper
</a> import me.rhunk.snapmapper.impl.DefaultMediaItemMapper
 import me.rhunk.snapmapper.impl.EnumMapper
 import me.rhunk.snapmapper.impl.FriendsFeedEventDispatcherMapper
<a href="#h11-1" id="h11-1" class="h">@@ -19,6 +20,7 @@ import me.rhunk.snapmapper.impl.OperaPageViewControllerMapper
</a> import me.rhunk.snapmapper.impl.PlatformAnalyticsCreatorMapper
 import me.rhunk.snapmapper.impl.PlusSubscriptionMapper
 import me.rhunk.snapmapper.impl.ScCameraSettingsMapper
<a href="#h11-1-3" id="h11-1-3" class="i">+import me.rhunk.snapmapper.impl.ScoreUpdateMapper
</a> import me.rhunk.snapmapper.impl.StoryBoostStateMapper
 import java.nio.charset.StandardCharsets
 import java.util.concurrent.ConcurrentHashMap
<a href="#h11-2" id="h11-2" class="h">@@ -37,7 +39,9 @@ class MappingManager(private val context: ModContext) : Manager {
</a>         PlusSubscriptionMapper::class,
         ScCameraSettingsMapper::class,
         StoryBoostStateMapper::class,
<a href="#h11-2-3" id="h11-2-3" class="d">-        FriendsFeedEventDispatcherMapper::class
</a><a href="#h11-2-4" id="h11-2-4" class="i">+        FriendsFeedEventDispatcherMapper::class,
</a><a href="#h11-2-5" id="h11-2-5" class="i">+        CompositeConfigurationProviderMapper::class,
</a><a href="#h11-2-6" id="h11-2-6" class="i">+        ScoreUpdateMapper::class
</a>     )
 
     private val mappings = ConcurrentHashMap&lt;String, Any&gt;()
<a href="#h11-3" id="h11-3" class="h">@@ -94,7 +98,7 @@ class MappingManager(private val context: ModContext) : Manager {
</a>                         statusDialogBuilder.show()
                     }
                 }
<a href="#h11-3-3" id="h11-3-3" class="d">-             }
</a><a href="#h11-3-4" id="h11-3-4" class="i">+            }
</a>         }
     }
 
<b>diff --git a/<a id="h12" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperMacros.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperMacros.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperExt.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/util/XposedHelperExt.kt</a></b>
<b>diff --git a/<a id="h13" href="../file/core/src/main/res/layout/precise_location_dialog.xml.html">core/src/main/res/layout/precise_location_dialog.xml</a> b/<a href="../file/core/src/main/res/layout/precise_location_dialog.xml.html">core/src/main/res/layout/precise_location_dialog.xml</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -11,18 +11,18 @@
</a>         android:id=&quot;@+id/dialog_latitude&quot;
         android:layout_width=&quot;match_parent&quot;
         android:layout_height=&quot;wrap_content&quot;
<a href="#h13-0-3" id="h13-0-3" class="i">+        android:autofillHints=&quot;&quot;
</a>         android:ems=&quot;10&quot;
<a href="#h13-0-5" id="h13-0-5" class="d">-        android:inputType=&quot;numberDecimal&quot;
</a>         android:hint=&quot;Latitude&quot;
<a href="#h13-0-7" id="h13-0-7" class="d">-        android:autofillHints=&quot;&quot; /&gt;
</a><a href="#h13-0-8" id="h13-0-8" class="i">+        android:inputType=&quot;number|numberDecimal|numberSigned&quot; /&gt;
</a> 
     &lt;EditText
         android:id=&quot;@+id/dialog_longitude&quot;
         android:layout_width=&quot;match_parent&quot;
         android:layout_height=&quot;wrap_content&quot;
<a href="#h13-0-14" id="h13-0-14" class="i">+        android:autofillHints=&quot;&quot;
</a>         android:ems=&quot;10&quot;
<a href="#h13-0-16" id="h13-0-16" class="d">-        android:inputType=&quot;numberDecimal&quot;
</a>         android:hint=&quot;Longitude&quot;
<a href="#h13-0-18" id="h13-0-18" class="d">-        android:autofillHints=&quot;&quot; /&gt;
</a><a href="#h13-0-19" id="h13-0-19" class="i">+        android:inputType=&quot;number|numberDecimal|numberSigned&quot; /&gt;
</a> 
 &lt;/LinearLayout&gt; 
\ No newline at end of file
<b>diff --git a/<a id="h14" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/CompositeConfigurationProviderMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/CompositeConfigurationProviderMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/CompositeConfigurationProviderMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/CompositeConfigurationProviderMapper.kt</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -0,0 +1,55 @@
</a><a href="#h14-0-0" id="h14-0-0" class="i">+package me.rhunk.snapmapper.impl
</a><a href="#h14-0-1" id="h14-0-1" class="i">+
</a><a href="#h14-0-2" id="h14-0-2" class="i">+import me.rhunk.snapmapper.AbstractClassMapper
</a><a href="#h14-0-3" id="h14-0-3" class="i">+import me.rhunk.snapmapper.MapperContext
</a><a href="#h14-0-4" id="h14-0-4" class="i">+import me.rhunk.snapmapper.ext.findConstString
</a><a href="#h14-0-5" id="h14-0-5" class="i">+import me.rhunk.snapmapper.ext.getClassName
</a><a href="#h14-0-6" id="h14-0-6" class="i">+import me.rhunk.snapmapper.ext.hasStaticConstructorString
</a><a href="#h14-0-7" id="h14-0-7" class="i">+import me.rhunk.snapmapper.ext.isEnum
</a><a href="#h14-0-8" id="h14-0-8" class="i">+import java.lang.reflect.Modifier
</a><a href="#h14-0-9" id="h14-0-9" class="i">+
</a><a href="#h14-0-10" id="h14-0-10" class="i">+class CompositeConfigurationProviderMapper : AbstractClassMapper() {
</a><a href="#h14-0-11" id="h14-0-11" class="i">+    override fun run(context: MapperContext) {
</a><a href="#h14-0-12" id="h14-0-12" class="i">+        for (classDef in context.classes) {
</a><a href="#h14-0-13" id="h14-0-13" class="i">+            val constructor = classDef.methods.firstOrNull { it.name == &quot;&lt;init&gt;&quot; } ?: continue
</a><a href="#h14-0-14" id="h14-0-14" class="i">+            if (constructor.parameterTypes.size == 0 || constructor.parameterTypes[0] != &quot;Ljava/util/List;&quot;) continue
</a><a href="#h14-0-15" id="h14-0-15" class="i">+            if (constructor.implementation?.findConstString(&quot;CompositeConfigurationProvider&quot;) != true) continue
</a><a href="#h14-0-16" id="h14-0-16" class="i">+
</a><a href="#h14-0-17" id="h14-0-17" class="i">+            val getPropertyMethod = classDef.methods.first { method -&gt;
</a><a href="#h14-0-18" id="h14-0-18" class="i">+                method.parameterTypes.size &gt; 1 &amp;&amp;
</a><a href="#h14-0-19" id="h14-0-19" class="i">+                method.returnType == &quot;Ljava/lang/Object;&quot; &amp;&amp;
</a><a href="#h14-0-20" id="h14-0-20" class="i">+                context.getClass(method.parameterTypes[0])?.interfaces?.contains(&quot;Ljava/io/Serializable;&quot;) == true &amp;&amp;
</a><a href="#h14-0-21" id="h14-0-21" class="i">+                context.getClass(method.parameterTypes[1])?.let { it.isEnum() &amp;&amp; it.hasStaticConstructorString(&quot;BOOLEAN&quot;) } == true
</a><a href="#h14-0-22" id="h14-0-22" class="i">+            }
</a><a href="#h14-0-23" id="h14-0-23" class="i">+
</a><a href="#h14-0-24" id="h14-0-24" class="i">+            val configEnumInterface = context.getClass(getPropertyMethod.parameterTypes[0])!!
</a><a href="#h14-0-25" id="h14-0-25" class="i">+            val enumType = context.getClass(getPropertyMethod.parameterTypes[1])!!
</a><a href="#h14-0-26" id="h14-0-26" class="i">+
</a><a href="#h14-0-27" id="h14-0-27" class="i">+            val observePropertyMethod = classDef.methods.first {
</a><a href="#h14-0-28" id="h14-0-28" class="i">+                it.parameterTypes.size &gt; 2 &amp;&amp;
</a><a href="#h14-0-29" id="h14-0-29" class="i">+                it.parameterTypes[0] == configEnumInterface.type &amp;&amp;
</a><a href="#h14-0-30" id="h14-0-30" class="i">+                it.parameterTypes[1] == &quot;Ljava/lang/String;&quot; &amp;&amp;
</a><a href="#h14-0-31" id="h14-0-31" class="i">+                it.parameterTypes[2] == enumType.type
</a><a href="#h14-0-32" id="h14-0-32" class="i">+            }
</a><a href="#h14-0-33" id="h14-0-33" class="i">+
</a><a href="#h14-0-34" id="h14-0-34" class="i">+            val enumGetDefaultValueMethod = configEnumInterface.methods.first { context.getClass(it.returnType)?.interfaces?.contains(&quot;Ljava/io/Serializable;&quot;) == true }
</a><a href="#h14-0-35" id="h14-0-35" class="i">+            val defaultValueField = context.getClass(enumGetDefaultValueMethod.returnType)!!.fields.first {
</a><a href="#h14-0-36" id="h14-0-36" class="i">+                Modifier.isFinal(it.accessFlags) &amp;&amp;
</a><a href="#h14-0-37" id="h14-0-37" class="i">+                Modifier.isPublic(it.accessFlags) &amp;&amp;
</a><a href="#h14-0-38" id="h14-0-38" class="i">+                it.type == &quot;Ljava/lang/Object;&quot;
</a><a href="#h14-0-39" id="h14-0-39" class="i">+            }
</a><a href="#h14-0-40" id="h14-0-40" class="i">+
</a><a href="#h14-0-41" id="h14-0-41" class="i">+            context.addMapping(&quot;CompositeConfigurationProvider&quot;,
</a><a href="#h14-0-42" id="h14-0-42" class="i">+                &quot;class&quot; to classDef.getClassName(),
</a><a href="#h14-0-43" id="h14-0-43" class="i">+                &quot;observeProperty&quot; to observePropertyMethod.name,
</a><a href="#h14-0-44" id="h14-0-44" class="i">+                &quot;getProperty&quot; to getPropertyMethod.name,
</a><a href="#h14-0-45" id="h14-0-45" class="i">+                &quot;enum&quot; to mapOf(
</a><a href="#h14-0-46" id="h14-0-46" class="i">+                    &quot;class&quot; to configEnumInterface.getClassName(),
</a><a href="#h14-0-47" id="h14-0-47" class="i">+                    &quot;getValue&quot; to enumGetDefaultValueMethod.name,
</a><a href="#h14-0-48" id="h14-0-48" class="i">+                    &quot;defaultValueField&quot; to defaultValueField.name
</a><a href="#h14-0-49" id="h14-0-49" class="i">+                )
</a><a href="#h14-0-50" id="h14-0-50" class="i">+            )
</a><a href="#h14-0-51" id="h14-0-51" class="i">+            return
</a><a href="#h14-0-52" id="h14-0-52" class="i">+        }
</a><a href="#h14-0-53" id="h14-0-53" class="i">+    }
</a><a href="#h14-0-54" id="h14-0-54" class="i">+}</a><a href="#h14-0-55" id="h14-0-55" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h15" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/DefaultMediaItemMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/DefaultMediaItemMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/DefaultMediaItemMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/DefaultMediaItemMapper.kt</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -16,6 +16,7 @@ class DefaultMediaItemMapper : AbstractClassMapper() {
</a>             if (constructorParameters.size &lt; 6 || constructorParameters[5] != &quot;J&quot;) continue
 
             context.addMapping(&quot;DefaultMediaItem&quot;, clazz.type.replace(&quot;L&quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;))
<a href="#h15-0-3" id="h15-0-3" class="i">+            return
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h16" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/EnumMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/EnumMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/EnumMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/EnumMapper.kt</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -3,70 +3,22 @@ package me.rhunk.snapmapper.impl
</a> import me.rhunk.snapmapper.AbstractClassMapper
 import me.rhunk.snapmapper.MapperContext
 import me.rhunk.snapmapper.ext.getClassName
<a href="#h16-0-3" id="h16-0-3" class="d">-import me.rhunk.snapmapper.ext.getStaticConstructor
</a> import me.rhunk.snapmapper.ext.hasStaticConstructorString
 import me.rhunk.snapmapper.ext.isEnum
<a href="#h16-0-6" id="h16-0-6" class="d">-import org.jf.dexlib2.Opcode
</a><a href="#h16-0-7" id="h16-0-7" class="d">-import org.jf.dexlib2.iface.Method
</a><a href="#h16-0-8" id="h16-0-8" class="d">-import org.jf.dexlib2.iface.instruction.formats.Instruction21c
</a><a href="#h16-0-9" id="h16-0-9" class="d">-import org.jf.dexlib2.iface.reference.FieldReference
</a><a href="#h16-0-10" id="h16-0-10" class="d">-import org.jf.dexlib2.iface.reference.StringReference
</a> 
 class EnumMapper : AbstractClassMapper() {
     override fun run(context: MapperContext) {
<a href="#h16-0-14" id="h16-0-14" class="d">-        var enumQualityLevel : String? = null
</a><a href="#h16-0-15" id="h16-0-15" class="d">-        val enums = mutableListOf&lt;Pair&lt;String, String&gt;&gt;()
</a><a href="#h16-0-16" id="h16-0-16" class="i">+        lateinit var enumQualityLevel : String
</a> 
         for (enumClass in context.classes) {
             if (!enumClass.isEnum()) continue
 
<a href="#h16-0-21" id="h16-0-21" class="d">-            if (enumQualityLevel == null &amp;&amp; enumClass.hasStaticConstructorString(&quot;LEVEL_MAX&quot;)) {
</a><a href="#h16-0-22" id="h16-0-22" class="i">+            if (enumClass.hasStaticConstructorString(&quot;LEVEL_MAX&quot;)) {
</a>                 enumQualityLevel = enumClass.getClassName()
<a href="#h16-0-24" id="h16-0-24" class="d">-            }
</a><a href="#h16-0-25" id="h16-0-25" class="d">-
</a><a href="#h16-0-26" id="h16-0-26" class="d">-            if (enumClass.interfaces.isEmpty()) continue
</a><a href="#h16-0-27" id="h16-0-27" class="d">-
</a><a href="#h16-0-28" id="h16-0-28" class="d">-            //check if it&#39;s a config enum
</a><a href="#h16-0-29" id="h16-0-29" class="d">-            val serializableInterfaceClass = context.getClass(enumClass.interfaces.first()) ?: continue
</a><a href="#h16-0-30" id="h16-0-30" class="d">-            if (serializableInterfaceClass.methods.none {it.name == &quot;getName&quot; &amp;&amp; it.returnType == &quot;Ljava/lang/String;&quot; }) continue
</a><a href="#h16-0-31" id="h16-0-31" class="d">-
</a><a href="#h16-0-32" id="h16-0-32" class="d">-            //find the method which returns the enum name
</a><a href="#h16-0-33" id="h16-0-33" class="d">-            val getEnumMethod = enumClass.virtualMethods.firstOrNull { context.getClass(it.returnType)?.isEnum() == true } ?: continue
</a><a href="#h16-0-34" id="h16-0-34" class="d">-
</a><a href="#h16-0-35" id="h16-0-35" class="d">-            //search for constant field instruction sget-object
</a><a href="#h16-0-36" id="h16-0-36" class="d">-
</a><a href="#h16-0-37" id="h16-0-37" class="d">-            fun getFirstFieldReference21c(opcode: Opcode, method: Method) = method.implementation!!.instructions.firstOrNull {
</a><a href="#h16-0-38" id="h16-0-38" class="d">-                it.opcode == opcode &amp;&amp; it is Instruction21c
</a><a href="#h16-0-39" id="h16-0-39" class="d">-            }.let { it as? Instruction21c }?.let {
</a><a href="#h16-0-40" id="h16-0-40" class="d">-                it.reference as? FieldReference
</a><a href="#h16-0-41" id="h16-0-41" class="d">-            }
</a><a href="#h16-0-42" id="h16-0-42" class="d">-
</a><a href="#h16-0-43" id="h16-0-43" class="d">-            val fieldReference = getFirstFieldReference21c(Opcode.SGET_OBJECT, getEnumMethod) ?:
</a><a href="#h16-0-44" id="h16-0-44" class="d">-                getFirstFieldReference21c(Opcode.SGET_OBJECT,enumClass.directMethods.first { it.name == &quot;&lt;init&gt;&quot; }) ?: continue
</a><a href="#h16-0-45" id="h16-0-45" class="d">-
</a><a href="#h16-0-46" id="h16-0-46" class="d">-            //search field name in the &lt;clinit&gt; class
</a><a href="#h16-0-47" id="h16-0-47" class="d">-            val enumClassListEnum = context.getClass(fieldReference.definingClass) ?: continue
</a><a href="#h16-0-48" id="h16-0-48" class="d">-
</a><a href="#h16-0-49" id="h16-0-49" class="d">-            enumClassListEnum.getStaticConstructor()?.let { constructor -&gt;
</a><a href="#h16-0-50" id="h16-0-50" class="d">-                var lastEnumClassName = &quot;&quot;
</a><a href="#h16-0-51" id="h16-0-51" class="d">-                constructor.implementation!!.instructions.forEach {
</a><a href="#h16-0-52" id="h16-0-52" class="d">-                    if (it.opcode == Opcode.CONST_STRING) {
</a><a href="#h16-0-53" id="h16-0-53" class="d">-                        lastEnumClassName = ((it as Instruction21c).reference as StringReference).string
</a><a href="#h16-0-54" id="h16-0-54" class="d">-                        return@forEach
</a><a href="#h16-0-55" id="h16-0-55" class="d">-                    }
</a><a href="#h16-0-56" id="h16-0-56" class="d">-
</a><a href="#h16-0-57" id="h16-0-57" class="d">-                    if (it.opcode == Opcode.SPUT_OBJECT &amp;&amp; it is Instruction21c) {
</a><a href="#h16-0-58" id="h16-0-58" class="d">-                        val field = it.reference as? FieldReference ?: return@forEach
</a><a href="#h16-0-59" id="h16-0-59" class="d">-                        if (field.name != fieldReference.name || field.type != fieldReference.type) return@forEach
</a><a href="#h16-0-60" id="h16-0-60" class="d">-
</a><a href="#h16-0-61" id="h16-0-61" class="d">-                        enums.add(lastEnumClassName to enumClass.getClassName())
</a><a href="#h16-0-62" id="h16-0-62" class="d">-                    }
</a><a href="#h16-0-63" id="h16-0-63" class="d">-                }
</a><a href="#h16-0-64" id="h16-0-64" class="i">+                break;
</a>             }
         }
 
<a href="#h16-0-68" id="h16-0-68" class="d">-        context.addMapping(&quot;EnumQualityLevel&quot;, enumQualityLevel!!)
</a><a href="#h16-0-69" id="h16-0-69" class="d">-
</a><a href="#h16-0-70" id="h16-0-70" class="d">-        context.addMapping(&quot;enums&quot;, *enums.sortedBy { it.first }.toTypedArray())
</a><a href="#h16-0-71" id="h16-0-71" class="i">+        context.addMapping(&quot;EnumQualityLevel&quot;, enumQualityLevel)
</a>     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h17" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/FriendsFeedEventDispatcherMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/FriendsFeedEventDispatcherMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/FriendsFeedEventDispatcherMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/FriendsFeedEventDispatcherMapper.kt</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -22,6 +22,7 @@ class FriendsFeedEventDispatcherMapper : AbstractClassMapper() {
</a>                 &quot;class&quot; to clazz.getClassName(),
                 &quot;viewModelField&quot; to viewModelField
             )
<a href="#h17-0-3" id="h17-0-3" class="i">+            return
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h18" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/MediaQualityLevelProviderMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/MediaQualityLevelProviderMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/MediaQualityLevelProviderMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/MediaQualityLevelProviderMapper.kt</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -18,6 +18,7 @@ class MediaQualityLevelProviderMapper : AbstractClassMapper(EnumMapper::class) {
</a>                     &quot;class&quot; to clazz.type.replace(&quot;L&quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;),
                     &quot;method&quot; to it.name
                 )
<a href="#h18-0-3" id="h18-0-3" class="i">+                return
</a>             }
         }
     }
<b>diff --git a/<a id="h19" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/PlatformAnalyticsCreatorMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/PlatformAnalyticsCreatorMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/PlatformAnalyticsCreatorMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/PlatformAnalyticsCreatorMapper.kt</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -18,6 +18,7 @@ class PlatformAnalyticsCreatorMapper : AbstractClassMapper() {
</a>             if (firstParameterClass.getStaticConstructor()?.implementation?.findConstString(&quot;IN_APP_NOTIFICATION&quot;) != true) continue
 
             context.addMapping(&quot;PlatformAnalyticsCreator&quot;, clazz.type.replace(&quot;L&quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;))
<a href="#h19-0-3" id="h19-0-3" class="i">+            return
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h20" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScCameraSettingsMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScCameraSettingsMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScCameraSettingsMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScCameraSettingsMapper.kt</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -15,6 +15,7 @@ class ScCameraSettingsMapper : AbstractClassMapper() {
</a>             if (!firstParameter.isEnum() || firstParameter.getStaticConstructor()?.implementation?.findConstString(&quot;CONTINUOUS_PICTURE&quot;) != true) continue
 
             context.addMapping(&quot;ScCameraSettings&quot;, clazz.type.replace(&quot;L&quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;))
<a href="#h20-0-3" id="h20-0-3" class="i">+            return
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h21" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScoreUpdateMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScoreUpdateMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScoreUpdateMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/ScoreUpdateMapper.kt</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -0,0 +1,25 @@
</a><a href="#h21-0-0" id="h21-0-0" class="i">+package me.rhunk.snapmapper.impl
</a><a href="#h21-0-1" id="h21-0-1" class="i">+
</a><a href="#h21-0-2" id="h21-0-2" class="i">+import me.rhunk.snapmapper.AbstractClassMapper
</a><a href="#h21-0-3" id="h21-0-3" class="i">+import me.rhunk.snapmapper.MapperContext
</a><a href="#h21-0-4" id="h21-0-4" class="i">+import me.rhunk.snapmapper.ext.findConstString
</a><a href="#h21-0-5" id="h21-0-5" class="i">+import me.rhunk.snapmapper.ext.getClassName
</a><a href="#h21-0-6" id="h21-0-6" class="i">+
</a><a href="#h21-0-7" id="h21-0-7" class="i">+class ScoreUpdateMapper : AbstractClassMapper() {
</a><a href="#h21-0-8" id="h21-0-8" class="i">+    override fun run(context: MapperContext) {
</a><a href="#h21-0-9" id="h21-0-9" class="i">+        for (classDef in context.classes) {
</a><a href="#h21-0-10" id="h21-0-10" class="i">+            classDef.methods.firstOrNull {
</a><a href="#h21-0-11" id="h21-0-11" class="i">+                it.name == &quot;&lt;init&gt;&quot; &amp;&amp;
</a><a href="#h21-0-12" id="h21-0-12" class="i">+                it.parameterTypes.size &gt; 4 &amp;&amp;
</a><a href="#h21-0-13" id="h21-0-13" class="i">+                it.parameterTypes[1] == &quot;Ljava/lang/Long;&quot; &amp;&amp;
</a><a href="#h21-0-14" id="h21-0-14" class="i">+                it.parameterTypes[3] == &quot;Ljava/util/Collection;&quot;
</a><a href="#h21-0-15" id="h21-0-15" class="i">+            } ?: continue
</a><a href="#h21-0-16" id="h21-0-16" class="i">+            if (classDef.methods.firstOrNull {
</a><a href="#h21-0-17" id="h21-0-17" class="i">+                it.name == &quot;toString&quot;
</a><a href="#h21-0-18" id="h21-0-18" class="i">+            }?.implementation?.findConstString(&quot;Friend.sq:selectFriendUserScoresNeedToUpdate&quot;) != true) continue
</a><a href="#h21-0-19" id="h21-0-19" class="i">+
</a><a href="#h21-0-20" id="h21-0-20" class="i">+            context.addMapping(&quot;ScoreUpdate&quot;, classDef.getClassName())
</a><a href="#h21-0-21" id="h21-0-21" class="i">+            return
</a><a href="#h21-0-22" id="h21-0-22" class="i">+        }
</a><a href="#h21-0-23" id="h21-0-23" class="i">+    }
</a><a href="#h21-0-24" id="h21-0-24" class="i">+}</a><a href="#h21-0-25" id="h21-0-25" class="i">+
\ No newline at end of file
</a><b>diff --git a/<a id="h22" href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/StoryBoostStateMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/StoryBoostStateMapper.kt</a> b/<a href="../file/mapper/src/main/kotlin/me/rhunk/snapmapper/impl/StoryBoostStateMapper.kt.html">mapper/src/main/kotlin/me/rhunk/snapmapper/impl/StoryBoostStateMapper.kt</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -18,6 +18,7 @@ class StoryBoostStateMapper : AbstractClassMapper() {
</a>             if (storyBoostEnumClass.getStaticConstructor()?.implementation?.findConstString(&quot;NeedSubscriptionCannotSubscribe&quot;) != true) continue
 
             context.addMapping(&quot;StoryBoostStateClass&quot;, clazz.type.replace(&quot;L&quot;, &quot;&quot;).replace(&quot;;&quot;, &quot;&quot;))
<a href="#h22-0-3" id="h22-0-3" class="i">+            return
</a>         }
     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h23" href="../file/mapper/src/test/kotlin/me/rhunk/snapenhance/mapper/tests/TestMappings.kt.html">mapper/src/test/kotlin/me/rhunk/snapenhance/mapper/tests/TestMappings.kt</a> b/<a href="../file/mapper/src/test/kotlin/me/rhunk/snapenhance/mapper/tests/TestMappings.kt.html">mapper/src/test/kotlin/me/rhunk/snapenhance/mapper/tests/TestMappings.kt</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -21,7 +21,9 @@ class TestMappings {
</a>             PlusSubscriptionMapper::class,
             ScCameraSettingsMapper::class,
             StoryBoostStateMapper::class,
<a href="#h23-0-3" id="h23-0-3" class="d">-            FriendsFeedEventDispatcherMapper::class
</a><a href="#h23-0-4" id="h23-0-4" class="i">+            FriendsFeedEventDispatcherMapper::class,
</a><a href="#h23-0-5" id="h23-0-5" class="i">+            CompositeConfigurationProviderMapper::class,
</a><a href="#h23-0-6" id="h23-0-6" class="i">+            ScoreUpdateMapper::class,
</a>         )
 
         val gson = GsonBuilder().setPrettyPrinting().create()
</pre>
</div>
</body>
</html>
