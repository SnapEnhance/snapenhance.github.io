<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>chore(lang): section translation - profile picture downloader config - SnapEnhance - An Xposed module offering an enhanced Snapchat experience
</title>
<link rel="icon" type="image/svg+xml" href="../../logo.png"/>
<link rel="alternate icon" href="../../favicon.png"/>
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<link rel="stylesheet" type="text/css" href="../../fonts.css" />
</head>
<body>
<div id="head"><table><tr><td><a class="logo" href="../../"><img src="../../logo.png" alt="" width="32" height="32" /></a></td><td><strong>SnapEnhance</strong><span class="desc"> - An Xposed module offering an enhanced Snapchat experience
</span>
</td></tr></table>
<p><a href="../about.html">About</a> | <a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">License</a></p>
</div>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/77584d67e21b7b3801017a5220a832be7abb2730.html">77584d67e21b7b3801017a5220a832be7abb2730</a>
<b>parent</b> <a href="../commit/e587f4700a491aff805dd5d35e9ebf5630d80f4b.html">e587f4700a491aff805dd5d35e9ebf5630d80f4b</a>
<b>Author:</b> rhunk &lt;<a href="mailto:101876869+rhunk@users.noreply.github.com">101876869+rhunk@users.noreply.github.com</a>&gt;
<b>Date:</b>   Sun,  3 Sep 2023 00:11:11 +0200

chore(lang): section translation
- profile picture downloader config

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++++++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/downloads/DownloadsSection.kt</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/home/HomeSection.kt</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/AddFriendDialog.kt</a></td><td> | </td><td class="num">13</td><td><span class="i">++++++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/ScopeContent.kt</a></td><td> | </td><td class="num">21</td><td><span class="i">++++++++++</span><span class="d">-----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/SocialSection.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/PermissionsScreen.kt</a></td><td> | </td><td class="num">70</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">-------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">app/src/main/kotlin/me/rhunk/snapenhance/ui/util/AlertDialogs.kt</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">core/src/main/assets/lang/en_US.json</a></td><td> | </td><td class="num">64</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">-------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/DownloaderConfig.kt</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/RootConfig.kt</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/ProfilePictureDownloader.kt</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++++</span><span class="d">-----</span></td></tr>
</table></pre><pre>12 files changed, 150 insertions(+), 68 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/NotImplemented.kt</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,14 +1,22 @@
</a> package me.rhunk.snapenhance.ui.manager.sections
 
<a href="#h0-0-2" id="h0-0-2" class="i">+import androidx.compose.foundation.layout.Arrangement
</a> import androidx.compose.foundation.layout.Column
<a href="#h0-0-4" id="h0-0-4" class="i">+import androidx.compose.foundation.layout.fillMaxSize
</a> import androidx.compose.material3.Text
 import androidx.compose.runtime.Composable
<a href="#h0-0-7" id="h0-0-7" class="i">+import androidx.compose.ui.Alignment
</a><a href="#h0-0-8" id="h0-0-8" class="i">+import androidx.compose.ui.Modifier
</a> import me.rhunk.snapenhance.ui.manager.Section
 
 class NotImplemented : Section() {
     @Composable
     override fun Content() {
<a href="#h0-0-14" id="h0-0-14" class="d">-        Column {
</a><a href="#h0-0-15" id="h0-0-15" class="i">+        Column(
</a><a href="#h0-0-16" id="h0-0-16" class="i">+            modifier = Modifier.fillMaxSize(),
</a><a href="#h0-0-17" id="h0-0-17" class="i">+            verticalArrangement = Arrangement.Center,
</a><a href="#h0-0-18" id="h0-0-18" class="i">+            horizontalAlignment = Alignment.CenterHorizontally,
</a><a href="#h0-0-19" id="h0-0-19" class="i">+        ) {
</a>             Text(text = &quot;Not implemented yet!&quot;)
         }
     }
<b>diff --git a/<a id="h1" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/downloads/DownloadsSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/downloads/DownloadsSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/downloads/DownloadsSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/downloads/DownloadsSection.kt</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -269,9 +269,13 @@ class DownloadsSection : Section() {
</a>             item {
                 Spacer(Modifier.height(20.dp))
                 if (loadedDownloads.value.isEmpty()) {
<a href="#h1-0-3" id="h1-0-3" class="d">-                    Text(text = &quot;(empty)&quot;, fontSize = 20.sp, modifier = Modifier
</a><a href="#h1-0-4" id="h1-0-4" class="i">+                    Text(
</a><a href="#h1-0-5" id="h1-0-5" class="i">+                        text = context.translation[&quot;manager.sections.downloads.empty_download_list&quot;],
</a><a href="#h1-0-6" id="h1-0-6" class="i">+                        fontSize = 20.sp,
</a><a href="#h1-0-7" id="h1-0-7" class="i">+                        modifier = Modifier
</a>                         .fillMaxWidth()
<a href="#h1-0-9" id="h1-0-9" class="d">-                        .padding(10.dp), textAlign = TextAlign.Center)
</a><a href="#h1-0-10" id="h1-0-10" class="i">+                        .padding(10.dp), textAlign = TextAlign.Center
</a><a href="#h1-0-11" id="h1-0-11" class="i">+                    )
</a>                 }
                 LaunchedEffect(Unit) {
                     val lastItemIndex = (loadedDownloads.value.size - 1).takeIf { it &gt;= 0 } ?: return@LaunchedEffect
<b>diff --git a/<a id="h2" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/home/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/home/HomeSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/home/HomeSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/home/HomeSection.kt</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -250,7 +250,9 @@ class HomeSection : Section() {
</a>                             navController.navigate(LOGS_SECTION_ROUTE)
                             showDropDown = false
                         }, text = {
<a href="#h2-0-3" id="h2-0-3" class="d">-                            Text(text = &quot;Clear logs&quot;)
</a><a href="#h2-0-4" id="h2-0-4" class="i">+                            Text(
</a><a href="#h2-0-5" id="h2-0-5" class="i">+                                text = context.translation[&quot;manager.sections.home.logs.clear_logs_button&quot;]
</a><a href="#h2-0-6" id="h2-0-6" class="i">+                            )
</a>                         })
 
                         DropdownMenuItem(onClick = {
<a href="#h2-1" id="h2-1" class="h">@@ -267,7 +269,9 @@ class HomeSection : Section() {
</a>                             }
                             showDropDown = false
                         }, text = {
<a href="#h2-1-3" id="h2-1-3" class="d">-                            Text(text = &quot;Export logs&quot;)
</a><a href="#h2-1-4" id="h2-1-4" class="i">+                            Text(
</a><a href="#h2-1-5" id="h2-1-5" class="i">+                                text = context.translation[&quot;manager.sections.home.logs.export_logs_button&quot;]
</a><a href="#h2-1-6" id="h2-1-6" class="i">+                            )
</a>                         })
                     }
                 }
<b>diff --git a/<a id="h3" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/AddFriendDialog.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/AddFriendDialog.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/AddFriendDialog.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/AddFriendDialog.kt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -53,6 +53,9 @@ class AddFriendDialog(
</a>     private val context: RemoteSideContext,
     private val section: SocialSection,
 ) {
<a href="#h3-0-3" id="h3-0-3" class="i">+
</a><a href="#h3-0-4" id="h3-0-4" class="i">+    private val translation by lazy { context.translation.getCategory(&quot;manager.dialogs.add_friend&quot;)}
</a><a href="#h3-0-5" id="h3-0-5" class="i">+
</a>     @Composable
     private fun ListCardEntry(name: String, getCurrentState: () -&gt; Boolean, onState: (Boolean) -&gt; Unit = {}) {
         var currentState by remember { mutableStateOf(getCurrentState()) }
<a href="#h3-1" id="h3-1" class="h">@@ -95,7 +98,7 @@ class AddFriendDialog(
</a>                 .padding(10.dp),
         ) {
             Text(
<a href="#h3-1-3" id="h3-1-3" class="d">-                text = &quot;Add Friend or Group&quot;,
</a><a href="#h3-1-4" id="h3-1-4" class="i">+                text = translation[&quot;title&quot;],
</a>                 fontSize = 23.sp,
                 fontWeight = FontWeight.ExtraBold,
                 modifier = Modifier
<a href="#h3-2" id="h3-2" class="h">@@ -113,7 +116,7 @@ class AddFriendDialog(
</a>                 value = searchKeyword.value,
                 onValueChange = { searchKeyword.value = it },
                 label = {
<a href="#h3-2-3" id="h3-2-3" class="d">-                    Text(text = &quot;Search&quot;)
</a><a href="#h3-2-4" id="h3-2-4" class="i">+                    Text(text = translation[&quot;search_hint&quot;])
</a>                 },
                 modifier = Modifier
                     .weight(1f)
<a href="#h3-3" id="h3-3" class="h">@@ -184,7 +187,7 @@ class AddFriendDialog(
</a>                     ) {
                         if (hasFetchError) {
                             Text(
<a href="#h3-3-3" id="h3-3-3" class="d">-                                text = &quot;Failed to fetch data&quot;,
</a><a href="#h3-3-4" id="h3-3-4" class="i">+                                text = translation[&quot;fetch_error&quot;],
</a>                                 fontSize = 20.sp,
                                 fontWeight = FontWeight.Bold,
                                 modifier = Modifier.padding(bottom = 10.dp, top = 10.dp)
<a href="#h3-4" id="h3-4" class="h">@@ -222,7 +225,7 @@ class AddFriendDialog(
</a>                 ) {
                     item {
                         if (filteredGroups.isEmpty()) return@item
<a href="#h3-4-3" id="h3-4-3" class="d">-                        Text(text = &quot;Groups&quot;,
</a><a href="#h3-4-4" id="h3-4-4" class="i">+                        Text(text = translation[&quot;category_groups&quot;],
</a>                             fontSize = 20.sp,
                             fontWeight = FontWeight.Bold,
                             modifier = Modifier.padding(bottom = 10.dp, top = 10.dp)
<a href="#h3-5" id="h3-5" class="h">@@ -248,7 +251,7 @@ class AddFriendDialog(
</a> 
                     item {
                         if (filteredFriends.isEmpty()) return@item
<a href="#h3-5-3" id="h3-5-3" class="d">-                        Text(text = &quot;Friends&quot;,
</a><a href="#h3-5-4" id="h3-5-4" class="i">+                        Text(text = translation[&quot;category_friends&quot;],
</a>                             fontSize = 20.sp,
                             fontWeight = FontWeight.Bold,
                             modifier = Modifier.padding(bottom = 10.dp, top = 10.dp)
<b>diff --git a/<a id="h4" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/ScopeContent.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/ScopeContent.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/ScopeContent.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/ScopeContent.kt</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -40,6 +40,8 @@ class ScopeContent(
</a>     val scope: SocialScope,
     private val id: String
 ) {
<a href="#h4-0-3" id="h4-0-3" class="i">+    private val translation by lazy { context.translation.getCategory(&quot;manager.sections.social&quot;) }
</a><a href="#h4-0-4" id="h4-0-4" class="i">+
</a>     fun deleteScope(coroutineScope: CoroutineScope) {
         when (scope) {
             SocialScope.FRIEND -&gt; context.modDatabase.deleteFriend(id)
<a href="#h4-1" id="h4-1" class="h">@@ -68,7 +70,7 @@ class ScopeContent(
</a> 
             val rules = context.modDatabase.getRules(id)
 
<a href="#h4-1-3" id="h4-1-3" class="d">-            SectionTitle(&quot;Rules&quot;)
</a><a href="#h4-1-4" id="h4-1-4" class="i">+            SectionTitle(translation[&quot;rules_title&quot;])
</a> 
             ContentCard {
                 //manager anti features etc
<a href="#h4-2" id="h4-2" class="h">@@ -163,7 +165,7 @@ class ScopeContent(
</a>     private fun Friend() {
         //fetch the friend from the database
         val friend = remember { context.modDatabase.getFriendInfo(id) } ?: run {
<a href="#h4-2-3" id="h4-2-3" class="d">-            Text(text = &quot;Friend not found&quot;)
</a><a href="#h4-2-4" id="h4-2-4" class="i">+            Text(text = translation[&quot;not_found&quot;])
</a>             return
         }
 
<a href="#h4-3" id="h4-3" class="h">@@ -197,9 +199,6 @@ class ScopeContent(
</a>                 fontSize = 12.sp,
                 fontWeight = FontWeight.Light
             )
<a href="#h4-3-3" id="h4-3-3" class="d">-           // Spacer(modifier = Modifier.height(16.dp))
</a><a href="#h4-3-4" id="h4-3-4" class="d">-
</a><a href="#h4-3-5" id="h4-3-5" class="d">-            //DeleteScopeEntityButton()
</a>         }
 
         Spacer(modifier = Modifier.height(16.dp))
<a href="#h4-4" id="h4-4" class="h">@@ -207,7 +206,7 @@ class ScopeContent(
</a>             //streaks
             streaks?.let {
                 var shouldNotify by remember { mutableStateOf(it.notify) }
<a href="#h4-4-3" id="h4-4-3" class="d">-                SectionTitle(&quot;Streaks&quot;)
</a><a href="#h4-4-4" id="h4-4-4" class="i">+                SectionTitle(translation[&quot;streaks_title&quot;])
</a>                 ContentCard {
                     Row(
                         verticalAlignment = Alignment.CenterVertically
<a href="#h4-5" id="h4-5" class="h">@@ -215,13 +214,13 @@ class ScopeContent(
</a>                         Column(
                             modifier = Modifier.weight(1f),
                         ) {
<a href="#h4-5-3" id="h4-5-3" class="d">-                            Text(text = &quot;Length: ${streaks.length}&quot;, maxLines = 1)
</a><a href="#h4-5-4" id="h4-5-4" class="d">-                            Text(text = &quot;Expires in: ${computeStreakETA(streaks.expirationTimestamp)}&quot;, maxLines = 1)
</a><a href="#h4-5-5" id="h4-5-5" class="i">+                            Text(text = translation.format(&quot;streaks_length_text&quot;, &quot;count&quot; to streaks.length.toString()), maxLines = 1)
</a><a href="#h4-5-6" id="h4-5-6" class="i">+                            Text(text = translation.format(&quot;streaks_expiration_text&quot;, &quot;eta&quot; to computeStreakETA(streaks.expirationTimestamp)), maxLines = 1)
</a>                         }
                         Row(
                             verticalAlignment = Alignment.CenterVertically
                         ) {
<a href="#h4-5-11" id="h4-5-11" class="d">-                            Text(text = &quot;Reminder&quot;, maxLines = 1, modifier = Modifier.padding(end = 10.dp))
</a><a href="#h4-5-12" id="h4-5-12" class="i">+                            Text(text = translation[&quot;reminder_button&quot;], maxLines = 1, modifier = Modifier.padding(end = 10.dp))
</a>                             Switch(checked = shouldNotify, onCheckedChange = {
                                 context.modDatabase.setFriendStreaksNotify(id, it)
                                 shouldNotify = it
<a href="#h4-6" id="h4-6" class="h">@@ -237,7 +236,7 @@ class ScopeContent(
</a>     private fun Group() {
         //fetch the group from the database
         val group = remember { context.modDatabase.getGroupInfo(id) } ?: run {
<a href="#h4-6-3" id="h4-6-3" class="d">-            Text(text = &quot;Group not found&quot;)
</a><a href="#h4-6-4" id="h4-6-4" class="i">+            Text(text = translation[&quot;not_found&quot;])
</a>             return
         }
 
<a href="#h4-7" id="h4-7" class="h">@@ -256,7 +255,7 @@ class ScopeContent(
</a>             )
             Spacer(modifier = Modifier.height(5.dp))
             Text(
<a href="#h4-7-3" id="h4-7-3" class="d">-                text = &quot;Participants: ${group.participantsCount}&quot;,
</a><a href="#h4-7-4" id="h4-7-4" class="i">+                text = translation.format(&quot;participants_text&quot;, &quot;count&quot; to group.participantsCount.toString()),
</a>                 maxLines = 1,
                 fontSize = 12.sp,
                 fontWeight = FontWeight.Light
<b>diff --git a/<a id="h5" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/SocialSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/SocialSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/SocialSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/sections/social/SocialSection.kt</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -219,7 +219,7 @@ class SocialSection : Section() {
</a>                                                 MaterialTheme.colorScheme.error
                                             else MaterialTheme.colorScheme.primary
                                         )
<a href="#h5-0-3" id="h5-0-3" class="d">-                                        Text(text = &quot;${streaks.hoursLeft()}h&quot;, maxLines = 1, fontWeight = FontWeight.Bold)
</a><a href="#h5-0-4" id="h5-0-4" class="i">+                                        Text(text = context.translation.format(&quot;context.sections.social.streaks_expiration_short&quot;, &quot;hours&quot; to streaks.length.toString()), maxLines = 1, fontWeight = FontWeight.Bold)
</a>                                     }
                                 }
                             }
<b>diff --git a/<a id="h6" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/PermissionsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/PermissionsScreen.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/PermissionsScreen.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/setup/screens/impl/PermissionsScreen.kt</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -15,7 +15,11 @@ import androidx.compose.foundation.layout.Column
</a> import androidx.compose.foundation.layout.Row
 import androidx.compose.foundation.layout.fillMaxWidth
 import androidx.compose.foundation.layout.padding
<a href="#h6-0-3" id="h6-0-3" class="i">+import androidx.compose.foundation.layout.size
</a><a href="#h6-0-4" id="h6-0-4" class="i">+import androidx.compose.material.icons.Icons
</a><a href="#h6-0-5" id="h6-0-5" class="i">+import androidx.compose.material.icons.filled.Check
</a> import androidx.compose.material3.Button
<a href="#h6-0-7" id="h6-0-7" class="i">+import androidx.compose.material3.Icon
</a> import androidx.compose.material3.OutlinedCard
 import androidx.compose.material3.Text
 import androidx.compose.runtime.Composable
<a href="#h6-1" id="h6-1" class="h">@@ -26,6 +30,7 @@ import androidx.compose.runtime.remember
</a> import androidx.compose.runtime.rememberCoroutineScope
 import androidx.compose.runtime.setValue
 import androidx.compose.ui.Modifier
<a href="#h6-1-3" id="h6-1-3" class="i">+import androidx.compose.ui.graphics.Color
</a> import androidx.compose.ui.unit.dp
 import kotlinx.coroutines.launch
 import me.rhunk.snapenhance.ui.setup.screens.SetupScreen
<a href="#h6-2" id="h6-2" class="h">@@ -38,6 +43,24 @@ class PermissionsScreen : SetupScreen() {
</a>         activityLauncherHelper = ActivityLauncherHelper(context.activity!!)
     }
 
<a href="#h6-2-3" id="h6-2-3" class="i">+    @Composable
</a><a href="#h6-2-4" id="h6-2-4" class="i">+    private fun RequestButton(onClick: () -&gt; Unit) {
</a><a href="#h6-2-5" id="h6-2-5" class="i">+        Button(onClick = onClick) {
</a><a href="#h6-2-6" id="h6-2-6" class="i">+            Text(text = context.translation[&quot;setup.permissions.request_button&quot;])
</a><a href="#h6-2-7" id="h6-2-7" class="i">+        }
</a><a href="#h6-2-8" id="h6-2-8" class="i">+    }
</a><a href="#h6-2-9" id="h6-2-9" class="i">+
</a><a href="#h6-2-10" id="h6-2-10" class="i">+    @Composable
</a><a href="#h6-2-11" id="h6-2-11" class="i">+    private fun GrantedIcon() {
</a><a href="#h6-2-12" id="h6-2-12" class="i">+        Icon(
</a><a href="#h6-2-13" id="h6-2-13" class="i">+            imageVector = Icons.Filled.Check,
</a><a href="#h6-2-14" id="h6-2-14" class="i">+            contentDescription = null,
</a><a href="#h6-2-15" id="h6-2-15" class="i">+            modifier = Modifier
</a><a href="#h6-2-16" id="h6-2-16" class="i">+                .size(24.dp)
</a><a href="#h6-2-17" id="h6-2-17" class="i">+                .padding(5.dp)
</a><a href="#h6-2-18" id="h6-2-18" class="i">+        )
</a><a href="#h6-2-19" id="h6-2-19" class="i">+    }
</a><a href="#h6-2-20" id="h6-2-20" class="i">+
</a>     @SuppressLint(&quot;BatteryLife&quot;)
     @Composable
     override fun Content() {
<a href="#h6-3" id="h6-3" class="h">@@ -59,7 +82,7 @@ class PermissionsScreen : SetupScreen() {
</a>             allowNext(false)
         }
 
<a href="#h6-3-3" id="h6-3-3" class="d">-        DialogText(text = &quot;To continue you need to fit the following requirements:&quot;)
</a><a href="#h6-3-4" id="h6-3-4" class="i">+        DialogText(text = context.translation[&quot;setup.permissions.dialog&quot;])
</a> 
         OutlinedCard(
             modifier = Modifier
<a href="#h6-4" id="h6-4" class="h">@@ -73,39 +96,36 @@ class PermissionsScreen : SetupScreen() {
</a>                 Row(
                     horizontalArrangement = Arrangement.Absolute.SpaceAround
                 ) {
<a href="#h6-4-3" id="h6-4-3" class="d">-                    DialogText(text = &quot;Notification access&quot;, modifier = Modifier.weight(1f))
</a><a href="#h6-4-4" id="h6-4-4" class="i">+                    DialogText(text = context.translation[&quot;setup.permissions.dialog&quot;], modifier = Modifier.weight(1f))
</a>                     if (notificationPermissionGranted) {
<a href="#h6-4-6" id="h6-4-6" class="d">-                        DialogText(text = &quot;Granted&quot;)
</a><a href="#h6-4-7" id="h6-4-7" class="d">-                    } else {
</a><a href="#h6-4-8" id="h6-4-8" class="d">-                        Button(onClick = {
</a><a href="#h6-4-9" id="h6-4-9" class="d">-                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {
</a><a href="#h6-4-10" id="h6-4-10" class="d">-                                activityLauncherHelper.requestPermission(Manifest.permission.POST_NOTIFICATIONS) { resultCode, _ -&gt;
</a><a href="#h6-4-11" id="h6-4-11" class="d">-                                    coroutineScope.launch {
</a><a href="#h6-4-12" id="h6-4-12" class="d">-                                        notificationPermissionGranted = resultCode == ComponentActivity.RESULT_OK
</a><a href="#h6-4-13" id="h6-4-13" class="d">-                                    }
</a><a href="#h6-4-14" id="h6-4-14" class="i">+                        GrantedIcon()
</a><a href="#h6-4-15" id="h6-4-15" class="i">+                        return@Row
</a><a href="#h6-4-16" id="h6-4-16" class="i">+                    }
</a><a href="#h6-4-17" id="h6-4-17" class="i">+
</a><a href="#h6-4-18" id="h6-4-18" class="i">+                    RequestButton {
</a><a href="#h6-4-19" id="h6-4-19" class="i">+                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {
</a><a href="#h6-4-20" id="h6-4-20" class="i">+                            activityLauncherHelper.requestPermission(Manifest.permission.POST_NOTIFICATIONS) { resultCode, _ -&gt;
</a><a href="#h6-4-21" id="h6-4-21" class="i">+                                coroutineScope.launch {
</a><a href="#h6-4-22" id="h6-4-22" class="i">+                                    notificationPermissionGranted = resultCode == ComponentActivity.RESULT_OK
</a>                                 }
                             }
<a href="#h6-4-25" id="h6-4-25" class="d">-                        }) {
</a><a href="#h6-4-26" id="h6-4-26" class="d">-                            Text(text = &quot;Request&quot;)
</a>                         }
                     }
                 }
                 Row {
<a href="#h6-4-31" id="h6-4-31" class="d">-                    DialogText(text = &quot;Battery optimisation&quot;, modifier = Modifier.weight(1f))
</a><a href="#h6-4-32" id="h6-4-32" class="i">+                    DialogText(text = context.translation[&quot;setup.permissions.battery_optimization&quot;], modifier = Modifier.weight(1f))
</a>                     if (isBatteryOptimisationIgnored) {
<a href="#h6-4-34" id="h6-4-34" class="d">-                        DialogText(text = &quot;Ignored&quot;)
</a><a href="#h6-4-35" id="h6-4-35" class="d">-                    } else {
</a><a href="#h6-4-36" id="h6-4-36" class="d">-                        Button(onClick = {
</a><a href="#h6-4-37" id="h6-4-37" class="d">-                            activityLauncherHelper.launch(Intent().apply {
</a><a href="#h6-4-38" id="h6-4-38" class="d">-                                action = Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS
</a><a href="#h6-4-39" id="h6-4-39" class="d">-                                data = Uri.parse(&quot;package:${context.androidContext.packageName}&quot;)
</a><a href="#h6-4-40" id="h6-4-40" class="d">-                            }) { resultCode, _ -&gt;
</a><a href="#h6-4-41" id="h6-4-41" class="d">-                                coroutineScope.launch {
</a><a href="#h6-4-42" id="h6-4-42" class="d">-                                    isBatteryOptimisationIgnored = resultCode == 0
</a><a href="#h6-4-43" id="h6-4-43" class="d">-                                }
</a><a href="#h6-4-44" id="h6-4-44" class="i">+                        GrantedIcon()
</a><a href="#h6-4-45" id="h6-4-45" class="i">+                        return@Row
</a><a href="#h6-4-46" id="h6-4-46" class="i">+                    }
</a><a href="#h6-4-47" id="h6-4-47" class="i">+                    RequestButton {
</a><a href="#h6-4-48" id="h6-4-48" class="i">+                        activityLauncherHelper.launch(Intent().apply {
</a><a href="#h6-4-49" id="h6-4-49" class="i">+                            action = Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS
</a><a href="#h6-4-50" id="h6-4-50" class="i">+                            data = Uri.parse(&quot;package:${context.androidContext.packageName}&quot;)
</a><a href="#h6-4-51" id="h6-4-51" class="i">+                        }) { resultCode, _ -&gt;
</a><a href="#h6-4-52" id="h6-4-52" class="i">+                            coroutineScope.launch {
</a><a href="#h6-4-53" id="h6-4-53" class="i">+                                isBatteryOptimisationIgnored = resultCode == 0
</a>                             }
<a href="#h6-4-55" id="h6-4-55" class="d">-                        }) {
</a><a href="#h6-4-56" id="h6-4-56" class="d">-                            Text(text = &quot;Request&quot;)
</a>                         }
                     }
                 }
<b>diff --git a/<a id="h7" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/util/AlertDialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/util/AlertDialogs.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/util/AlertDialogs.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/util/AlertDialogs.kt</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -210,7 +210,7 @@ class AlertDialogs(
</a>                 horizontalArrangement = Arrangement.SpaceEvenly,
             ) {
                 Button(onClick = { dismiss() }) {
<a href="#h7-0-3" id="h7-0-3" class="d">-                    Text(text = &quot;Cancel&quot;)
</a><a href="#h7-0-4" id="h7-0-4" class="i">+                    Text(text = translation[&quot;button.cancel&quot;])
</a>                 }
                 Button(onClick = {
                     when (property.key.dataType.type) {
<a href="#h7-1" id="h7-1" class="h">@@ -232,7 +232,7 @@ class AlertDialogs(
</a>                     }
                     dismiss()
                 }) {
<a href="#h7-1-3" id="h7-1-3" class="d">-                    Text(text = &quot;Ok&quot;)
</a><a href="#h7-1-4" id="h7-1-4" class="i">+                    Text(text = translation[&quot;button.ok&quot;])
</a>                 }
             }
         }
<b>diff --git a/<a id="h8" href="../file/core/src/main/assets/lang/en_US.json.html">core/src/main/assets/lang/en_US.json</a> b/<a href="../file/core/src/main/assets/lang/en_US.json.html">core/src/main/assets/lang/en_US.json</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -12,6 +12,12 @@
</a>             &quot;generate_failure_no_snapchat&quot;: &quot;SnapEnhance was unable to detect Snapchat, please try reinstalling Snapchat.&quot;,
             &quot;generate_failure&quot;: &quot;An error occurred while trying to generate mappings, please try again.&quot;,
             &quot;generate_success&quot;: &quot;Mappings generated successfully.&quot;
<a href="#h8-0-3" id="h8-0-3" class="i">+        },
</a><a href="#h8-0-4" id="h8-0-4" class="i">+        &quot;permissions&quot;: {
</a><a href="#h8-0-5" id="h8-0-5" class="i">+            &quot;dialog&quot;: &quot;To continue you need to fit the following requirements:&quot;,
</a><a href="#h8-0-6" id="h8-0-6" class="i">+            &quot;notification_access&quot;: &quot;Notification Access&quot;,
</a><a href="#h8-0-7" id="h8-0-7" class="i">+            &quot;battery_optimization&quot;: &quot;Battery Optimization&quot;,
</a><a href="#h8-0-8" id="h8-0-8" class="i">+            &quot;request_button&quot;: &quot;Request&quot;
</a>         }
     },
 
<a href="#h8-1" id="h8-1" class="h">@@ -25,8 +31,38 @@
</a>             &quot;social&quot;: &quot;Social&quot;,
             &quot;plugins&quot;: &quot;Plugins&quot;
         },
<a href="#h8-1-3" id="h8-1-3" class="d">-        &quot;features&quot;: {
</a><a href="#h8-1-4" id="h8-1-4" class="d">-            &quot;disabled&quot;: &quot;Disabled&quot;
</a><a href="#h8-1-5" id="h8-1-5" class="i">+        &quot;sections&quot;: {
</a><a href="#h8-1-6" id="h8-1-6" class="i">+            &quot;home&quot;: {
</a><a href="#h8-1-7" id="h8-1-7" class="i">+                &quot;logs&quot;: {
</a><a href="#h8-1-8" id="h8-1-8" class="i">+                    &quot;clear_logs_button&quot;: &quot;Clear Logs&quot;,
</a><a href="#h8-1-9" id="h8-1-9" class="i">+                    &quot;export_logs_button&quot;: &quot;Export Logs&quot;
</a><a href="#h8-1-10" id="h8-1-10" class="i">+                }
</a><a href="#h8-1-11" id="h8-1-11" class="i">+            },
</a><a href="#h8-1-12" id="h8-1-12" class="i">+            &quot;downloads&quot;: {
</a><a href="#h8-1-13" id="h8-1-13" class="i">+                &quot;empty_download_list&quot;: &quot;(empty)&quot;
</a><a href="#h8-1-14" id="h8-1-14" class="i">+            },
</a><a href="#h8-1-15" id="h8-1-15" class="i">+            &quot;features&quot;: {
</a><a href="#h8-1-16" id="h8-1-16" class="i">+                &quot;disabled&quot;: &quot;Disabled&quot;
</a><a href="#h8-1-17" id="h8-1-17" class="i">+            },
</a><a href="#h8-1-18" id="h8-1-18" class="i">+            &quot;social&quot;: {
</a><a href="#h8-1-19" id="h8-1-19" class="i">+                &quot;rules_title&quot;: &quot;Rules&quot;,
</a><a href="#h8-1-20" id="h8-1-20" class="i">+                &quot;participants_text&quot;: &quot;{count} participants&quot;,
</a><a href="#h8-1-21" id="h8-1-21" class="i">+                &quot;not_found&quot;: &quot;Not found&quot;,
</a><a href="#h8-1-22" id="h8-1-22" class="i">+                &quot;streaks_title&quot;: &quot;Streaks&quot;,
</a><a href="#h8-1-23" id="h8-1-23" class="i">+                &quot;streaks_length_text&quot;: &quot;Length: {length}&quot;,
</a><a href="#h8-1-24" id="h8-1-24" class="i">+                &quot;streaks_expiration_short&quot;: &quot;{hours}h&quot;,
</a><a href="#h8-1-25" id="h8-1-25" class="i">+                &quot;streaks_expiration_text&quot;: &quot;Expires in {eta}&quot;,
</a><a href="#h8-1-26" id="h8-1-26" class="i">+                &quot;reminder_button&quot;: &quot;Set Reminder&quot;
</a><a href="#h8-1-27" id="h8-1-27" class="i">+            }
</a><a href="#h8-1-28" id="h8-1-28" class="i">+        },
</a><a href="#h8-1-29" id="h8-1-29" class="i">+        &quot;dialogs&quot;: {
</a><a href="#h8-1-30" id="h8-1-30" class="i">+            &quot;add_friend&quot;: {
</a><a href="#h8-1-31" id="h8-1-31" class="i">+                &quot;title&quot;: &quot;Add Friend or Group&quot;,
</a><a href="#h8-1-32" id="h8-1-32" class="i">+                &quot;search_hint&quot;: &quot;Search&quot;,
</a><a href="#h8-1-33" id="h8-1-33" class="i">+                &quot;fetch_error&quot;: &quot;Failed to fetch data&quot;,
</a><a href="#h8-1-34" id="h8-1-34" class="i">+                &quot;category_groups&quot;: &quot;Groups&quot;,
</a><a href="#h8-1-35" id="h8-1-35" class="i">+                &quot;category_friends&quot;: &quot;Friends&quot;
</a><a href="#h8-1-36" id="h8-1-36" class="i">+            }
</a>         }
     },
 
<a href="#h8-2" id="h8-2" class="h">@@ -118,6 +154,10 @@
</a>                         &quot;name&quot;: &quot;Force Voice Note Format&quot;,
                         &quot;description&quot;: &quot;Forces Voice Notes to be saved in a specified Format&quot;
                     },
<a href="#h8-2-3" id="h8-2-3" class="i">+                    &quot;download_profile_pictures&quot;: {
</a><a href="#h8-2-4" id="h8-2-4" class="i">+                        &quot;name&quot;: &quot;Download Profile Pictures&quot;,
</a><a href="#h8-2-5" id="h8-2-5" class="i">+                        &quot;description&quot;: &quot;Allows you to download Profile Pictures from the profile page&quot;
</a><a href="#h8-2-6" id="h8-2-6" class="i">+                    },
</a>                     &quot;chat_download_context_menu&quot;: {
                         &quot;name&quot;: &quot;Chat Download Context Menu&quot;,
                         &quot;description&quot;: &quot;Allows you to download media from a conversation by long-pressing them&quot;
<a href="#h8-3" id="h8-3" class="h">@@ -577,16 +617,6 @@
</a>         &quot;birthday&quot;: &quot;Birthday : {month} {day}&quot;
     },
 
<a href="#h8-3-3" id="h8-3-3" class="d">-    &quot;auto_updater&quot;: {
</a><a href="#h8-3-4" id="h8-3-4" class="d">-        &quot;no_update_available&quot;: &quot;No Update available!&quot;,
</a><a href="#h8-3-5" id="h8-3-5" class="d">-        &quot;dialog_title&quot;: &quot;New Update available!&quot;,
</a><a href="#h8-3-6" id="h8-3-6" class="d">-        &quot;dialog_message&quot;: &quot;There is a new Update for SnapEnhance available! ({version})\n\n{body}&quot;,
</a><a href="#h8-3-7" id="h8-3-7" class="d">-        &quot;dialog_positive_button&quot;: &quot;Download and Install&quot;,
</a><a href="#h8-3-8" id="h8-3-8" class="d">-        &quot;dialog_negative_button&quot;: &quot;Cancel&quot;,
</a><a href="#h8-3-9" id="h8-3-9" class="d">-        &quot;downloading_toast&quot;: &quot;Downloading Update...&quot;,
</a><a href="#h8-3-10" id="h8-3-10" class="d">-        &quot;download_manager_notification_title&quot;: &quot;Downloading SnapEnhance APK...&quot;
</a><a href="#h8-3-11" id="h8-3-11" class="d">-    },
</a><a href="#h8-3-12" id="h8-3-12" class="d">-
</a>     &quot;chat_export&quot;: {
         &quot;select_export_format&quot;: &quot;Select the Export Format&quot;,
         &quot;select_media_type&quot;: &quot;Select Media Types to export&quot;,
<a href="#h8-4" id="h8-4" class="h">@@ -610,7 +640,15 @@
</a>         &quot;positive&quot;: &quot;Yes&quot;,
         &quot;negative&quot;: &quot;No&quot;,
         &quot;cancel&quot;: &quot;Cancel&quot;,
<a href="#h8-4-3" id="h8-4-3" class="d">-        &quot;open&quot;: &quot;Open&quot;
</a><a href="#h8-4-4" id="h8-4-4" class="i">+        &quot;open&quot;: &quot;Open&quot;,
</a><a href="#h8-4-5" id="h8-4-5" class="i">+        &quot;download&quot;: &quot;Download&quot;
</a><a href="#h8-4-6" id="h8-4-6" class="i">+    },
</a><a href="#h8-4-7" id="h8-4-7" class="i">+
</a><a href="#h8-4-8" id="h8-4-8" class="i">+    &quot;profile_picture_downloader&quot;: {
</a><a href="#h8-4-9" id="h8-4-9" class="i">+        &quot;button&quot;: &quot;Download Profile Picture&quot;,
</a><a href="#h8-4-10" id="h8-4-10" class="i">+        &quot;title&quot;: &quot;Profile Picture Downloader&quot;,
</a><a href="#h8-4-11" id="h8-4-11" class="i">+        &quot;avatar_option&quot;: &quot;Avatar&quot;,
</a><a href="#h8-4-12" id="h8-4-12" class="i">+        &quot;background_option&quot;: &quot;Background&quot;
</a>     },
 
     &quot;download_manager_activity&quot;: {
<b>diff --git a/<a id="h9" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/DownloaderConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/DownloaderConfig.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/DownloaderConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/DownloaderConfig.kt</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -41,6 +41,7 @@ class DownloaderConfig : ConfigContainer() {
</a>     val forceVoiceNoteFormat = unique(&quot;force_voice_note_format&quot;, &quot;aac&quot;, &quot;mp3&quot;, &quot;opus&quot;) {
         addFlags(ConfigFlag.NO_TRANSLATE)
     }
<a href="#h9-0-3" id="h9-0-3" class="i">+    val downloadProfilePictures = boolean(&quot;download_profile_pictures&quot;)
</a>     val chatDownloadContextMenu = boolean(&quot;chat_download_context_menu&quot;)
     val ffmpegOptions = container(&quot;ffmpeg_options&quot;, FFMpegOptions()) { addNotices(FeatureNotice.UNSTABLE) }
     val logging = multiple(&quot;logging&quot;, &quot;started&quot;, &quot;success&quot;, &quot;progress&quot;, &quot;failure&quot;).apply {
<b>diff --git a/<a id="h10" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/RootConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/RootConfig.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/RootConfig.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/core/config/impl/RootConfig.kt</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -11,6 +11,7 @@ class RootConfig : ConfigContainer() {
</a>     val rules = container(&quot;rules&quot;, Rules()) { icon = &quot;Rule&quot; }
     val camera = container(&quot;camera&quot;, Camera()) { icon = &quot;Camera&quot;}
     val streaksReminder = container(&quot;streaks_reminder&quot;, StreaksReminderConfig()) { icon = &quot;Alarm&quot; }
<a href="#h10-0-3" id="h10-0-3" class="d">-    val experimental = container(&quot;experimental&quot;, Experimental()) { icon = &quot;Science&quot;; addNotices(FeatureNotice.UNSTABLE)
</a><a href="#h10-0-4" id="h10-0-4" class="i">+    val experimental = container(&quot;experimental&quot;, Experimental()) {
</a><a href="#h10-0-5" id="h10-0-5" class="i">+        icon = &quot;Science&quot;; addNotices(FeatureNotice.UNSTABLE)
</a>     }
 } 
\ No newline at end of file
<b>diff --git a/<a id="h11" href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/ProfilePictureDownloader.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/ProfilePictureDownloader.kt</a> b/<a href="../file/core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/ProfilePictureDownloader.kt.html">core/src/main/kotlin/me/rhunk/snapenhance/features/impl/downloader/ProfilePictureDownloader.kt</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -16,6 +16,8 @@ import java.nio.ByteBuffer
</a> class ProfilePictureDownloader : Feature(&quot;ProfilePictureDownloader&quot;, loadParams = FeatureLoadParams.ACTIVITY_CREATE_ASYNC) {
     @SuppressLint(&quot;SetTextI18n&quot;)
     override fun asyncOnActivityCreate() {
<a href="#h11-0-3" id="h11-0-3" class="i">+        if (!context.config.downloader.downloadProfilePictures.get()) return
</a><a href="#h11-0-4" id="h11-0-4" class="i">+
</a>         var friendUsername: String? = null
         var backgroundUrl: String? = null
         var avatarUrl: String? = null
<a href="#h11-1" id="h11-1" class="h">@@ -24,7 +26,7 @@ class ProfilePictureDownloader : Feature(&quot;ProfilePictureDownloader&quot;, loadParams 
</a>             if (event.view::class.java.name != &quot;com.snap.unifiedpublicprofile.UnifiedPublicProfileView&quot;) return@subscribe
 
             event.parent.addView(Button(event.parent.context).apply {
<a href="#h11-1-3" id="h11-1-3" class="d">-                text = &quot;Download&quot;
</a><a href="#h11-1-4" id="h11-1-4" class="i">+                text = this@ProfilePictureDownloader.context.translation[&quot;profile_picture_downloader.button&quot;]
</a>                 layoutParams = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT).apply {
                     setMargins(0, 200, 0, 0)
                 }
<a href="#h11-2" id="h11-2" class="h">@@ -32,12 +34,14 @@ class ProfilePictureDownloader : Feature(&quot;ProfilePictureDownloader&quot;, loadParams 
</a>                     ViewAppearanceHelper.newAlertDialogBuilder(
                         this@ProfilePictureDownloader.context.mainActivity!!
                     ).apply {
<a href="#h11-2-3" id="h11-2-3" class="d">-                        setTitle(&quot;Download profile picture&quot;)
</a><a href="#h11-2-4" id="h11-2-4" class="i">+                        setTitle(this@ProfilePictureDownloader.context.translation[&quot;profile_picture_downloader.title&quot;])
</a>                         val choices = mutableMapOf&lt;String, String&gt;()
<a href="#h11-2-6" id="h11-2-6" class="d">-                        backgroundUrl?.let { choices[&quot;Background&quot;] = it }
</a><a href="#h11-2-7" id="h11-2-7" class="d">-                        avatarUrl?.let { choices[&quot;Avatar&quot;] = it }
</a><a href="#h11-2-8" id="h11-2-8" class="i">+                        backgroundUrl?.let { choices[&quot;avatar_option&quot;] = it }
</a><a href="#h11-2-9" id="h11-2-9" class="i">+                        avatarUrl?.let { choices[&quot;background_option&quot;] = it }
</a> 
<a href="#h11-2-11" id="h11-2-11" class="d">-                        setItems(choices.keys.toTypedArray()) { _, which -&gt;
</a><a href="#h11-2-12" id="h11-2-12" class="i">+                        setItems(choices.keys.map {
</a><a href="#h11-2-13" id="h11-2-13" class="i">+                            this@ProfilePictureDownloader.context.translation[&quot;profile_picture_downloader.$it&quot;]
</a><a href="#h11-2-14" id="h11-2-14" class="i">+                        }.toTypedArray()) { _, which -&gt;
</a>                             runCatching {
                                 this@ProfilePictureDownloader.context.feature(MediaDownloader::class).downloadProfilePicture(
                                     choices.values.elementAt(which),
</pre>
</div>
</body>
</html>
