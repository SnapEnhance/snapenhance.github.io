<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>refactor(common): remove native hooks feature notice - SnapEnhance - An Xposed module offering an enhanced Snapchat experience
</title>
<link rel="icon" type="image/svg+xml" href="../../logo.png"/>
<link rel="alternate icon" href="../../favicon.png"/>
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="SnapEnhance Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<link rel="stylesheet" type="text/css" href="../../fonts.css" />
</head>
<body>
<div id="head"><table><tr><td><a class="logo" href="../../"><img src="../../logo.png" alt="" width="32" height="32" /></a></td><td><strong>SnapEnhance</strong><span class="desc"> - An Xposed module offering an enhanced Snapchat experience
</span>
</td></tr></table>
<p><a href="../about.html">About</a> | <a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/LICENSE.html">License</a></p>
</div>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5fc415d56ca75f6a748a4f412215ce2767739885.html">5fc415d56ca75f6a748a4f412215ce2767739885</a>
<b>parent</b> <a href="../commit/008c094cd4e1dfa31991a3102a01c73329ec3cdf.html">008c094cd4e1dfa31991a3102a01c73329ec3cdf</a>
<b>Author:</b> rhunk &lt;<a href="mailto:101876869+rhunk@users.noreply.github.com">101876869+rhunk@users.noreply.github.com</a>&gt;
<b>Date:</b>   Wed, 26 Feb 2025 23:17:09 +0100

refactor(common): remove native hooks feature notice

Signed-off-by: rhunk &lt;101876869+rhunk@users.noreply.github.com&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/pages/features/FeaturesRootSection.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">common/src/main/assets/lang/en_US.json</a></td><td> | </td><td class="num">3</td><td><span class="i">+</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">common/src/main/kotlin/me/rhunk/snapenhance/common/config/ConfigObjects.kt</a></td><td> | </td><td class="num">7</td><td><span class="i">+</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Experimental.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Global.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/MessagingTweaks.kt</a></td><td> | </td><td class="num">3</td><td><span class="i">+</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/RootConfig.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">common/src/main/kotlin/me/rhunk/snapenhance/common/data/MessagingCoreObjects.kt</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
</table></pre><pre>8 files changed, 8 insertions(+), 15 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/pages/features/FeaturesRootSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/pages/features/FeaturesRootSection.kt</a> b/<a href="../file/app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/pages/features/FeaturesRootSection.kt.html">app/src/main/kotlin/me/rhunk/snapenhance/ui/manager/pages/features/FeaturesRootSection.kt</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -382,7 +382,6 @@ class FeaturesRootSection : Routes.Route() {
</a>             FeatureNotice.UNSTABLE.key to Color(0xFFFFFB87),
             FeatureNotice.BAN_RISK.key to Color(0xFFFF8585),
             FeatureNotice.INTERNAL_BEHAVIOR.key to Color(0xFFFFFB87),
<a href="#h0-0-3" id="h0-0-3" class="d">-            FeatureNotice.REQUIRE_NATIVE_HOOKS.key to Color(0xFFFF5722),
</a>         )
 
         val versionCheck = remember { property.key.params.versionCheck }
<a href="#h0-1" id="h0-1" class="h">@@ -426,6 +425,7 @@ class FeaturesRootSection : Routes.Route() {
</a>                     Text(
                         text = context.translation[property.key.propertyName()],
                         fontSize = 16.sp,
<a href="#h0-1-3" id="h0-1-3" class="i">+                        lineHeight = 16.sp,
</a>                         fontWeight = FontWeight.Bold
                     )
                     Text(
<b>diff --git a/<a id="h1" href="../file/common/src/main/assets/lang/en_US.json.html">common/src/main/assets/lang/en_US.json</a> b/<a href="../file/common/src/main/assets/lang/en_US.json.html">common/src/main/assets/lang/en_US.json</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -344,8 +344,7 @@
</a>         &quot;notices&quot;: {
             &quot;unstable&quot;: &quot;\u26A0 Unstable&quot;,
             &quot;ban_risk&quot;: &quot;\u26A0 This feature may cause bans&quot;,
<a href="#h1-0-3" id="h1-0-3" class="d">-            &quot;internal_behavior&quot;: &quot;\u26A0 This may break Snapchat internal behavior&quot;,
</a><a href="#h1-0-4" id="h1-0-4" class="d">-            &quot;require_native_hooks&quot;: &quot;\u26A0 This feature requires experimental Native Hooks to work correctly&quot;
</a><a href="#h1-0-5" id="h1-0-5" class="i">+            &quot;internal_behavior&quot;: &quot;\u26A0 This may break Snapchat internal behavior&quot;
</a>         },
         &quot;properties&quot;: {
             &quot;downloader&quot;: {
<b>diff --git a/<a id="h2" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/ConfigObjects.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/ConfigObjects.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/ConfigObjects.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/ConfigObjects.kt</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -16,8 +16,7 @@ enum class FeatureNotice(
</a> ) {
     UNSTABLE(&quot;unstable&quot;),
     BAN_RISK(&quot;ban_risk&quot;),
<a href="#h2-0-3" id="h2-0-3" class="d">-    INTERNAL_BEHAVIOR(&quot;internal_behavior&quot;),
</a><a href="#h2-0-4" id="h2-0-4" class="d">-    REQUIRE_NATIVE_HOOKS(&quot;require_native_hooks&quot;);
</a><a href="#h2-0-5" id="h2-0-5" class="i">+    INTERNAL_BEHAVIOR(&quot;internal_behavior&quot;);
</a> 
     val id get() = 1 shl ordinal
 }
<a href="#h2-1" id="h2-1" class="h">@@ -90,10 +89,6 @@ class ConfigParams(
</a>         this._flags = (this._flags ?: 0) or values.fold(0) { acc, flag -&gt; acc or flag.id }
     }
 
<a href="#h2-1-3" id="h2-1-3" class="d">-    fun nativeHooks() {
</a><a href="#h2-1-4" id="h2-1-4" class="d">-        addNotices(FeatureNotice.REQUIRE_NATIVE_HOOKS)
</a><a href="#h2-1-5" id="h2-1-5" class="d">-    }
</a><a href="#h2-1-6" id="h2-1-6" class="d">-
</a>     fun requireRestart() {
         addFlags(ConfigFlag.REQUIRE_RESTART)
     }
<b>diff --git a/<a id="h3" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Experimental.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Experimental.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Experimental.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Experimental.kt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -79,7 +79,7 @@ class Experimental : ConfigContainer() {
</a>     val meoPasscodeBypass = boolean(&quot;meo_passcode_bypass&quot;)
     val noFriendScoreDelay = boolean(&quot;no_friend_score_delay&quot;) { requireRestart()}
     val bestFriendPinning = boolean(&quot;best_friend_pinning&quot;) { requireRestart(); addNotices(FeatureNotice.UNSTABLE) }
<a href="#h3-0-3" id="h3-0-3" class="d">-    val e2eEncryption = container(&quot;e2ee&quot;, E2EEConfig()) { requireRestart(); nativeHooks() }
</a><a href="#h3-0-4" id="h3-0-4" class="i">+    val e2eEncryption = container(&quot;e2ee&quot;, E2EEConfig()) { requireRestart() }
</a>     val hiddenSnapchatPlusFeatures = boolean(&quot;hidden_snapchat_plus_features&quot;) {
         addNotices(FeatureNotice.BAN_RISK, FeatureNotice.UNSTABLE)
         requireRestart()
<b>diff --git a/<a id="h4" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Global.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Global.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Global.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/Global.kt</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -48,7 +48,7 @@ class Global : ConfigContainer() {
</a>     val disableMemoriesSnapFeed = boolean(&quot;disable_memories_snap_feed&quot;)
     val spotlightCommentsUsername = boolean(&quot;spotlight_comments_username&quot;) { requireRestart() }
     val bypassVideoLengthRestriction = unique(&quot;bypass_video_length_restriction&quot;, &quot;split&quot;, &quot;single&quot;) { addNotices(
<a href="#h4-0-3" id="h4-0-3" class="d">-        FeatureNotice.BAN_RISK); requireRestart(); nativeHooks() }
</a><a href="#h4-0-4" id="h4-0-4" class="i">+        FeatureNotice.BAN_RISK); requireRestart() }
</a>     val defaultVideoPlaybackRate = float(&quot;default_video_playback_rate&quot;, 1.0F) { requireRestart(); inputCheck = { (it.toFloatOrNull() ?: 1.0F) in 0.1F..4.0F} }
     val videoPlaybackRateSlider = boolean(&quot;video_playback_rate_slider&quot;) { requireRestart() }
     val disableGooglePlayDialogs = boolean(&quot;disable_google_play_dialogs&quot;) { requireRestart() }
<b>diff --git a/<a id="h5" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/MessagingTweaks.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/MessagingTweaks.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/MessagingTweaks.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/MessagingTweaks.kt</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -79,7 +79,6 @@ class MessagingTweaks : ConfigContainer() {
</a>     ) { requireRestart(); customOptionTranslationPath = &quot;content_type&quot; }
     val preventMessageSending = multiple(&quot;prevent_message_sending&quot;, *NotificationType.getOutgoingValues().map { it.key }.toTypedArray()) {
         customOptionTranslationPath = &quot;features.options.notifications&quot;
<a href="#h5-0-3" id="h5-0-3" class="d">-        nativeHooks()
</a>     }
     val friendMutationNotifier = multiple(&quot;friend_mutation_notifier&quot;,
         &quot;remove_friend&quot;,
<a href="#h5-1" id="h5-1" class="h">@@ -94,7 +93,7 @@ class MessagingTweaks : ConfigContainer() {
</a>         customOptionTranslationPath = &quot;features.options.notifications&quot;
     }
     val messageLogger = container(&quot;message_logger&quot;, MessageLoggerConfig()) { requireRestart() }
<a href="#h5-1-3" id="h5-1-3" class="d">-    val galleryMediaSendOverride = unique(&quot;gallery_media_send_override&quot;, &quot;always_ask&quot;, &quot;SNAP&quot;, &quot;NOTE&quot;, &quot;SAVEABLE_SNAP&quot;) { requireRestart(); nativeHooks() }
</a><a href="#h5-1-4" id="h5-1-4" class="i">+    val galleryMediaSendOverride = unique(&quot;gallery_media_send_override&quot;, &quot;always_ask&quot;, &quot;SNAP&quot;, &quot;NOTE&quot;, &quot;SAVEABLE_SNAP&quot;) { requireRestart() }
</a>     val stripMediaMetadata = multiple(&quot;strip_media_metadata&quot;, &quot;hide_caption_text&quot;, &quot;hide_snap_filters&quot;, &quot;hide_extras&quot;, &quot;remove_audio_note_duration&quot;, &quot;remove_audio_note_transcript_capability&quot;) { requireRestart() }
     val bypassMessageRetentionPolicy = boolean(&quot;bypass_message_retention_policy&quot;) { addNotices(FeatureNotice.UNSTABLE); requireRestart() }
     val bypassMessageActionRestrictions = boolean(&quot;bypass_message_action_restrictions&quot;) { requireRestart() }
<b>diff --git a/<a id="h6" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/RootConfig.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/RootConfig.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/RootConfig.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/config/impl/RootConfig.kt</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -18,5 +18,5 @@ class RootConfig : ConfigContainer() {
</a>     val experimental = container(&quot;experimental&quot;, Experimental()) { icon = Icons.Default.Science; addNotices(
         FeatureNotice.UNSTABLE) }
     val scripting = container(&quot;scripting&quot;, Scripting()) { icon = Icons.Default.DataObject }
<a href="#h6-0-3" id="h6-0-3" class="d">-    val friendTracker = container(&quot;friend_tracker&quot;, FriendTrackerConfig()) { icon = Icons.Default.PersonSearch; nativeHooks() }
</a><a href="#h6-0-4" id="h6-0-4" class="i">+    val friendTracker = container(&quot;friend_tracker&quot;, FriendTrackerConfig()) { icon = Icons.Default.PersonSearch }
</a> } 
\ No newline at end of file
<b>diff --git a/<a id="h7" href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/data/MessagingCoreObjects.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/data/MessagingCoreObjects.kt</a> b/<a href="../file/common/src/main/kotlin/me/rhunk/snapenhance/common/data/MessagingCoreObjects.kt.html">common/src/main/kotlin/me/rhunk/snapenhance/common/data/MessagingCoreObjects.kt</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -50,7 +50,7 @@ enum class MessagingRuleType(
</a>     AUTO_DOWNLOAD(&quot;auto_download&quot;, true, Icons.Outlined.DownloadForOffline),
     AUTO_SAVE(&quot;auto_save&quot;, true, Icons.Outlined.Save, defaultValue = &quot;blacklist&quot;),
     AUTO_OPEN_SNAPS(&quot;auto_open_snaps&quot;, true, Icons.Outlined.OpenInFull, configNotices = arrayOf(FeatureNotice.BAN_RISK, FeatureNotice.UNSTABLE), defaultValue = null),
<a href="#h7-0-3" id="h7-0-3" class="d">-    UNSAVEABLE_MESSAGES(&quot;unsaveable_messages&quot;, true, Icons.Outlined.FolderOff, configNotices = arrayOf(FeatureNotice.REQUIRE_NATIVE_HOOKS), defaultValue = null),
</a><a href="#h7-0-4" id="h7-0-4" class="i">+    UNSAVEABLE_MESSAGES(&quot;unsaveable_messages&quot;, true, Icons.Outlined.FolderOff, defaultValue = null),
</a>     HIDE_FRIEND_FEED(&quot;hide_friend_feed&quot;, false, Icons.Outlined.VisibilityOff, showInFriendMenu = false),
     E2E_ENCRYPTION(&quot;e2e_encryption&quot;, false, Icons.Outlined.Lock),
     PIN_CONVERSATION(&quot;pin_conversation&quot;, false, Icons.Outlined.PushPin, showInFriendMenu = false);
</pre>
</div>
</body>
</html>
